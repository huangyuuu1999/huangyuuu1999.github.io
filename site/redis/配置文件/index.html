
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../%E6%8C%81%E4%B9%85%E5%8C%96/">
      
      
        <link rel="next" href="../../riscv%E6%B1%87%E7%BC%96/ISA/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>配置文件 - Pineapply</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto Slab";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#redisconf" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Pineapply" class="md-header__button md-logo" aria-label="Pineapply" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pineapply
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              配置文件
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="cyan" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pineapply" class="md-nav__button md-logo" aria-label="Pineapply" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Pineapply
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python语言
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python语言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/i_scope/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    scope
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/for_i_in/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    改迭代器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/defaultdict_use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    defaultdict
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/func/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在函数里该参数的指向
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Go语言
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Go语言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/innerfunc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在函数内定义函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/innerfunc2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    闭包函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/innernested/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    闭包递归函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/slice_q/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    切片
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/slice_slice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    切片[:]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/map_q/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    map取不存在的键
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/nil/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nil究竟是什么
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/go_routine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    协程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/go_lock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    资源竞争和锁
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/error/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    错误处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/sort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    排序函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/heap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    堆
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/GMP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GMP模型
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Monkey解释器
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Monkey解释器
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monkey%E8%A7%A3%E9%87%8A%E5%99%A8/scanner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    词法解析目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monkey%E8%A7%A3%E9%87%8A%E5%99%A8/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    词法解析器roadmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monkey%E8%A7%A3%E9%87%8A%E5%99%A8/signal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    读取|判断符号
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monkey%E8%A7%A3%E9%87%8A%E5%99%A8/keyword/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    读取关键字|标识符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monkey%E8%A7%A3%E9%87%8A%E5%99%A8/ast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    语法解析
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构算法
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            数据结构算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95/topo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    拓扑排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95/prefix_diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前缀、差分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95/trie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    字典树
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据如何表示
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            数据如何表示
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E7%A4%BA/utf8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utf-8编码
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    redis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            redis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8C%81%E4%B9%85%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    持久化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    配置文件
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    riscv汇编
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            riscv汇编
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../riscv%E6%B1%87%E7%BC%96/ISA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ISA
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="redisconf">redis.conf 文件<a class="headerlink" href="#redisconf" title="Permanent link">&para;</a></h1>
<p>这是最新版本7.4.2的 <a href="https://github.com/redis/redis/blob/unstable/redis.conf">配置文件</a>
<div class="language-py highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">   1</span>
<span class="normal">   2</span>
<span class="normal">   3</span>
<span class="normal">   4</span>
<span class="normal">   5</span>
<span class="normal">   6</span>
<span class="normal">   7</span>
<span class="normal">   8</span>
<span class="normal">   9</span>
<span class="normal">  10</span>
<span class="normal">  11</span>
<span class="normal">  12</span>
<span class="normal">  13</span>
<span class="normal">  14</span>
<span class="normal">  15</span>
<span class="normal">  16</span>
<span class="normal">  17</span>
<span class="normal">  18</span>
<span class="normal">  19</span>
<span class="normal">  20</span>
<span class="normal">  21</span>
<span class="normal">  22</span>
<span class="normal">  23</span>
<span class="normal">  24</span>
<span class="normal">  25</span>
<span class="normal">  26</span>
<span class="normal">  27</span>
<span class="normal">  28</span>
<span class="normal">  29</span>
<span class="normal">  30</span>
<span class="normal">  31</span>
<span class="normal">  32</span>
<span class="normal">  33</span>
<span class="normal">  34</span>
<span class="normal">  35</span>
<span class="normal">  36</span>
<span class="normal">  37</span>
<span class="normal">  38</span>
<span class="normal">  39</span>
<span class="normal">  40</span>
<span class="normal">  41</span>
<span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><span class="c1"># Redis configuration file example.</span>
</span><span id="__span-0-2"><span class="c1">#</span>
</span><span id="__span-0-3"><span class="c1"># Note that in order to read the configuration file, Redis must be</span>
</span><span id="__span-0-4"><span class="c1"># started with the file path as first argument:</span>
</span><span id="__span-0-5"><span class="c1">#</span>
</span><span id="__span-0-6"><span class="c1"># ./redis-server /path/to/redis.conf</span>
</span><span id="__span-0-7">
</span><span id="__span-0-8"><span class="c1"># Note on units: when memory size is needed, it is possible to specify</span>
</span><span id="__span-0-9"><span class="c1"># it in the usual form of 1k 5GB 4M and so forth:</span>
</span><span id="__span-0-10"><span class="c1">#</span>
</span><span id="__span-0-11"><span class="c1"># 1k =&gt; 1000 bytes</span>
</span><span id="__span-0-12"><span class="c1"># 1kb =&gt; 1024 bytes</span>
</span><span id="__span-0-13"><span class="c1"># 1m =&gt; 1000000 bytes</span>
</span><span id="__span-0-14"><span class="c1"># 1mb =&gt; 1024*1024 bytes</span>
</span><span id="__span-0-15"><span class="c1"># 1g =&gt; 1000000000 bytes</span>
</span><span id="__span-0-16"><span class="c1"># 1gb =&gt; 1024*1024*1024 bytes</span>
</span><span id="__span-0-17"><span class="c1">#</span>
</span><span id="__span-0-18"><span class="c1"># units are case insensitive so 1GB 1Gb 1gB are all the same.</span>
</span><span id="__span-0-19">
</span><span id="__span-0-20"><span class="c1">################################## INCLUDES ###################################</span>
</span><span id="__span-0-21">
</span><span id="__span-0-22"><span class="c1"># Include one or more other config files here.  This is useful if you</span>
</span><span id="__span-0-23"><span class="c1"># have a standard template that goes to all Redis servers but also need</span>
</span><span id="__span-0-24"><span class="c1"># to customize a few per-server settings.  Include files can include</span>
</span><span id="__span-0-25"><span class="c1"># other files, so use this wisely.</span>
</span><span id="__span-0-26"><span class="c1">#</span>
</span><span id="__span-0-27"><span class="c1"># Note that option &quot;include&quot; won&#39;t be rewritten by command &quot;CONFIG REWRITE&quot;</span>
</span><span id="__span-0-28"><span class="c1"># from admin or Redis Sentinel. Since Redis always uses the last processed</span>
</span><span id="__span-0-29"><span class="c1"># line as value of a configuration directive, you&#39;d better put includes</span>
</span><span id="__span-0-30"><span class="c1"># at the beginning of this file to avoid overwriting config change at runtime.</span>
</span><span id="__span-0-31"><span class="c1">#</span>
</span><span id="__span-0-32"><span class="c1"># If instead you are interested in using includes to override configuration</span>
</span><span id="__span-0-33"><span class="c1"># options, it is better to use include as the last line.</span>
</span><span id="__span-0-34"><span class="c1">#</span>
</span><span id="__span-0-35"><span class="c1"># Included paths may contain wildcards. All files matching the wildcards will</span>
</span><span id="__span-0-36"><span class="c1"># be included in alphabetical order.</span>
</span><span id="__span-0-37"><span class="c1"># Note that if an include path contains a wildcards but no files match it when</span>
</span><span id="__span-0-38"><span class="c1"># the server is started, the include statement will be ignored and no error will</span>
</span><span id="__span-0-39"><span class="c1"># be emitted.  It is safe, therefore, to include wildcard files from empty</span>
</span><span id="__span-0-40"><span class="c1"># directories.</span>
</span><span id="__span-0-41"><span class="c1">#</span>
</span><span id="__span-0-42"><span class="c1"># include /path/to/local.conf</span>
</span><span id="__span-0-43"><span class="c1"># include /path/to/other.conf</span>
</span><span id="__span-0-44"><span class="c1"># include /path/to/fragments/*.conf</span>
</span><span id="__span-0-45"><span class="c1">#</span>
</span><span id="__span-0-46">
</span><span id="__span-0-47"><span class="c1">################################## MODULES #####################################</span>
</span><span id="__span-0-48">
</span><span id="__span-0-49"><span class="c1"># Load modules at startup. If the server is not able to load modules</span>
</span><span id="__span-0-50"><span class="c1"># it will abort. It is possible to use multiple loadmodule directives.</span>
</span><span id="__span-0-51"><span class="c1">#</span>
</span><span id="__span-0-52"><span class="c1"># loadmodule /path/to/my_module.so</span>
</span><span id="__span-0-53"><span class="c1"># loadmodule /path/to/other_module.so</span>
</span><span id="__span-0-54"><span class="c1"># loadmodule /path/to/args_module.so [arg [arg ...]]</span>
</span><span id="__span-0-55">
</span><span id="__span-0-56"><span class="c1">################################## NETWORK #####################################</span>
</span><span id="__span-0-57">
</span><span id="__span-0-58"><span class="c1"># By default, if no &quot;bind&quot; configuration directive is specified, Redis listens</span>
</span><span id="__span-0-59"><span class="c1"># for connections from all available network interfaces on the host machine.</span>
</span><span id="__span-0-60"><span class="c1"># It is possible to listen to just one or multiple selected interfaces using</span>
</span><span id="__span-0-61"><span class="c1"># the &quot;bind&quot; configuration directive, followed by one or more IP addresses.</span>
</span><span id="__span-0-62"><span class="c1"># Each address can be prefixed by &quot;-&quot;, which means that redis will not fail to</span>
</span><span id="__span-0-63"><span class="c1"># start if the address is not available. Being not available only refers to</span>
</span><span id="__span-0-64"><span class="c1"># addresses that does not correspond to any network interface. Addresses that</span>
</span><span id="__span-0-65"><span class="c1"># are already in use will always fail, and unsupported protocols will always BE</span>
</span><span id="__span-0-66"><span class="c1"># silently skipped.</span>
</span><span id="__span-0-67"><span class="c1">#</span>
</span><span id="__span-0-68"><span class="c1"># Examples:</span>
</span><span id="__span-0-69"><span class="c1">#</span>
</span><span id="__span-0-70"><span class="c1"># bind 192.168.1.100 10.0.0.1     # listens on two specific IPv4 addresses</span>
</span><span id="__span-0-71"><span class="c1"># bind 127.0.0.1 ::1              # listens on loopback IPv4 and IPv6</span>
</span><span id="__span-0-72"><span class="c1"># bind * -::*                     # like the default, all available interfaces</span>
</span><span id="__span-0-73"><span class="c1">#</span>
</span><span id="__span-0-74"><span class="c1"># ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the</span>
</span><span id="__span-0-75"><span class="c1"># internet, binding to all the interfaces is dangerous and will expose the</span>
</span><span id="__span-0-76"><span class="c1"># instance to everybody on the internet. So by default we uncomment the</span>
</span><span id="__span-0-77"><span class="c1"># following bind directive, that will force Redis to listen only on the</span>
</span><span id="__span-0-78"><span class="c1"># IPv4 and IPv6 (if available) loopback interface addresses (this means Redis</span>
</span><span id="__span-0-79"><span class="c1"># will only be able to accept client connections from the same host that it is</span>
</span><span id="__span-0-80"><span class="c1"># running on).</span>
</span><span id="__span-0-81"><span class="c1">#</span>
</span><span id="__span-0-82"><span class="c1"># IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES</span>
</span><span id="__span-0-83"><span class="c1"># COMMENT OUT THE FOLLOWING LINE.</span>
</span><span id="__span-0-84"><span class="c1">#</span>
</span><span id="__span-0-85"><span class="c1"># You will also need to set a password unless you explicitly disable protected</span>
</span><span id="__span-0-86"><span class="c1"># mode.</span>
</span><span id="__span-0-87"><span class="c1"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
</span><span id="__span-0-88"><span class="n">bind</span> <span class="mf">127.0.0.1</span> <span class="o">-</span><span class="p">::</span><span class="mi">1</span>
</span><span id="__span-0-89">
</span><span id="__span-0-90"><span class="c1"># By default, outgoing connections (from replica to master, from Sentinel to</span>
</span><span id="__span-0-91"><span class="c1"># instances, cluster bus, etc.) are not bound to a specific local address. In</span>
</span><span id="__span-0-92"><span class="c1"># most cases, this means the operating system will handle that based on routing</span>
</span><span id="__span-0-93"><span class="c1"># and the interface through which the connection goes out.</span>
</span><span id="__span-0-94"><span class="c1">#</span>
</span><span id="__span-0-95"><span class="c1"># Using bind-source-addr it is possible to configure a specific address to bind</span>
</span><span id="__span-0-96"><span class="c1"># to, which may also affect how the connection gets routed.</span>
</span><span id="__span-0-97"><span class="c1">#</span>
</span><span id="__span-0-98"><span class="c1"># Example:</span>
</span><span id="__span-0-99"><span class="c1">#</span>
</span><span id="__span-0-100"><span class="c1"># bind-source-addr 10.0.0.1</span>
</span><span id="__span-0-101">
</span><span id="__span-0-102"><span class="c1"># Protected mode is a layer of security protection, in order to avoid that</span>
</span><span id="__span-0-103"><span class="c1"># Redis instances left open on the internet are accessed and exploited.</span>
</span><span id="__span-0-104"><span class="c1">#</span>
</span><span id="__span-0-105"><span class="c1"># When protected mode is on and the default user has no password, the server</span>
</span><span id="__span-0-106"><span class="c1"># only accepts local connections from the IPv4 address (127.0.0.1), IPv6 address</span>
</span><span id="__span-0-107"><span class="c1"># (::1) or Unix domain sockets.</span>
</span><span id="__span-0-108"><span class="c1">#</span>
</span><span id="__span-0-109"><span class="c1"># By default protected mode is enabled. You should disable it only if</span>
</span><span id="__span-0-110"><span class="c1"># you are sure you want clients from other hosts to connect to Redis</span>
</span><span id="__span-0-111"><span class="c1"># even if no authentication is configured.</span>
</span><span id="__span-0-112"><span class="n">protected</span><span class="o">-</span><span class="n">mode</span> <span class="n">yes</span>
</span><span id="__span-0-113">
</span><span id="__span-0-114"><span class="c1"># Redis uses default hardened security configuration directives to reduce the</span>
</span><span id="__span-0-115"><span class="c1"># attack surface on innocent users. Therefore, several sensitive configuration</span>
</span><span id="__span-0-116"><span class="c1"># directives are immutable, and some potentially-dangerous commands are blocked.</span>
</span><span id="__span-0-117"><span class="c1">#</span>
</span><span id="__span-0-118"><span class="c1"># Configuration directives that control files that Redis writes to (e.g., &#39;dir&#39;</span>
</span><span id="__span-0-119"><span class="c1"># and &#39;dbfilename&#39;) and that aren&#39;t usually modified during runtime</span>
</span><span id="__span-0-120"><span class="c1"># are protected by making them immutable.</span>
</span><span id="__span-0-121"><span class="c1">#</span>
</span><span id="__span-0-122"><span class="c1"># Commands that can increase the attack surface of Redis and that aren&#39;t usually</span>
</span><span id="__span-0-123"><span class="c1"># called by users are blocked by default.</span>
</span><span id="__span-0-124"><span class="c1">#</span>
</span><span id="__span-0-125"><span class="c1"># These can be exposed to either all connections or just local ones by setting</span>
</span><span id="__span-0-126"><span class="c1"># each of the configs listed below to either of these values:</span>
</span><span id="__span-0-127"><span class="c1">#</span>
</span><span id="__span-0-128"><span class="c1"># no    - Block for any connection (remain immutable)</span>
</span><span id="__span-0-129"><span class="c1"># yes   - Allow for any connection (no protection)</span>
</span><span id="__span-0-130"><span class="c1"># local - Allow only for local connections. Ones originating from the</span>
</span><span id="__span-0-131"><span class="c1">#         IPv4 address (127.0.0.1), IPv6 address (::1) or Unix domain sockets.</span>
</span><span id="__span-0-132"><span class="c1">#</span>
</span><span id="__span-0-133"><span class="c1"># enable-protected-configs no</span>
</span><span id="__span-0-134"><span class="c1"># enable-debug-command no</span>
</span><span id="__span-0-135"><span class="c1"># enable-module-command no</span>
</span><span id="__span-0-136">
</span><span id="__span-0-137"><span class="c1"># Accept connections on the specified port, default is 6379 (IANA #815344).</span>
</span><span id="__span-0-138"><span class="c1"># If port 0 is specified Redis will not listen on a TCP socket.</span>
</span><span id="__span-0-139"><span class="n">port</span> <span class="mi">6379</span>
</span><span id="__span-0-140">
</span><span id="__span-0-141"><span class="c1"># TCP listen() backlog.</span>
</span><span id="__span-0-142"><span class="c1">#</span>
</span><span id="__span-0-143"><span class="c1"># In high requests-per-second environments you need a high backlog in order</span>
</span><span id="__span-0-144"><span class="c1"># to avoid slow clients connection issues. Note that the Linux kernel</span>
</span><span id="__span-0-145"><span class="c1"># will silently truncate it to the value of /proc/sys/net/core/somaxconn so</span>
</span><span id="__span-0-146"><span class="c1"># make sure to raise both the value of somaxconn and tcp_max_syn_backlog</span>
</span><span id="__span-0-147"><span class="c1"># in order to get the desired effect.</span>
</span><span id="__span-0-148"><span class="n">tcp</span><span class="o">-</span><span class="n">backlog</span> <span class="mi">511</span>
</span><span id="__span-0-149">
</span><span id="__span-0-150"><span class="c1"># Unix socket.</span>
</span><span id="__span-0-151"><span class="c1">#</span>
</span><span id="__span-0-152"><span class="c1"># Specify the path for the Unix socket that will be used to listen for</span>
</span><span id="__span-0-153"><span class="c1"># incoming connections. There is no default, so Redis will not listen</span>
</span><span id="__span-0-154"><span class="c1"># on a unix socket when not specified.</span>
</span><span id="__span-0-155"><span class="c1">#</span>
</span><span id="__span-0-156"><span class="c1"># unixsocket /run/redis.sock</span>
</span><span id="__span-0-157"><span class="c1"># unixsocketperm 700</span>
</span><span id="__span-0-158">
</span><span id="__span-0-159"><span class="c1"># Close the connection after a client is idle for N seconds (0 to disable)</span>
</span><span id="__span-0-160"><span class="n">timeout</span> <span class="mi">0</span>
</span><span id="__span-0-161">
</span><span id="__span-0-162"><span class="c1"># TCP keepalive.</span>
</span><span id="__span-0-163"><span class="c1">#</span>
</span><span id="__span-0-164"><span class="c1"># If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence</span>
</span><span id="__span-0-165"><span class="c1"># of communication. This is useful for two reasons:</span>
</span><span id="__span-0-166"><span class="c1">#</span>
</span><span id="__span-0-167"><span class="c1"># 1) Detect dead peers.</span>
</span><span id="__span-0-168"><span class="c1"># 2) Force network equipment in the middle to consider the connection to be</span>
</span><span id="__span-0-169"><span class="c1">#    alive.</span>
</span><span id="__span-0-170"><span class="c1">#</span>
</span><span id="__span-0-171"><span class="c1"># On Linux, the specified value (in seconds) is the period used to send ACKs.</span>
</span><span id="__span-0-172"><span class="c1"># Note that to close the connection the double of the time is needed.</span>
</span><span id="__span-0-173"><span class="c1"># On other kernels the period depends on the kernel configuration.</span>
</span><span id="__span-0-174"><span class="c1">#</span>
</span><span id="__span-0-175"><span class="c1"># A reasonable value for this option is 300 seconds, which is the new</span>
</span><span id="__span-0-176"><span class="c1"># Redis default starting with Redis 3.2.1.</span>
</span><span id="__span-0-177"><span class="n">tcp</span><span class="o">-</span><span class="n">keepalive</span> <span class="mi">300</span>
</span><span id="__span-0-178">
</span><span id="__span-0-179"><span class="c1"># Apply OS-specific mechanism to mark the listening socket with the specified</span>
</span><span id="__span-0-180"><span class="c1"># ID, to support advanced routing and filtering capabilities.</span>
</span><span id="__span-0-181"><span class="c1">#</span>
</span><span id="__span-0-182"><span class="c1"># On Linux, the ID represents a connection mark.</span>
</span><span id="__span-0-183"><span class="c1"># On FreeBSD, the ID represents a socket cookie ID.</span>
</span><span id="__span-0-184"><span class="c1"># On OpenBSD, the ID represents a route table ID.</span>
</span><span id="__span-0-185"><span class="c1">#</span>
</span><span id="__span-0-186"><span class="c1"># The default value is 0, which implies no marking is required.</span>
</span><span id="__span-0-187"><span class="c1"># socket-mark-id 0</span>
</span><span id="__span-0-188">
</span><span id="__span-0-189"><span class="c1">################################# TLS/SSL #####################################</span>
</span><span id="__span-0-190">
</span><span id="__span-0-191"><span class="c1"># By default, TLS/SSL is disabled. To enable it, the &quot;tls-port&quot; configuration</span>
</span><span id="__span-0-192"><span class="c1"># directive can be used to define TLS-listening ports. To enable TLS on the</span>
</span><span id="__span-0-193"><span class="c1"># default port, use:</span>
</span><span id="__span-0-194"><span class="c1">#</span>
</span><span id="__span-0-195"><span class="c1"># port 0</span>
</span><span id="__span-0-196"><span class="c1"># tls-port 6379</span>
</span><span id="__span-0-197">
</span><span id="__span-0-198"><span class="c1"># Configure a X.509 certificate and private key to use for authenticating the</span>
</span><span id="__span-0-199"><span class="c1"># server to connected clients, masters or cluster peers.  These files should be</span>
</span><span id="__span-0-200"><span class="c1"># PEM formatted.</span>
</span><span id="__span-0-201"><span class="c1">#</span>
</span><span id="__span-0-202"><span class="c1"># tls-cert-file redis.crt</span>
</span><span id="__span-0-203"><span class="c1"># tls-key-file redis.key</span>
</span><span id="__span-0-204"><span class="c1">#</span>
</span><span id="__span-0-205"><span class="c1"># If the key file is encrypted using a passphrase, it can be included here</span>
</span><span id="__span-0-206"><span class="c1"># as well.</span>
</span><span id="__span-0-207"><span class="c1">#</span>
</span><span id="__span-0-208"><span class="c1"># tls-key-file-pass secret</span>
</span><span id="__span-0-209">
</span><span id="__span-0-210"><span class="c1"># Normally Redis uses the same certificate for both server functions (accepting</span>
</span><span id="__span-0-211"><span class="c1"># connections) and client functions (replicating from a master, establishing</span>
</span><span id="__span-0-212"><span class="c1"># cluster bus connections, etc.).</span>
</span><span id="__span-0-213"><span class="c1">#</span>
</span><span id="__span-0-214"><span class="c1"># Sometimes certificates are issued with attributes that designate them as</span>
</span><span id="__span-0-215"><span class="c1"># client-only or server-only certificates. In that case it may be desired to use</span>
</span><span id="__span-0-216"><span class="c1"># different certificates for incoming (server) and outgoing (client)</span>
</span><span id="__span-0-217"><span class="c1"># connections. To do that, use the following directives:</span>
</span><span id="__span-0-218"><span class="c1">#</span>
</span><span id="__span-0-219"><span class="c1"># tls-client-cert-file client.crt</span>
</span><span id="__span-0-220"><span class="c1"># tls-client-key-file client.key</span>
</span><span id="__span-0-221"><span class="c1">#</span>
</span><span id="__span-0-222"><span class="c1"># If the key file is encrypted using a passphrase, it can be included here</span>
</span><span id="__span-0-223"><span class="c1"># as well.</span>
</span><span id="__span-0-224"><span class="c1">#</span>
</span><span id="__span-0-225"><span class="c1"># tls-client-key-file-pass secret</span>
</span><span id="__span-0-226">
</span><span id="__span-0-227"><span class="c1"># Configure a DH parameters file to enable Diffie-Hellman (DH) key exchange,</span>
</span><span id="__span-0-228"><span class="c1"># required by older versions of OpenSSL (&lt;3.0). Newer versions do not require</span>
</span><span id="__span-0-229"><span class="c1"># this configuration and recommend against it.</span>
</span><span id="__span-0-230"><span class="c1">#</span>
</span><span id="__span-0-231"><span class="c1"># tls-dh-params-file redis.dh</span>
</span><span id="__span-0-232">
</span><span id="__span-0-233"><span class="c1"># Configure a CA certificate(s) bundle or directory to authenticate TLS/SSL</span>
</span><span id="__span-0-234"><span class="c1"># clients and peers.  Redis requires an explicit configuration of at least one</span>
</span><span id="__span-0-235"><span class="c1"># of these, and will not implicitly use the system wide configuration.</span>
</span><span id="__span-0-236"><span class="c1">#</span>
</span><span id="__span-0-237"><span class="c1"># tls-ca-cert-file ca.crt</span>
</span><span id="__span-0-238"><span class="c1"># tls-ca-cert-dir /etc/ssl/certs</span>
</span><span id="__span-0-239">
</span><span id="__span-0-240"><span class="c1"># By default, clients (including replica servers) on a TLS port are required</span>
</span><span id="__span-0-241"><span class="c1"># to authenticate using valid client side certificates.</span>
</span><span id="__span-0-242"><span class="c1">#</span>
</span><span id="__span-0-243"><span class="c1"># If &quot;no&quot; is specified, client certificates are not required and not accepted.</span>
</span><span id="__span-0-244"><span class="c1"># If &quot;optional&quot; is specified, client certificates are accepted and must be</span>
</span><span id="__span-0-245"><span class="c1"># valid if provided, but are not required.</span>
</span><span id="__span-0-246"><span class="c1">#</span>
</span><span id="__span-0-247"><span class="c1"># tls-auth-clients no</span>
</span><span id="__span-0-248"><span class="c1"># tls-auth-clients optional</span>
</span><span id="__span-0-249">
</span><span id="__span-0-250"><span class="c1"># By default, a Redis replica does not attempt to establish a TLS connection</span>
</span><span id="__span-0-251"><span class="c1"># with its master.</span>
</span><span id="__span-0-252"><span class="c1">#</span>
</span><span id="__span-0-253"><span class="c1"># Use the following directive to enable TLS on replication links.</span>
</span><span id="__span-0-254"><span class="c1">#</span>
</span><span id="__span-0-255"><span class="c1"># tls-replication yes</span>
</span><span id="__span-0-256">
</span><span id="__span-0-257"><span class="c1"># By default, the Redis Cluster bus uses a plain TCP connection. To enable</span>
</span><span id="__span-0-258"><span class="c1"># TLS for the bus protocol, use the following directive:</span>
</span><span id="__span-0-259"><span class="c1">#</span>
</span><span id="__span-0-260"><span class="c1"># tls-cluster yes</span>
</span><span id="__span-0-261">
</span><span id="__span-0-262"><span class="c1"># By default, only TLSv1.2 and TLSv1.3 are enabled and it is highly recommended</span>
</span><span id="__span-0-263"><span class="c1"># that older formally deprecated versions are kept disabled to reduce the attack surface.</span>
</span><span id="__span-0-264"><span class="c1"># You can explicitly specify TLS versions to support.</span>
</span><span id="__span-0-265"><span class="c1"># Allowed values are case insensitive and include &quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;,</span>
</span><span id="__span-0-266"><span class="c1"># &quot;TLSv1.3&quot; (OpenSSL &gt;= 1.1.1) or any combination.</span>
</span><span id="__span-0-267"><span class="c1"># To enable only TLSv1.2 and TLSv1.3, use:</span>
</span><span id="__span-0-268"><span class="c1">#</span>
</span><span id="__span-0-269"><span class="c1"># tls-protocols &quot;TLSv1.2 TLSv1.3&quot;</span>
</span><span id="__span-0-270">
</span><span id="__span-0-271"><span class="c1"># Configure allowed ciphers.  See the ciphers(1ssl) manpage for more information</span>
</span><span id="__span-0-272"><span class="c1"># about the syntax of this string.</span>
</span><span id="__span-0-273"><span class="c1">#</span>
</span><span id="__span-0-274"><span class="c1"># Note: this configuration applies only to &lt;= TLSv1.2.</span>
</span><span id="__span-0-275"><span class="c1">#</span>
</span><span id="__span-0-276"><span class="c1"># tls-ciphers DEFAULT:!MEDIUM</span>
</span><span id="__span-0-277">
</span><span id="__span-0-278"><span class="c1"># Configure allowed TLSv1.3 ciphersuites.  See the ciphers(1ssl) manpage for more</span>
</span><span id="__span-0-279"><span class="c1"># information about the syntax of this string, and specifically for TLSv1.3</span>
</span><span id="__span-0-280"><span class="c1"># ciphersuites.</span>
</span><span id="__span-0-281"><span class="c1">#</span>
</span><span id="__span-0-282"><span class="c1"># tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256</span>
</span><span id="__span-0-283">
</span><span id="__span-0-284"><span class="c1"># When choosing a cipher, use the server&#39;s preference instead of the client</span>
</span><span id="__span-0-285"><span class="c1"># preference. By default, the server follows the client&#39;s preference.</span>
</span><span id="__span-0-286"><span class="c1">#</span>
</span><span id="__span-0-287"><span class="c1"># tls-prefer-server-ciphers yes</span>
</span><span id="__span-0-288">
</span><span id="__span-0-289"><span class="c1"># By default, TLS session caching is enabled to allow faster and less expensive</span>
</span><span id="__span-0-290"><span class="c1"># reconnections by clients that support it. Use the following directive to disable</span>
</span><span id="__span-0-291"><span class="c1"># caching.</span>
</span><span id="__span-0-292"><span class="c1">#</span>
</span><span id="__span-0-293"><span class="c1"># tls-session-caching no</span>
</span><span id="__span-0-294">
</span><span id="__span-0-295"><span class="c1"># Change the default number of TLS sessions cached. A zero value sets the cache</span>
</span><span id="__span-0-296"><span class="c1"># to unlimited size. The default size is 20480.</span>
</span><span id="__span-0-297"><span class="c1">#</span>
</span><span id="__span-0-298"><span class="c1"># tls-session-cache-size 5000</span>
</span><span id="__span-0-299">
</span><span id="__span-0-300"><span class="c1"># Change the default timeout of cached TLS sessions. The default timeout is 300</span>
</span><span id="__span-0-301"><span class="c1"># seconds.</span>
</span><span id="__span-0-302"><span class="c1">#</span>
</span><span id="__span-0-303"><span class="c1"># tls-session-cache-timeout 60</span>
</span><span id="__span-0-304">
</span><span id="__span-0-305"><span class="c1">################################# GENERAL #####################################</span>
</span><span id="__span-0-306">
</span><span id="__span-0-307"><span class="c1"># By default Redis does not run as a daemon. Use &#39;yes&#39; if you need it.</span>
</span><span id="__span-0-308"><span class="c1"># Note that Redis will write a pid file in /var/run/redis.pid when daemonized.</span>
</span><span id="__span-0-309"><span class="c1"># When Redis is supervised by upstart or systemd, this parameter has no impact.</span>
</span><span id="__span-0-310"><span class="n">daemonize</span> <span class="n">no</span>
</span><span id="__span-0-311">
</span><span id="__span-0-312"><span class="c1"># If you run Redis from upstart or systemd, Redis can interact with your</span>
</span><span id="__span-0-313"><span class="c1"># supervision tree. Options:</span>
</span><span id="__span-0-314"><span class="c1">#   supervised no      - no supervision interaction</span>
</span><span id="__span-0-315"><span class="c1">#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode</span>
</span><span id="__span-0-316"><span class="c1">#                        requires &quot;expect stop&quot; in your upstart job config</span>
</span><span id="__span-0-317"><span class="c1">#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET</span>
</span><span id="__span-0-318"><span class="c1">#                        on startup, and updating Redis status on a regular</span>
</span><span id="__span-0-319"><span class="c1">#                        basis.</span>
</span><span id="__span-0-320"><span class="c1">#   supervised auto    - detect upstart or systemd method based on</span>
</span><span id="__span-0-321"><span class="c1">#                        UPSTART_JOB or NOTIFY_SOCKET environment variables</span>
</span><span id="__span-0-322"><span class="c1"># Note: these supervision methods only signal &quot;process is ready.&quot;</span>
</span><span id="__span-0-323"><span class="c1">#       They do not enable continuous pings back to your supervisor.</span>
</span><span id="__span-0-324"><span class="c1">#</span>
</span><span id="__span-0-325"><span class="c1"># The default is &quot;no&quot;. To run under upstart/systemd, you can simply uncomment</span>
</span><span id="__span-0-326"><span class="c1"># the line below:</span>
</span><span id="__span-0-327"><span class="c1">#</span>
</span><span id="__span-0-328"><span class="c1"># supervised auto</span>
</span><span id="__span-0-329">
</span><span id="__span-0-330"><span class="c1"># If a pid file is specified, Redis writes it where specified at startup</span>
</span><span id="__span-0-331"><span class="c1"># and removes it at exit.</span>
</span><span id="__span-0-332"><span class="c1">#</span>
</span><span id="__span-0-333"><span class="c1"># When the server runs non daemonized, no pid file is created if none is</span>
</span><span id="__span-0-334"><span class="c1"># specified in the configuration. When the server is daemonized, the pid file</span>
</span><span id="__span-0-335"><span class="c1"># is used even if not specified, defaulting to &quot;/var/run/redis.pid&quot;.</span>
</span><span id="__span-0-336"><span class="c1">#</span>
</span><span id="__span-0-337"><span class="c1"># Creating a pid file is best effort: if Redis is not able to create it</span>
</span><span id="__span-0-338"><span class="c1"># nothing bad happens, the server will start and run normally.</span>
</span><span id="__span-0-339"><span class="c1">#</span>
</span><span id="__span-0-340"><span class="c1"># Note that on modern Linux systems &quot;/run/redis.pid&quot; is more conforming</span>
</span><span id="__span-0-341"><span class="c1"># and should be used instead.</span>
</span><span id="__span-0-342"><span class="n">pidfile</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">redis_6379</span><span class="o">.</span><span class="n">pid</span>
</span><span id="__span-0-343">
</span><span id="__span-0-344"><span class="c1"># Specify the server verbosity level.</span>
</span><span id="__span-0-345"><span class="c1"># This can be one of:</span>
</span><span id="__span-0-346"><span class="c1"># debug (a lot of information, useful for development/testing)</span>
</span><span id="__span-0-347"><span class="c1"># verbose (many rarely useful info, but not a mess like the debug level)</span>
</span><span id="__span-0-348"><span class="c1"># notice (moderately verbose, what you want in production probably)</span>
</span><span id="__span-0-349"><span class="c1"># warning (only very important / critical messages are logged)</span>
</span><span id="__span-0-350"><span class="c1"># nothing (nothing is logged)</span>
</span><span id="__span-0-351"><span class="n">loglevel</span> <span class="n">notice</span>
</span><span id="__span-0-352">
</span><span id="__span-0-353"><span class="c1"># Specify the log file name. Also the empty string can be used to force</span>
</span><span id="__span-0-354"><span class="c1"># Redis to log on the standard output. Note that if you use standard</span>
</span><span id="__span-0-355"><span class="c1"># output for logging but daemonize, logs will be sent to /dev/null</span>
</span><span id="__span-0-356"><span class="n">logfile</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-357">
</span><span id="__span-0-358"><span class="c1"># To enable logging to the system logger, just set &#39;syslog-enabled&#39; to yes,</span>
</span><span id="__span-0-359"><span class="c1"># and optionally update the other syslog parameters to suit your needs.</span>
</span><span id="__span-0-360"><span class="c1"># syslog-enabled no</span>
</span><span id="__span-0-361">
</span><span id="__span-0-362"><span class="c1"># Specify the syslog identity.</span>
</span><span id="__span-0-363"><span class="c1"># syslog-ident redis</span>
</span><span id="__span-0-364">
</span><span id="__span-0-365"><span class="c1"># Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.</span>
</span><span id="__span-0-366"><span class="c1"># syslog-facility local0</span>
</span><span id="__span-0-367">
</span><span id="__span-0-368"><span class="c1"># To disable the built in crash log, which will possibly produce cleaner core</span>
</span><span id="__span-0-369"><span class="c1"># dumps when they are needed, uncomment the following:</span>
</span><span id="__span-0-370"><span class="c1">#</span>
</span><span id="__span-0-371"><span class="c1"># crash-log-enabled no</span>
</span><span id="__span-0-372">
</span><span id="__span-0-373"><span class="c1"># To disable the fast memory check that&#39;s run as part of the crash log, which</span>
</span><span id="__span-0-374"><span class="c1"># will possibly let redis terminate sooner, uncomment the following:</span>
</span><span id="__span-0-375"><span class="c1">#</span>
</span><span id="__span-0-376"><span class="c1"># crash-memcheck-enabled no</span>
</span><span id="__span-0-377">
</span><span id="__span-0-378"><span class="c1"># Set the number of databases. The default database is DB 0, you can select</span>
</span><span id="__span-0-379"><span class="c1"># a different one on a per-connection basis using SELECT &lt;dbid&gt; where</span>
</span><span id="__span-0-380"><span class="c1"># dbid is a number between 0 and &#39;databases&#39;-1</span>
</span><span id="__span-0-381"><span class="n">databases</span> <span class="mi">16</span>
</span><span id="__span-0-382">
</span><span id="__span-0-383"><span class="c1"># By default Redis shows an ASCII art logo only when started to log to the</span>
</span><span id="__span-0-384"><span class="c1"># standard output and if the standard output is a TTY and syslog logging is</span>
</span><span id="__span-0-385"><span class="c1"># disabled. Basically this means that normally a logo is displayed only in</span>
</span><span id="__span-0-386"><span class="c1"># interactive sessions.</span>
</span><span id="__span-0-387"><span class="c1">#</span>
</span><span id="__span-0-388"><span class="c1"># However it is possible to force the pre-4.0 behavior and always show a</span>
</span><span id="__span-0-389"><span class="c1"># ASCII art logo in startup logs by setting the following option to yes.</span>
</span><span id="__span-0-390"><span class="n">always</span><span class="o">-</span><span class="n">show</span><span class="o">-</span><span class="n">logo</span> <span class="n">no</span>
</span><span id="__span-0-391">
</span><span id="__span-0-392"><span class="c1"># To avoid logging personal identifiable information (PII) into server log file,</span>
</span><span id="__span-0-393"><span class="c1"># uncomment the following:</span>
</span><span id="__span-0-394"><span class="c1">#</span>
</span><span id="__span-0-395"><span class="c1"># hide-user-data-from-log yes</span>
</span><span id="__span-0-396">
</span><span id="__span-0-397"><span class="c1"># By default, Redis modifies the process title (as seen in &#39;top&#39; and &#39;ps&#39;) to</span>
</span><span id="__span-0-398"><span class="c1"># provide some runtime information. It is possible to disable this and leave</span>
</span><span id="__span-0-399"><span class="c1"># the process name as executed by setting the following to no.</span>
</span><span id="__span-0-400"><span class="nb">set</span><span class="o">-</span><span class="n">proc</span><span class="o">-</span><span class="n">title</span> <span class="n">yes</span>
</span><span id="__span-0-401">
</span><span id="__span-0-402"><span class="c1"># When changing the process title, Redis uses the following template to construct</span>
</span><span id="__span-0-403"><span class="c1"># the modified title.</span>
</span><span id="__span-0-404"><span class="c1">#</span>
</span><span id="__span-0-405"><span class="c1"># Template variables are specified in curly brackets. The following variables are</span>
</span><span id="__span-0-406"><span class="c1"># supported:</span>
</span><span id="__span-0-407"><span class="c1">#</span>
</span><span id="__span-0-408"><span class="c1"># {title}           Name of process as executed if parent, or type of child process.</span>
</span><span id="__span-0-409"><span class="c1"># {listen-addr}     Bind address or &#39;*&#39; followed by TCP or TLS port listening on, or</span>
</span><span id="__span-0-410"><span class="c1">#                   Unix socket if only that&#39;s available.</span>
</span><span id="__span-0-411"><span class="c1"># {server-mode}     Special mode, i.e. &quot;[sentinel]&quot; or &quot;[cluster]&quot;.</span>
</span><span id="__span-0-412"><span class="c1"># {port}            TCP port listening on, or 0.</span>
</span><span id="__span-0-413"><span class="c1"># {tls-port}        TLS port listening on, or 0.</span>
</span><span id="__span-0-414"><span class="c1"># {unixsocket}      Unix domain socket listening on, or &quot;&quot;.</span>
</span><span id="__span-0-415"><span class="c1"># {config-file}     Name of configuration file used.</span>
</span><span id="__span-0-416"><span class="c1">#</span>
</span><span id="__span-0-417"><span class="n">proc</span><span class="o">-</span><span class="n">title</span><span class="o">-</span><span class="n">template</span> <span class="s2">&quot;</span><span class="si">{title}</span><span class="s2"> {listen-addr} {server-mode}&quot;</span>
</span><span id="__span-0-418">
</span><span id="__span-0-419"><span class="c1"># Set the local environment which is used for string comparison operations, and </span>
</span><span id="__span-0-420"><span class="c1"># also affect the performance of Lua scripts. Empty String indicates the locale </span>
</span><span id="__span-0-421"><span class="c1"># is derived from the environment variables.</span>
</span><span id="__span-0-422"><span class="n">locale</span><span class="o">-</span><span class="n">collate</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-423">
</span><span id="__span-0-424"><span class="c1">################################ SNAPSHOTTING  ################################</span>
</span><span id="__span-0-425">
</span><span id="__span-0-426"><span class="c1"># Save the DB to disk.</span>
</span><span id="__span-0-427"><span class="c1">#</span>
</span><span id="__span-0-428"><span class="c1"># save &lt;seconds&gt; &lt;changes&gt; [&lt;seconds&gt; &lt;changes&gt; ...]</span>
</span><span id="__span-0-429"><span class="c1">#</span>
</span><span id="__span-0-430"><span class="c1"># Redis will save the DB if the given number of seconds elapsed and it</span>
</span><span id="__span-0-431"><span class="c1"># surpassed the given number of write operations against the DB.</span>
</span><span id="__span-0-432"><span class="c1">#</span>
</span><span id="__span-0-433"><span class="c1"># Snapshotting can be completely disabled with a single empty string argument</span>
</span><span id="__span-0-434"><span class="c1"># as in following example:</span>
</span><span id="__span-0-435"><span class="c1">#</span>
</span><span id="__span-0-436"><span class="c1"># save &quot;&quot;</span>
</span><span id="__span-0-437"><span class="c1">#</span>
</span><span id="__span-0-438"><span class="c1"># Unless specified otherwise, by default Redis will save the DB:</span>
</span><span id="__span-0-439"><span class="c1">#   * After 3600 seconds (an hour) if at least 1 change was performed</span>
</span><span id="__span-0-440"><span class="c1">#   * After 300 seconds (5 minutes) if at least 100 changes were performed</span>
</span><span id="__span-0-441"><span class="c1">#   * After 60 seconds if at least 10000 changes were performed</span>
</span><span id="__span-0-442"><span class="c1">#</span>
</span><span id="__span-0-443"><span class="c1"># You can set these explicitly by uncommenting the following line.</span>
</span><span id="__span-0-444"><span class="c1">#</span>
</span><span id="__span-0-445"><span class="c1"># save 3600 1 300 100 60 10000</span>
</span><span id="__span-0-446">
</span><span id="__span-0-447"><span class="c1"># By default Redis will stop accepting writes if RDB snapshots are enabled</span>
</span><span id="__span-0-448"><span class="c1"># (at least one save point) and the latest background save failed.</span>
</span><span id="__span-0-449"><span class="c1"># This will make the user aware (in a hard way) that data is not persisting</span>
</span><span id="__span-0-450"><span class="c1"># on disk properly, otherwise chances are that no one will notice and some</span>
</span><span id="__span-0-451"><span class="c1"># disaster will happen.</span>
</span><span id="__span-0-452"><span class="c1">#</span>
</span><span id="__span-0-453"><span class="c1"># If the background saving process will start working again Redis will</span>
</span><span id="__span-0-454"><span class="c1"># automatically allow writes again.</span>
</span><span id="__span-0-455"><span class="c1">#</span>
</span><span id="__span-0-456"><span class="c1"># However if you have setup your proper monitoring of the Redis server</span>
</span><span id="__span-0-457"><span class="c1"># and persistence, you may want to disable this feature so that Redis will</span>
</span><span id="__span-0-458"><span class="c1"># continue to work as usual even if there are problems with disk,</span>
</span><span id="__span-0-459"><span class="c1"># permissions, and so forth.</span>
</span><span id="__span-0-460"><span class="n">stop</span><span class="o">-</span><span class="n">writes</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">bgsave</span><span class="o">-</span><span class="n">error</span> <span class="n">yes</span>
</span><span id="__span-0-461">
</span><span id="__span-0-462"><span class="c1"># Compress string objects using LZF when dump .rdb databases?</span>
</span><span id="__span-0-463"><span class="c1"># By default compression is enabled as it&#39;s almost always a win.</span>
</span><span id="__span-0-464"><span class="c1"># If you want to save some CPU in the saving child set it to &#39;no&#39; but</span>
</span><span id="__span-0-465"><span class="c1"># the dataset will likely be bigger if you have compressible values or keys.</span>
</span><span id="__span-0-466"><span class="n">rdbcompression</span> <span class="n">yes</span>
</span><span id="__span-0-467">
</span><span id="__span-0-468"><span class="c1"># Since version 5 of RDB a CRC64 checksum is placed at the end of the file.</span>
</span><span id="__span-0-469"><span class="c1"># This makes the format more resistant to corruption but there is a performance</span>
</span><span id="__span-0-470"><span class="c1"># hit to pay (around 10%) when saving and loading RDB files, so you can disable it</span>
</span><span id="__span-0-471"><span class="c1"># for maximum performances.</span>
</span><span id="__span-0-472"><span class="c1">#</span>
</span><span id="__span-0-473"><span class="c1"># RDB files created with checksum disabled have a checksum of zero that will</span>
</span><span id="__span-0-474"><span class="c1"># tell the loading code to skip the check.</span>
</span><span id="__span-0-475"><span class="n">rdbchecksum</span> <span class="n">yes</span>
</span><span id="__span-0-476">
</span><span id="__span-0-477"><span class="c1"># Enables or disables full sanitization checks for ziplist and listpack etc when</span>
</span><span id="__span-0-478"><span class="c1"># loading an RDB or RESTORE payload. This reduces the chances of a assertion or</span>
</span><span id="__span-0-479"><span class="c1"># crash later on while processing commands.</span>
</span><span id="__span-0-480"><span class="c1"># Options:</span>
</span><span id="__span-0-481"><span class="c1">#   no         - Never perform full sanitization</span>
</span><span id="__span-0-482"><span class="c1">#   yes        - Always perform full sanitization</span>
</span><span id="__span-0-483"><span class="c1">#   clients    - Perform full sanitization only for user connections.</span>
</span><span id="__span-0-484"><span class="c1">#                Excludes: RDB files, RESTORE commands received from the master</span>
</span><span id="__span-0-485"><span class="c1">#                connection, and client connections which have the</span>
</span><span id="__span-0-486"><span class="c1">#                skip-sanitize-payload ACL flag.</span>
</span><span id="__span-0-487"><span class="c1"># The default should be &#39;clients&#39; but since it currently affects cluster</span>
</span><span id="__span-0-488"><span class="c1"># resharding via MIGRATE, it is temporarily set to &#39;no&#39; by default.</span>
</span><span id="__span-0-489"><span class="c1">#</span>
</span><span id="__span-0-490"><span class="c1"># sanitize-dump-payload no</span>
</span><span id="__span-0-491">
</span><span id="__span-0-492"><span class="c1"># The filename where to dump the DB</span>
</span><span id="__span-0-493"><span class="n">dbfilename</span> <span class="n">dump</span><span class="o">.</span><span class="n">rdb</span>
</span><span id="__span-0-494">
</span><span id="__span-0-495"><span class="c1"># Remove RDB files used by replication in instances without persistence</span>
</span><span id="__span-0-496"><span class="c1"># enabled. By default this option is disabled, however there are environments</span>
</span><span id="__span-0-497"><span class="c1"># where for regulations or other security concerns, RDB files persisted on</span>
</span><span id="__span-0-498"><span class="c1"># disk by masters in order to feed replicas, or stored on disk by replicas</span>
</span><span id="__span-0-499"><span class="c1"># in order to load them for the initial synchronization, should be deleted</span>
</span><span id="__span-0-500"><span class="c1"># ASAP. Note that this option ONLY WORKS in instances that have both AOF</span>
</span><span id="__span-0-501"><span class="c1"># and RDB persistence disabled, otherwise is completely ignored.</span>
</span><span id="__span-0-502"><span class="c1">#</span>
</span><span id="__span-0-503"><span class="c1"># An alternative (and sometimes better) way to obtain the same effect is</span>
</span><span id="__span-0-504"><span class="c1"># to use diskless replication on both master and replicas instances. However</span>
</span><span id="__span-0-505"><span class="c1"># in the case of replicas, diskless is not always an option.</span>
</span><span id="__span-0-506"><span class="n">rdb</span><span class="o">-</span><span class="k">del</span><span class="o">-</span><span class="n">sync</span><span class="o">-</span><span class="n">files</span> <span class="n">no</span>
</span><span id="__span-0-507">
</span><span id="__span-0-508"><span class="c1"># The working directory.</span>
</span><span id="__span-0-509"><span class="c1">#</span>
</span><span id="__span-0-510"><span class="c1"># The DB will be written inside this directory, with the filename specified</span>
</span><span id="__span-0-511"><span class="c1"># above using the &#39;dbfilename&#39; configuration directive.</span>
</span><span id="__span-0-512"><span class="c1">#</span>
</span><span id="__span-0-513"><span class="c1"># The Append Only File will also be created inside this directory.</span>
</span><span id="__span-0-514"><span class="c1">#</span>
</span><span id="__span-0-515"><span class="c1"># Note that you must specify a directory here, not a file name.</span>
</span><span id="__span-0-516"><span class="nb">dir</span> <span class="o">./</span>
</span><span id="__span-0-517">
</span><span id="__span-0-518"><span class="c1">################################# REPLICATION #################################</span>
</span><span id="__span-0-519">
</span><span id="__span-0-520"><span class="c1"># Master-Replica replication. Use replicaof to make a Redis instance a copy of</span>
</span><span id="__span-0-521"><span class="c1"># another Redis server. A few things to understand ASAP about Redis replication.</span>
</span><span id="__span-0-522"><span class="c1">#</span>
</span><span id="__span-0-523"><span class="c1">#   +------------------+      +---------------+</span>
</span><span id="__span-0-524"><span class="c1">#   |      Master      | ---&gt; |    Replica    |</span>
</span><span id="__span-0-525"><span class="c1">#   | (receive writes) |      |  (exact copy) |</span>
</span><span id="__span-0-526"><span class="c1">#   +------------------+      +---------------+</span>
</span><span id="__span-0-527"><span class="c1">#</span>
</span><span id="__span-0-528"><span class="c1"># 1) Redis replication is asynchronous, but you can configure a master to</span>
</span><span id="__span-0-529"><span class="c1">#    stop accepting writes if it appears to be not connected with at least</span>
</span><span id="__span-0-530"><span class="c1">#    a given number of replicas.</span>
</span><span id="__span-0-531"><span class="c1"># 2) Redis replicas are able to perform a partial resynchronization with the</span>
</span><span id="__span-0-532"><span class="c1">#    master if the replication link is lost for a relatively small amount of</span>
</span><span id="__span-0-533"><span class="c1">#    time. You may want to configure the replication backlog size (see the next</span>
</span><span id="__span-0-534"><span class="c1">#    sections of this file) with a sensible value depending on your needs.</span>
</span><span id="__span-0-535"><span class="c1"># 3) Replication is automatic and does not need user intervention. After a</span>
</span><span id="__span-0-536"><span class="c1">#    network partition replicas automatically try to reconnect to masters</span>
</span><span id="__span-0-537"><span class="c1">#    and resynchronize with them.</span>
</span><span id="__span-0-538"><span class="c1">#</span>
</span><span id="__span-0-539"><span class="c1"># replicaof &lt;masterip&gt; &lt;masterport&gt;</span>
</span><span id="__span-0-540">
</span><span id="__span-0-541"><span class="c1"># If the master is password protected (using the &quot;requirepass&quot; configuration</span>
</span><span id="__span-0-542"><span class="c1"># directive below) it is possible to tell the replica to authenticate before</span>
</span><span id="__span-0-543"><span class="c1"># starting the replication synchronization process, otherwise the master will</span>
</span><span id="__span-0-544"><span class="c1"># refuse the replica request.</span>
</span><span id="__span-0-545"><span class="c1">#</span>
</span><span id="__span-0-546"><span class="c1"># masterauth &lt;master-password&gt;</span>
</span><span id="__span-0-547"><span class="c1">#</span>
</span><span id="__span-0-548"><span class="c1"># However this is not enough if you are using Redis ACLs (for Redis version</span>
</span><span id="__span-0-549"><span class="c1"># 6 or greater), and the default user is not capable of running the PSYNC</span>
</span><span id="__span-0-550"><span class="c1"># command and/or other commands needed for replication. In this case it&#39;s</span>
</span><span id="__span-0-551"><span class="c1"># better to configure a special user to use with replication, and specify the</span>
</span><span id="__span-0-552"><span class="c1"># masteruser configuration as such:</span>
</span><span id="__span-0-553"><span class="c1">#</span>
</span><span id="__span-0-554"><span class="c1"># masteruser &lt;username&gt;</span>
</span><span id="__span-0-555"><span class="c1">#</span>
</span><span id="__span-0-556"><span class="c1"># When masteruser is specified, the replica will authenticate against its</span>
</span><span id="__span-0-557"><span class="c1"># master using the new AUTH form: AUTH &lt;username&gt; &lt;password&gt;.</span>
</span><span id="__span-0-558">
</span><span id="__span-0-559"><span class="c1"># When a replica loses its connection with the master, or when the replication</span>
</span><span id="__span-0-560"><span class="c1"># is still in progress, the replica can act in two different ways:</span>
</span><span id="__span-0-561"><span class="c1">#</span>
</span><span id="__span-0-562"><span class="c1"># 1) if replica-serve-stale-data is set to &#39;yes&#39; (the default) the replica will</span>
</span><span id="__span-0-563"><span class="c1">#    still reply to client requests, possibly with out of date data, or the</span>
</span><span id="__span-0-564"><span class="c1">#    data set may just be empty if this is the first synchronization.</span>
</span><span id="__span-0-565"><span class="c1">#</span>
</span><span id="__span-0-566"><span class="c1"># 2) If replica-serve-stale-data is set to &#39;no&#39; the replica will reply with error</span>
</span><span id="__span-0-567"><span class="c1">#    &quot;MASTERDOWN Link with MASTER is down and replica-serve-stale-data is set to &#39;no&#39;&quot;</span>
</span><span id="__span-0-568"><span class="c1">#    to all data access commands, excluding commands such as:</span>
</span><span id="__span-0-569"><span class="c1">#    INFO, REPLICAOF, AUTH, SHUTDOWN, REPLCONF, ROLE, CONFIG, SUBSCRIBE,</span>
</span><span id="__span-0-570"><span class="c1">#    UNSUBSCRIBE, PSUBSCRIBE, PUNSUBSCRIBE, PUBLISH, PUBSUB, COMMAND, POST,</span>
</span><span id="__span-0-571"><span class="c1">#    HOST and LATENCY.</span>
</span><span id="__span-0-572"><span class="c1">#</span>
</span><span id="__span-0-573"><span class="n">replica</span><span class="o">-</span><span class="n">serve</span><span class="o">-</span><span class="n">stale</span><span class="o">-</span><span class="n">data</span> <span class="n">yes</span>
</span><span id="__span-0-574">
</span><span id="__span-0-575"><span class="c1"># You can configure a replica instance to accept writes or not. Writing against</span>
</span><span id="__span-0-576"><span class="c1"># a replica instance may be useful to store some ephemeral data (because data</span>
</span><span id="__span-0-577"><span class="c1"># written on a replica will be easily deleted after resync with the master) but</span>
</span><span id="__span-0-578"><span class="c1"># may also cause problems if clients are writing to it because of a</span>
</span><span id="__span-0-579"><span class="c1"># misconfiguration.</span>
</span><span id="__span-0-580"><span class="c1">#</span>
</span><span id="__span-0-581"><span class="c1"># Since Redis 2.6 by default replicas are read-only.</span>
</span><span id="__span-0-582"><span class="c1">#</span>
</span><span id="__span-0-583"><span class="c1"># Note: read only replicas are not designed to be exposed to untrusted clients</span>
</span><span id="__span-0-584"><span class="c1"># on the internet. It&#39;s just a protection layer against misuse of the instance.</span>
</span><span id="__span-0-585"><span class="c1"># Still a read only replica exports by default all the administrative commands</span>
</span><span id="__span-0-586"><span class="c1"># such as CONFIG, DEBUG, and so forth. To a limited extent you can improve</span>
</span><span id="__span-0-587"><span class="c1"># security of read only replicas using &#39;rename-command&#39; to shadow all the</span>
</span><span id="__span-0-588"><span class="c1"># administrative / dangerous commands.</span>
</span><span id="__span-0-589"><span class="n">replica</span><span class="o">-</span><span class="n">read</span><span class="o">-</span><span class="n">only</span> <span class="n">yes</span>
</span><span id="__span-0-590">
</span><span id="__span-0-591"><span class="c1"># Replication SYNC strategy: disk or socket.</span>
</span><span id="__span-0-592"><span class="c1">#</span>
</span><span id="__span-0-593"><span class="c1"># New replicas and reconnecting replicas that are not able to continue the</span>
</span><span id="__span-0-594"><span class="c1"># replication process just receiving differences, need to do what is called a</span>
</span><span id="__span-0-595"><span class="c1"># &quot;full synchronization&quot;. An RDB file is transmitted from the master to the</span>
</span><span id="__span-0-596"><span class="c1"># replicas.</span>
</span><span id="__span-0-597"><span class="c1">#</span>
</span><span id="__span-0-598"><span class="c1"># The transmission can happen in two different ways:</span>
</span><span id="__span-0-599"><span class="c1">#</span>
</span><span id="__span-0-600"><span class="c1"># 1) Disk-backed: The Redis master creates a new process that writes the RDB</span>
</span><span id="__span-0-601"><span class="c1">#                 file on disk. Later the file is transferred by the parent</span>
</span><span id="__span-0-602"><span class="c1">#                 process to the replicas incrementally.</span>
</span><span id="__span-0-603"><span class="c1"># 2) Diskless: The Redis master creates a new process that directly writes the</span>
</span><span id="__span-0-604"><span class="c1">#              RDB file to replica sockets, without touching the disk at all.</span>
</span><span id="__span-0-605"><span class="c1">#</span>
</span><span id="__span-0-606"><span class="c1"># With disk-backed replication, while the RDB file is generated, more replicas</span>
</span><span id="__span-0-607"><span class="c1"># can be queued and served with the RDB file as soon as the current child</span>
</span><span id="__span-0-608"><span class="c1"># producing the RDB file finishes its work. With diskless replication instead</span>
</span><span id="__span-0-609"><span class="c1"># once the transfer starts, new replicas arriving will be queued and a new</span>
</span><span id="__span-0-610"><span class="c1"># transfer will start when the current one terminates.</span>
</span><span id="__span-0-611"><span class="c1">#</span>
</span><span id="__span-0-612"><span class="c1"># When diskless replication is used, the master waits a configurable amount of</span>
</span><span id="__span-0-613"><span class="c1"># time (in seconds) before starting the transfer in the hope that multiple</span>
</span><span id="__span-0-614"><span class="c1"># replicas will arrive and the transfer can be parallelized.</span>
</span><span id="__span-0-615"><span class="c1">#</span>
</span><span id="__span-0-616"><span class="c1"># With slow disks and fast (large bandwidth) networks, diskless replication</span>
</span><span id="__span-0-617"><span class="c1"># works better.</span>
</span><span id="__span-0-618"><span class="n">repl</span><span class="o">-</span><span class="n">diskless</span><span class="o">-</span><span class="n">sync</span> <span class="n">yes</span>
</span><span id="__span-0-619">
</span><span id="__span-0-620"><span class="c1"># When diskless replication is enabled, it is possible to configure the delay</span>
</span><span id="__span-0-621"><span class="c1"># the server waits in order to spawn the child that transfers the RDB via socket</span>
</span><span id="__span-0-622"><span class="c1"># to the replicas.</span>
</span><span id="__span-0-623"><span class="c1">#</span>
</span><span id="__span-0-624"><span class="c1"># This is important since once the transfer starts, it is not possible to serve</span>
</span><span id="__span-0-625"><span class="c1"># new replicas arriving, that will be queued for the next RDB transfer, so the</span>
</span><span id="__span-0-626"><span class="c1"># server waits a delay in order to let more replicas arrive.</span>
</span><span id="__span-0-627"><span class="c1">#</span>
</span><span id="__span-0-628"><span class="c1"># The delay is specified in seconds, and by default is 5 seconds. To disable</span>
</span><span id="__span-0-629"><span class="c1"># it entirely just set it to 0 seconds and the transfer will start ASAP.</span>
</span><span id="__span-0-630"><span class="n">repl</span><span class="o">-</span><span class="n">diskless</span><span class="o">-</span><span class="n">sync</span><span class="o">-</span><span class="n">delay</span> <span class="mi">5</span>
</span><span id="__span-0-631">
</span><span id="__span-0-632"><span class="c1"># When diskless replication is enabled with a delay, it is possible to let</span>
</span><span id="__span-0-633"><span class="c1"># the replication start before the maximum delay is reached if the maximum</span>
</span><span id="__span-0-634"><span class="c1"># number of replicas expected have connected. Default of 0 means that the</span>
</span><span id="__span-0-635"><span class="c1"># maximum is not defined and Redis will wait the full delay.</span>
</span><span id="__span-0-636"><span class="n">repl</span><span class="o">-</span><span class="n">diskless</span><span class="o">-</span><span class="n">sync</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">replicas</span> <span class="mi">0</span>
</span><span id="__span-0-637">
</span><span id="__span-0-638"><span class="c1"># -----------------------------------------------------------------------------</span>
</span><span id="__span-0-639"><span class="c1"># WARNING: Since in this setup the replica does not immediately store an RDB on</span>
</span><span id="__span-0-640"><span class="c1"># disk, it may cause data loss during failovers. RDB diskless load + Redis</span>
</span><span id="__span-0-641"><span class="c1"># modules not handling I/O reads may cause Redis to abort in case of I/O errors</span>
</span><span id="__span-0-642"><span class="c1"># during the initial synchronization stage with the master.</span>
</span><span id="__span-0-643"><span class="c1"># -----------------------------------------------------------------------------</span>
</span><span id="__span-0-644"><span class="c1">#</span>
</span><span id="__span-0-645"><span class="c1"># Replica can load the RDB it reads from the replication link directly from the</span>
</span><span id="__span-0-646"><span class="c1"># socket, or store the RDB to a file and read that file after it was completely</span>
</span><span id="__span-0-647"><span class="c1"># received from the master.</span>
</span><span id="__span-0-648"><span class="c1">#</span>
</span><span id="__span-0-649"><span class="c1"># In many cases the disk is slower than the network, and storing and loading</span>
</span><span id="__span-0-650"><span class="c1"># the RDB file may increase replication time (and even increase the master&#39;s</span>
</span><span id="__span-0-651"><span class="c1"># Copy on Write memory and replica buffers).</span>
</span><span id="__span-0-652"><span class="c1"># However, when parsing the RDB file directly from the socket, in order to avoid</span>
</span><span id="__span-0-653"><span class="c1"># data loss it&#39;s only safe to flush the current dataset when the new dataset is</span>
</span><span id="__span-0-654"><span class="c1"># fully loaded in memory, resulting in higher memory usage.</span>
</span><span id="__span-0-655"><span class="c1"># For this reason we have the following options:</span>
</span><span id="__span-0-656"><span class="c1">#</span>
</span><span id="__span-0-657"><span class="c1"># &quot;disabled&quot;    - Don&#39;t use diskless load (store the rdb file to the disk first)</span>
</span><span id="__span-0-658"><span class="c1"># &quot;swapdb&quot;      - Keep current db contents in RAM while parsing the data directly</span>
</span><span id="__span-0-659"><span class="c1">#                 from the socket. Replicas in this mode can keep serving current</span>
</span><span id="__span-0-660"><span class="c1">#                 dataset while replication is in progress, except for cases where</span>
</span><span id="__span-0-661"><span class="c1">#                 they can&#39;t recognize master as having a data set from same</span>
</span><span id="__span-0-662"><span class="c1">#                 replication history.</span>
</span><span id="__span-0-663"><span class="c1">#                 Note that this requires sufficient memory, if you don&#39;t have it,</span>
</span><span id="__span-0-664"><span class="c1">#                 you risk an OOM kill.</span>
</span><span id="__span-0-665"><span class="c1"># &quot;on-empty-db&quot; - Use diskless load only when current dataset is empty. This is </span>
</span><span id="__span-0-666"><span class="c1">#                 safer and avoid having old and new dataset loaded side by side</span>
</span><span id="__span-0-667"><span class="c1">#                 during replication.</span>
</span><span id="__span-0-668"><span class="n">repl</span><span class="o">-</span><span class="n">diskless</span><span class="o">-</span><span class="n">load</span> <span class="n">disabled</span>
</span><span id="__span-0-669">
</span><span id="__span-0-670"><span class="c1"># Master send PINGs to its replicas in a predefined interval. It&#39;s possible to</span>
</span><span id="__span-0-671"><span class="c1"># change this interval with the repl-ping-replica-period option. The default</span>
</span><span id="__span-0-672"><span class="c1"># value is 10 seconds.</span>
</span><span id="__span-0-673"><span class="c1">#</span>
</span><span id="__span-0-674"><span class="c1"># repl-ping-replica-period 10</span>
</span><span id="__span-0-675">
</span><span id="__span-0-676"><span class="c1"># The following option sets the replication timeout for:</span>
</span><span id="__span-0-677"><span class="c1">#</span>
</span><span id="__span-0-678"><span class="c1"># 1) Bulk transfer I/O during SYNC, from the point of view of replica.</span>
</span><span id="__span-0-679"><span class="c1"># 2) Master timeout from the point of view of replicas (data, pings).</span>
</span><span id="__span-0-680"><span class="c1"># 3) Replica timeout from the point of view of masters (REPLCONF ACK pings).</span>
</span><span id="__span-0-681"><span class="c1">#</span>
</span><span id="__span-0-682"><span class="c1"># It is important to make sure that this value is greater than the value</span>
</span><span id="__span-0-683"><span class="c1"># specified for repl-ping-replica-period otherwise a timeout will be detected</span>
</span><span id="__span-0-684"><span class="c1"># every time there is low traffic between the master and the replica. The default</span>
</span><span id="__span-0-685"><span class="c1"># value is 60 seconds.</span>
</span><span id="__span-0-686"><span class="c1">#</span>
</span><span id="__span-0-687"><span class="c1"># repl-timeout 60</span>
</span><span id="__span-0-688">
</span><span id="__span-0-689"><span class="c1"># Disable TCP_NODELAY on the replica socket after SYNC?</span>
</span><span id="__span-0-690"><span class="c1">#</span>
</span><span id="__span-0-691"><span class="c1"># If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and</span>
</span><span id="__span-0-692"><span class="c1"># less bandwidth to send data to replicas. But this can add a delay for</span>
</span><span id="__span-0-693"><span class="c1"># the data to appear on the replica side, up to 40 milliseconds with</span>
</span><span id="__span-0-694"><span class="c1"># Linux kernels using a default configuration.</span>
</span><span id="__span-0-695"><span class="c1">#</span>
</span><span id="__span-0-696"><span class="c1"># If you select &quot;no&quot; the delay for data to appear on the replica side will</span>
</span><span id="__span-0-697"><span class="c1"># be reduced but more bandwidth will be used for replication.</span>
</span><span id="__span-0-698"><span class="c1">#</span>
</span><span id="__span-0-699"><span class="c1"># By default we optimize for low latency, but in very high traffic conditions</span>
</span><span id="__span-0-700"><span class="c1"># or when the master and replicas are many hops away, turning this to &quot;yes&quot; may</span>
</span><span id="__span-0-701"><span class="c1"># be a good idea.</span>
</span><span id="__span-0-702"><span class="n">repl</span><span class="o">-</span><span class="n">disable</span><span class="o">-</span><span class="n">tcp</span><span class="o">-</span><span class="n">nodelay</span> <span class="n">no</span>
</span><span id="__span-0-703">
</span><span id="__span-0-704"><span class="c1"># Set the replication backlog size. The backlog is a buffer that accumulates</span>
</span><span id="__span-0-705"><span class="c1"># replica data when replicas are disconnected for some time, so that when a</span>
</span><span id="__span-0-706"><span class="c1"># replica wants to reconnect again, often a full resync is not needed, but a</span>
</span><span id="__span-0-707"><span class="c1"># partial resync is enough, just passing the portion of data the replica</span>
</span><span id="__span-0-708"><span class="c1"># missed while disconnected.</span>
</span><span id="__span-0-709"><span class="c1">#</span>
</span><span id="__span-0-710"><span class="c1"># The bigger the replication backlog, the longer the replica can endure the</span>
</span><span id="__span-0-711"><span class="c1"># disconnect and later be able to perform a partial resynchronization.</span>
</span><span id="__span-0-712"><span class="c1">#</span>
</span><span id="__span-0-713"><span class="c1"># The backlog is only allocated if there is at least one replica connected.</span>
</span><span id="__span-0-714"><span class="c1">#</span>
</span><span id="__span-0-715"><span class="c1"># repl-backlog-size 1mb</span>
</span><span id="__span-0-716">
</span><span id="__span-0-717"><span class="c1"># After a master has no connected replicas for some time, the backlog will be</span>
</span><span id="__span-0-718"><span class="c1"># freed. The following option configures the amount of seconds that need to</span>
</span><span id="__span-0-719"><span class="c1"># elapse, starting from the time the last replica disconnected, for the backlog</span>
</span><span id="__span-0-720"><span class="c1"># buffer to be freed.</span>
</span><span id="__span-0-721"><span class="c1">#</span>
</span><span id="__span-0-722"><span class="c1"># Note that replicas never free the backlog for timeout, since they may be</span>
</span><span id="__span-0-723"><span class="c1"># promoted to masters later, and should be able to correctly &quot;partially</span>
</span><span id="__span-0-724"><span class="c1"># resynchronize&quot; with other replicas: hence they should always accumulate backlog.</span>
</span><span id="__span-0-725"><span class="c1">#</span>
</span><span id="__span-0-726"><span class="c1"># A value of 0 means to never release the backlog.</span>
</span><span id="__span-0-727"><span class="c1">#</span>
</span><span id="__span-0-728"><span class="c1"># repl-backlog-ttl 3600</span>
</span><span id="__span-0-729">
</span><span id="__span-0-730"><span class="c1"># During a fullsync, the master may decide to send both the RDB file and the</span>
</span><span id="__span-0-731"><span class="c1"># replication stream to the replica in parallel. This approach shifts the</span>
</span><span id="__span-0-732"><span class="c1"># responsibility of buffering the replication stream to the replica during the</span>
</span><span id="__span-0-733"><span class="c1"># fullsync process. The replica accumulates the replication stream data until</span>
</span><span id="__span-0-734"><span class="c1"># the RDB file is fully loaded. Once the RDB delivery is completed and</span>
</span><span id="__span-0-735"><span class="c1"># successfully loaded, the replica begins processing and applying the</span>
</span><span id="__span-0-736"><span class="c1"># accumulated replication data to the db. The configuration below controls how</span>
</span><span id="__span-0-737"><span class="c1"># much replication data the replica can accumulate during a fullsync.</span>
</span><span id="__span-0-738"><span class="c1">#</span>
</span><span id="__span-0-739"><span class="c1"># When the replica reaches this limit, it will stop accumulating further data.</span>
</span><span id="__span-0-740"><span class="c1"># At this point, additional data accumulation may occur on the master side</span>
</span><span id="__span-0-741"><span class="c1"># depending on the &#39;client-output-buffer-limit &lt;replica&gt;&#39; config of master.</span>
</span><span id="__span-0-742"><span class="c1">#</span>
</span><span id="__span-0-743"><span class="c1"># A value of 0 means replica inherits hard limit of</span>
</span><span id="__span-0-744"><span class="c1"># &#39;client-output-buffer-limit &lt;replica&gt;&#39; config to limit accumulation size.</span>
</span><span id="__span-0-745"><span class="c1">#</span>
</span><span id="__span-0-746"><span class="c1"># replica-full-sync-buffer-limit 0</span>
</span><span id="__span-0-747">
</span><span id="__span-0-748"><span class="c1"># The replica priority is an integer number published by Redis in the INFO</span>
</span><span id="__span-0-749"><span class="c1"># output. It is used by Redis Sentinel in order to select a replica to promote</span>
</span><span id="__span-0-750"><span class="c1"># into a master if the master is no longer working correctly.</span>
</span><span id="__span-0-751"><span class="c1">#</span>
</span><span id="__span-0-752"><span class="c1"># A replica with a low priority number is considered better for promotion, so</span>
</span><span id="__span-0-753"><span class="c1"># for instance if there are three replicas with priority 10, 100, 25 Sentinel</span>
</span><span id="__span-0-754"><span class="c1"># will pick the one with priority 10, that is the lowest.</span>
</span><span id="__span-0-755"><span class="c1">#</span>
</span><span id="__span-0-756"><span class="c1"># However a special priority of 0 marks the replica as not able to perform the</span>
</span><span id="__span-0-757"><span class="c1"># role of master, so a replica with priority of 0 will never be selected by</span>
</span><span id="__span-0-758"><span class="c1"># Redis Sentinel for promotion.</span>
</span><span id="__span-0-759"><span class="c1">#</span>
</span><span id="__span-0-760"><span class="c1"># By default the priority is 100.</span>
</span><span id="__span-0-761"><span class="n">replica</span><span class="o">-</span><span class="n">priority</span> <span class="mi">100</span>
</span><span id="__span-0-762">
</span><span id="__span-0-763"><span class="c1"># The propagation error behavior controls how Redis will behave when it is</span>
</span><span id="__span-0-764"><span class="c1"># unable to handle a command being processed in the replication stream from a master</span>
</span><span id="__span-0-765"><span class="c1"># or processed while reading from an AOF file. Errors that occur during propagation</span>
</span><span id="__span-0-766"><span class="c1"># are unexpected, and can cause data inconsistency. However, there are edge cases</span>
</span><span id="__span-0-767"><span class="c1"># in earlier versions of Redis where it was possible for the server to replicate or persist</span>
</span><span id="__span-0-768"><span class="c1"># commands that would fail on future versions. For this reason the default behavior</span>
</span><span id="__span-0-769"><span class="c1"># is to ignore such errors and continue processing commands.</span>
</span><span id="__span-0-770"><span class="c1">#</span>
</span><span id="__span-0-771"><span class="c1"># If an application wants to ensure there is no data divergence, this configuration</span>
</span><span id="__span-0-772"><span class="c1"># should be set to &#39;panic&#39; instead. The value can also be set to &#39;panic-on-replicas&#39;</span>
</span><span id="__span-0-773"><span class="c1"># to only panic when a replica encounters an error on the replication stream. One of</span>
</span><span id="__span-0-774"><span class="c1"># these two panic values will become the default value in the future once there are</span>
</span><span id="__span-0-775"><span class="c1"># sufficient safety mechanisms in place to prevent false positive crashes.</span>
</span><span id="__span-0-776"><span class="c1">#</span>
</span><span id="__span-0-777"><span class="c1"># propagation-error-behavior ignore</span>
</span><span id="__span-0-778">
</span><span id="__span-0-779"><span class="c1"># Replica ignore disk write errors controls the behavior of a replica when it is</span>
</span><span id="__span-0-780"><span class="c1"># unable to persist a write command received from its master to disk. By default,</span>
</span><span id="__span-0-781"><span class="c1"># this configuration is set to &#39;no&#39; and will crash the replica in this condition.</span>
</span><span id="__span-0-782"><span class="c1"># It is not recommended to change this default, however in order to be compatible</span>
</span><span id="__span-0-783"><span class="c1"># with older versions of Redis this config can be toggled to &#39;yes&#39; which will just</span>
</span><span id="__span-0-784"><span class="c1"># log a warning and execute the write command it got from the master.</span>
</span><span id="__span-0-785"><span class="c1">#</span>
</span><span id="__span-0-786"><span class="c1"># replica-ignore-disk-write-errors no</span>
</span><span id="__span-0-787">
</span><span id="__span-0-788"><span class="c1"># -----------------------------------------------------------------------------</span>
</span><span id="__span-0-789"><span class="c1"># By default, Redis Sentinel includes all replicas in its reports. A replica</span>
</span><span id="__span-0-790"><span class="c1"># can be excluded from Redis Sentinel&#39;s announcements. An unannounced replica</span>
</span><span id="__span-0-791"><span class="c1"># will be ignored by the &#39;sentinel replicas &lt;master&gt;&#39; command and won&#39;t be</span>
</span><span id="__span-0-792"><span class="c1"># exposed to Redis Sentinel&#39;s clients.</span>
</span><span id="__span-0-793"><span class="c1">#</span>
</span><span id="__span-0-794"><span class="c1"># This option does not change the behavior of replica-priority. Even with</span>
</span><span id="__span-0-795"><span class="c1"># replica-announced set to &#39;no&#39;, the replica can be promoted to master. To</span>
</span><span id="__span-0-796"><span class="c1"># prevent this behavior, set replica-priority to 0.</span>
</span><span id="__span-0-797"><span class="c1">#</span>
</span><span id="__span-0-798"><span class="c1"># replica-announced yes</span>
</span><span id="__span-0-799">
</span><span id="__span-0-800"><span class="c1"># It is possible for a master to stop accepting writes if there are less than</span>
</span><span id="__span-0-801"><span class="c1"># N replicas connected, having a lag less or equal than M seconds.</span>
</span><span id="__span-0-802"><span class="c1">#</span>
</span><span id="__span-0-803"><span class="c1"># The N replicas need to be in &quot;online&quot; state.</span>
</span><span id="__span-0-804"><span class="c1">#</span>
</span><span id="__span-0-805"><span class="c1"># The lag in seconds, that must be &lt;= the specified value, is calculated from</span>
</span><span id="__span-0-806"><span class="c1"># the last ping received from the replica, that is usually sent every second.</span>
</span><span id="__span-0-807"><span class="c1">#</span>
</span><span id="__span-0-808"><span class="c1"># This option does not GUARANTEE that N replicas will accept the write, but</span>
</span><span id="__span-0-809"><span class="c1"># will limit the window of exposure for lost writes in case not enough replicas</span>
</span><span id="__span-0-810"><span class="c1"># are available, to the specified number of seconds.</span>
</span><span id="__span-0-811"><span class="c1">#</span>
</span><span id="__span-0-812"><span class="c1"># For example to require at least 3 replicas with a lag &lt;= 10 seconds use:</span>
</span><span id="__span-0-813"><span class="c1">#</span>
</span><span id="__span-0-814"><span class="c1"># min-replicas-to-write 3</span>
</span><span id="__span-0-815"><span class="c1"># min-replicas-max-lag 10</span>
</span><span id="__span-0-816"><span class="c1">#</span>
</span><span id="__span-0-817"><span class="c1"># Setting one or the other to 0 disables the feature.</span>
</span><span id="__span-0-818"><span class="c1">#</span>
</span><span id="__span-0-819"><span class="c1"># By default min-replicas-to-write is set to 0 (feature disabled) and</span>
</span><span id="__span-0-820"><span class="c1"># min-replicas-max-lag is set to 10.</span>
</span><span id="__span-0-821">
</span><span id="__span-0-822"><span class="c1"># A Redis master is able to list the address and port of the attached</span>
</span><span id="__span-0-823"><span class="c1"># replicas in different ways. For example the &quot;INFO replication&quot; section</span>
</span><span id="__span-0-824"><span class="c1"># offers this information, which is used, among other tools, by</span>
</span><span id="__span-0-825"><span class="c1"># Redis Sentinel in order to discover replica instances.</span>
</span><span id="__span-0-826"><span class="c1"># Another place where this info is available is in the output of the</span>
</span><span id="__span-0-827"><span class="c1"># &quot;ROLE&quot; command of a master.</span>
</span><span id="__span-0-828"><span class="c1">#</span>
</span><span id="__span-0-829"><span class="c1"># The listed IP address and port normally reported by a replica is</span>
</span><span id="__span-0-830"><span class="c1"># obtained in the following way:</span>
</span><span id="__span-0-831"><span class="c1">#</span>
</span><span id="__span-0-832"><span class="c1">#   IP: The address is auto detected by checking the peer address</span>
</span><span id="__span-0-833"><span class="c1">#   of the socket used by the replica to connect with the master.</span>
</span><span id="__span-0-834"><span class="c1">#</span>
</span><span id="__span-0-835"><span class="c1">#   Port: The port is communicated by the replica during the replication</span>
</span><span id="__span-0-836"><span class="c1">#   handshake, and is normally the port that the replica is using to</span>
</span><span id="__span-0-837"><span class="c1">#   listen for connections.</span>
</span><span id="__span-0-838"><span class="c1">#</span>
</span><span id="__span-0-839"><span class="c1"># However when port forwarding or Network Address Translation (NAT) is</span>
</span><span id="__span-0-840"><span class="c1"># used, the replica may actually be reachable via different IP and port</span>
</span><span id="__span-0-841"><span class="c1"># pairs. The following two options can be used by a replica in order to</span>
</span><span id="__span-0-842"><span class="c1"># report to its master a specific set of IP and port, so that both INFO</span>
</span><span id="__span-0-843"><span class="c1"># and ROLE will report those values.</span>
</span><span id="__span-0-844"><span class="c1">#</span>
</span><span id="__span-0-845"><span class="c1"># There is no need to use both the options if you need to override just</span>
</span><span id="__span-0-846"><span class="c1"># the port or the IP address.</span>
</span><span id="__span-0-847"><span class="c1">#</span>
</span><span id="__span-0-848"><span class="c1"># replica-announce-ip 5.5.5.5</span>
</span><span id="__span-0-849"><span class="c1"># replica-announce-port 1234</span>
</span><span id="__span-0-850">
</span><span id="__span-0-851"><span class="c1">############################### KEYS TRACKING #################################</span>
</span><span id="__span-0-852">
</span><span id="__span-0-853"><span class="c1"># Redis implements server assisted support for client side caching of values.</span>
</span><span id="__span-0-854"><span class="c1"># This is implemented using an invalidation table that remembers, using</span>
</span><span id="__span-0-855"><span class="c1"># a radix key indexed by key name, what clients have which keys. In turn</span>
</span><span id="__span-0-856"><span class="c1"># this is used in order to send invalidation messages to clients. Please</span>
</span><span id="__span-0-857"><span class="c1"># check this page to understand more about the feature:</span>
</span><span id="__span-0-858"><span class="c1">#</span>
</span><span id="__span-0-859"><span class="c1">#   https://redis.io/docs/latest/develop/use/client-side-caching/</span>
</span><span id="__span-0-860"><span class="c1">#</span>
</span><span id="__span-0-861"><span class="c1"># When tracking is enabled for a client, all the read only queries are assumed</span>
</span><span id="__span-0-862"><span class="c1"># to be cached: this will force Redis to store information in the invalidation</span>
</span><span id="__span-0-863"><span class="c1"># table. When keys are modified, such information is flushed away, and</span>
</span><span id="__span-0-864"><span class="c1"># invalidation messages are sent to the clients. However if the workload is</span>
</span><span id="__span-0-865"><span class="c1"># heavily dominated by reads, Redis could use more and more memory in order</span>
</span><span id="__span-0-866"><span class="c1"># to track the keys fetched by many clients.</span>
</span><span id="__span-0-867"><span class="c1">#</span>
</span><span id="__span-0-868"><span class="c1"># For this reason it is possible to configure a maximum fill value for the</span>
</span><span id="__span-0-869"><span class="c1"># invalidation table. By default it is set to 1M of keys, and once this limit</span>
</span><span id="__span-0-870"><span class="c1"># is reached, Redis will start to evict keys in the invalidation table</span>
</span><span id="__span-0-871"><span class="c1"># even if they were not modified, just to reclaim memory: this will in turn</span>
</span><span id="__span-0-872"><span class="c1"># force the clients to invalidate the cached values. Basically the table</span>
</span><span id="__span-0-873"><span class="c1"># maximum size is a trade off between the memory you want to spend server</span>
</span><span id="__span-0-874"><span class="c1"># side to track information about who cached what, and the ability of clients</span>
</span><span id="__span-0-875"><span class="c1"># to retain cached objects in memory.</span>
</span><span id="__span-0-876"><span class="c1">#</span>
</span><span id="__span-0-877"><span class="c1"># If you set the value to 0, it means there are no limits, and Redis will</span>
</span><span id="__span-0-878"><span class="c1"># retain as many keys as needed in the invalidation table.</span>
</span><span id="__span-0-879"><span class="c1"># In the &quot;stats&quot; INFO section, you can find information about the number of</span>
</span><span id="__span-0-880"><span class="c1"># keys in the invalidation table at every given moment.</span>
</span><span id="__span-0-881"><span class="c1">#</span>
</span><span id="__span-0-882"><span class="c1"># Note: when key tracking is used in broadcasting mode, no memory is used</span>
</span><span id="__span-0-883"><span class="c1"># in the server side so this setting is useless.</span>
</span><span id="__span-0-884"><span class="c1">#</span>
</span><span id="__span-0-885"><span class="c1"># tracking-table-max-keys 1000000</span>
</span><span id="__span-0-886">
</span><span id="__span-0-887"><span class="c1">################################## SECURITY ###################################</span>
</span><span id="__span-0-888">
</span><span id="__span-0-889"><span class="c1"># Warning: since Redis is pretty fast, an outside user can try up to</span>
</span><span id="__span-0-890"><span class="c1"># 1 million passwords per second against a modern box. This means that you</span>
</span><span id="__span-0-891"><span class="c1"># should use very strong passwords, otherwise they will be very easy to break.</span>
</span><span id="__span-0-892"><span class="c1"># Note that because the password is really a shared secret between the client</span>
</span><span id="__span-0-893"><span class="c1"># and the server, and should not be memorized by any human, the password</span>
</span><span id="__span-0-894"><span class="c1"># can be easily a long string from /dev/urandom or whatever, so by using a</span>
</span><span id="__span-0-895"><span class="c1"># long and unguessable password no brute force attack will be possible.</span>
</span><span id="__span-0-896">
</span><span id="__span-0-897"><span class="c1"># Redis ACL users are defined in the following format:</span>
</span><span id="__span-0-898"><span class="c1">#</span>
</span><span id="__span-0-899"><span class="c1">#   user &lt;username&gt; ... acl rules ...</span>
</span><span id="__span-0-900"><span class="c1">#</span>
</span><span id="__span-0-901"><span class="c1"># For example:</span>
</span><span id="__span-0-902"><span class="c1">#</span>
</span><span id="__span-0-903"><span class="c1">#   user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99</span>
</span><span id="__span-0-904"><span class="c1">#</span>
</span><span id="__span-0-905"><span class="c1"># The special username &quot;default&quot; is used for new connections. If this user</span>
</span><span id="__span-0-906"><span class="c1"># has the &quot;nopass&quot; rule, then new connections will be immediately authenticated</span>
</span><span id="__span-0-907"><span class="c1"># as the &quot;default&quot; user without the need of any password provided via the</span>
</span><span id="__span-0-908"><span class="c1"># AUTH command. Otherwise if the &quot;default&quot; user is not flagged with &quot;nopass&quot;</span>
</span><span id="__span-0-909"><span class="c1"># the connections will start in not authenticated state, and will require</span>
</span><span id="__span-0-910"><span class="c1"># AUTH (or the HELLO command AUTH option) in order to be authenticated and</span>
</span><span id="__span-0-911"><span class="c1"># start to work.</span>
</span><span id="__span-0-912"><span class="c1">#</span>
</span><span id="__span-0-913"><span class="c1"># The ACL rules that describe what a user can do are the following:</span>
</span><span id="__span-0-914"><span class="c1">#</span>
</span><span id="__span-0-915"><span class="c1">#  on           Enable the user: it is possible to authenticate as this user.</span>
</span><span id="__span-0-916"><span class="c1">#  off          Disable the user: it&#39;s no longer possible to authenticate</span>
</span><span id="__span-0-917"><span class="c1">#               with this user, however the already authenticated connections</span>
</span><span id="__span-0-918"><span class="c1">#               will still work.</span>
</span><span id="__span-0-919"><span class="c1">#  skip-sanitize-payload    RESTORE dump-payload sanitization is skipped.</span>
</span><span id="__span-0-920"><span class="c1">#  sanitize-payload         RESTORE dump-payload is sanitized (default).</span>
</span><span id="__span-0-921"><span class="c1">#  +&lt;command&gt;   Allow the execution of that command.</span>
</span><span id="__span-0-922"><span class="c1">#               May be used with `|` for allowing subcommands (e.g &quot;+config|get&quot;)</span>
</span><span id="__span-0-923"><span class="c1">#  -&lt;command&gt;   Disallow the execution of that command.</span>
</span><span id="__span-0-924"><span class="c1">#               May be used with `|` for blocking subcommands (e.g &quot;-config|set&quot;)</span>
</span><span id="__span-0-925"><span class="c1">#  +@&lt;category&gt; Allow the execution of all the commands in such category</span>
</span><span id="__span-0-926"><span class="c1">#               with valid categories are like @admin, @set, @sortedset, ...</span>
</span><span id="__span-0-927"><span class="c1">#               and so forth, see the full list in the server.c file where</span>
</span><span id="__span-0-928"><span class="c1">#               the Redis command table is described and defined.</span>
</span><span id="__span-0-929"><span class="c1">#               The special category @all means all the commands, but currently</span>
</span><span id="__span-0-930"><span class="c1">#               present in the server, and that will be loaded in the future</span>
</span><span id="__span-0-931"><span class="c1">#               via modules.</span>
</span><span id="__span-0-932"><span class="c1">#  +&lt;command&gt;|first-arg  Allow a specific first argument of an otherwise</span>
</span><span id="__span-0-933"><span class="c1">#                        disabled command. It is only supported on commands with</span>
</span><span id="__span-0-934"><span class="c1">#                        no sub-commands, and is not allowed as negative form</span>
</span><span id="__span-0-935"><span class="c1">#                        like -SELECT|1, only additive starting with &quot;+&quot;. This</span>
</span><span id="__span-0-936"><span class="c1">#                        feature is deprecated and may be removed in the future.</span>
</span><span id="__span-0-937"><span class="c1">#  allcommands  Alias for +@all. Note that it implies the ability to execute</span>
</span><span id="__span-0-938"><span class="c1">#               all the future commands loaded via the modules system.</span>
</span><span id="__span-0-939"><span class="c1">#  nocommands   Alias for -@all.</span>
</span><span id="__span-0-940"><span class="c1">#  ~&lt;pattern&gt;   Add a pattern of keys that can be mentioned as part of</span>
</span><span id="__span-0-941"><span class="c1">#               commands. For instance ~* allows all the keys. The pattern</span>
</span><span id="__span-0-942"><span class="c1">#               is a glob-style pattern like the one of KEYS.</span>
</span><span id="__span-0-943"><span class="c1">#               It is possible to specify multiple patterns.</span>
</span><span id="__span-0-944"><span class="c1"># %R~&lt;pattern&gt;  Add key read pattern that specifies which keys can be read </span>
</span><span id="__span-0-945"><span class="c1">#               from.</span>
</span><span id="__span-0-946"><span class="c1"># %W~&lt;pattern&gt;  Add key write pattern that specifies which keys can be</span>
</span><span id="__span-0-947"><span class="c1">#               written to. </span>
</span><span id="__span-0-948"><span class="c1">#  allkeys      Alias for ~*</span>
</span><span id="__span-0-949"><span class="c1">#  resetkeys    Flush the list of allowed keys patterns.</span>
</span><span id="__span-0-950"><span class="c1">#  &amp;&lt;pattern&gt;   Add a glob-style pattern of Pub/Sub channels that can be</span>
</span><span id="__span-0-951"><span class="c1">#               accessed by the user. It is possible to specify multiple channel</span>
</span><span id="__span-0-952"><span class="c1">#               patterns.</span>
</span><span id="__span-0-953"><span class="c1">#  allchannels  Alias for &amp;*</span>
</span><span id="__span-0-954"><span class="c1">#  resetchannels            Flush the list of allowed channel patterns.</span>
</span><span id="__span-0-955"><span class="c1">#  &gt;&lt;password&gt;  Add this password to the list of valid password for the user.</span>
</span><span id="__span-0-956"><span class="c1">#               For example &gt;mypass will add &quot;mypass&quot; to the list.</span>
</span><span id="__span-0-957"><span class="c1">#               This directive clears the &quot;nopass&quot; flag (see later).</span>
</span><span id="__span-0-958"><span class="c1">#  &lt;&lt;password&gt;  Remove this password from the list of valid passwords.</span>
</span><span id="__span-0-959"><span class="c1">#  nopass       All the set passwords of the user are removed, and the user</span>
</span><span id="__span-0-960"><span class="c1">#               is flagged as requiring no password: it means that every</span>
</span><span id="__span-0-961"><span class="c1">#               password will work against this user. If this directive is</span>
</span><span id="__span-0-962"><span class="c1">#               used for the default user, every new connection will be</span>
</span><span id="__span-0-963"><span class="c1">#               immediately authenticated with the default user without</span>
</span><span id="__span-0-964"><span class="c1">#               any explicit AUTH command required. Note that the &quot;resetpass&quot;</span>
</span><span id="__span-0-965"><span class="c1">#               directive will clear this condition.</span>
</span><span id="__span-0-966"><span class="c1">#  resetpass    Flush the list of allowed passwords. Moreover removes the</span>
</span><span id="__span-0-967"><span class="c1">#               &quot;nopass&quot; status. After &quot;resetpass&quot; the user has no associated</span>
</span><span id="__span-0-968"><span class="c1">#               passwords and there is no way to authenticate without adding</span>
</span><span id="__span-0-969"><span class="c1">#               some password (or setting it as &quot;nopass&quot; later).</span>
</span><span id="__span-0-970"><span class="c1">#  reset        Performs the following actions: resetpass, resetkeys, resetchannels,</span>
</span><span id="__span-0-971"><span class="c1">#               allchannels (if acl-pubsub-default is set), off, clearselectors, -@all.</span>
</span><span id="__span-0-972"><span class="c1">#               The user returns to the same state it has immediately after its creation.</span>
</span><span id="__span-0-973"><span class="c1"># (&lt;options&gt;)   Create a new selector with the options specified within the</span>
</span><span id="__span-0-974"><span class="c1">#               parentheses and attach it to the user. Each option should be </span>
</span><span id="__span-0-975"><span class="c1">#               space separated. The first character must be ( and the last </span>
</span><span id="__span-0-976"><span class="c1">#               character must be ).</span>
</span><span id="__span-0-977"><span class="c1"># clearselectors            Remove all of the currently attached selectors. </span>
</span><span id="__span-0-978"><span class="c1">#                           Note this does not change the &quot;root&quot; user permissions,</span>
</span><span id="__span-0-979"><span class="c1">#                           which are the permissions directly applied onto the</span>
</span><span id="__span-0-980"><span class="c1">#                           user (outside the parentheses).</span>
</span><span id="__span-0-981"><span class="c1">#</span>
</span><span id="__span-0-982"><span class="c1"># ACL rules can be specified in any order: for instance you can start with</span>
</span><span id="__span-0-983"><span class="c1"># passwords, then flags, or key patterns. However note that the additive</span>
</span><span id="__span-0-984"><span class="c1"># and subtractive rules will CHANGE MEANING depending on the ordering.</span>
</span><span id="__span-0-985"><span class="c1"># For instance see the following example:</span>
</span><span id="__span-0-986"><span class="c1">#</span>
</span><span id="__span-0-987"><span class="c1">#   user alice on +@all -DEBUG ~* &gt;somepassword</span>
</span><span id="__span-0-988"><span class="c1">#</span>
</span><span id="__span-0-989"><span class="c1"># This will allow &quot;alice&quot; to use all the commands with the exception of the</span>
</span><span id="__span-0-990"><span class="c1"># DEBUG command, since +@all added all the commands to the set of the commands</span>
</span><span id="__span-0-991"><span class="c1"># alice can use, and later DEBUG was removed. However if we invert the order</span>
</span><span id="__span-0-992"><span class="c1"># of two ACL rules the result will be different:</span>
</span><span id="__span-0-993"><span class="c1">#</span>
</span><span id="__span-0-994"><span class="c1">#   user alice on -DEBUG +@all ~* &gt;somepassword</span>
</span><span id="__span-0-995"><span class="c1">#</span>
</span><span id="__span-0-996"><span class="c1"># Now DEBUG was removed when alice had yet no commands in the set of allowed</span>
</span><span id="__span-0-997"><span class="c1"># commands, later all the commands are added, so the user will be able to</span>
</span><span id="__span-0-998"><span class="c1"># execute everything.</span>
</span><span id="__span-0-999"><span class="c1">#</span>
</span><span id="__span-0-1000"><span class="c1"># Basically ACL rules are processed left-to-right.</span>
</span><span id="__span-0-1001"><span class="c1">#</span>
</span><span id="__span-0-1002"><span class="c1"># The following is a list of command categories and their meanings:</span>
</span><span id="__span-0-1003"><span class="c1"># * keyspace - Writing or reading from keys, databases, or their metadata </span>
</span><span id="__span-0-1004"><span class="c1">#     in a type agnostic way. Includes DEL, RESTORE, DUMP, RENAME, EXISTS, DBSIZE,</span>
</span><span id="__span-0-1005"><span class="c1">#     KEYS, EXPIRE, TTL, FLUSHALL, etc. Commands that may modify the keyspace,</span>
</span><span id="__span-0-1006"><span class="c1">#     key or metadata will also have `write` category. Commands that only read</span>
</span><span id="__span-0-1007"><span class="c1">#     the keyspace, key or metadata will have the `read` category.</span>
</span><span id="__span-0-1008"><span class="c1"># * read - Reading from keys (values or metadata). Note that commands that don&#39;t</span>
</span><span id="__span-0-1009"><span class="c1">#     interact with keys, will not have either `read` or `write`.</span>
</span><span id="__span-0-1010"><span class="c1"># * write - Writing to keys (values or metadata)</span>
</span><span id="__span-0-1011"><span class="c1"># * admin - Administrative commands. Normal applications will never need to use</span>
</span><span id="__span-0-1012"><span class="c1">#     these. Includes REPLICAOF, CONFIG, DEBUG, SAVE, MONITOR, ACL, SHUTDOWN, etc.</span>
</span><span id="__span-0-1013"><span class="c1"># * dangerous - Potentially dangerous (each should be considered with care for</span>
</span><span id="__span-0-1014"><span class="c1">#     various reasons). This includes FLUSHALL, MIGRATE, RESTORE, SORT, KEYS,</span>
</span><span id="__span-0-1015"><span class="c1">#     CLIENT, DEBUG, INFO, CONFIG, SAVE, REPLICAOF, etc.</span>
</span><span id="__span-0-1016"><span class="c1"># * connection - Commands affecting the connection or other connections.</span>
</span><span id="__span-0-1017"><span class="c1">#     This includes AUTH, SELECT, COMMAND, CLIENT, ECHO, PING, etc.</span>
</span><span id="__span-0-1018"><span class="c1"># * blocking - Potentially blocking the connection until released by another</span>
</span><span id="__span-0-1019"><span class="c1">#     command.</span>
</span><span id="__span-0-1020"><span class="c1"># * fast - Fast O(1) commands. May loop on the number of arguments, but not the</span>
</span><span id="__span-0-1021"><span class="c1">#     number of elements in the key.</span>
</span><span id="__span-0-1022"><span class="c1"># * slow - All commands that are not Fast.</span>
</span><span id="__span-0-1023"><span class="c1"># * pubsub - PUBLISH / SUBSCRIBE related</span>
</span><span id="__span-0-1024"><span class="c1"># * transaction - WATCH / MULTI / EXEC related commands.</span>
</span><span id="__span-0-1025"><span class="c1"># * scripting - Scripting related.</span>
</span><span id="__span-0-1026"><span class="c1"># * set - Data type: sets related.</span>
</span><span id="__span-0-1027"><span class="c1"># * sortedset - Data type: zsets related.</span>
</span><span id="__span-0-1028"><span class="c1"># * list - Data type: lists related.</span>
</span><span id="__span-0-1029"><span class="c1"># * hash - Data type: hashes related.</span>
</span><span id="__span-0-1030"><span class="c1"># * string - Data type: strings related.</span>
</span><span id="__span-0-1031"><span class="c1"># * bitmap - Data type: bitmaps related.</span>
</span><span id="__span-0-1032"><span class="c1"># * hyperloglog - Data type: hyperloglog related.</span>
</span><span id="__span-0-1033"><span class="c1"># * geo - Data type: geo related.</span>
</span><span id="__span-0-1034"><span class="c1"># * stream - Data type: streams related.</span>
</span><span id="__span-0-1035"><span class="c1">#</span>
</span><span id="__span-0-1036"><span class="c1"># For more information about ACL configuration please refer to</span>
</span><span id="__span-0-1037"><span class="c1"># the Redis web site at https://redis.io/docs/latest/operate/oss_and_stack/management/security/acl/</span>
</span><span id="__span-0-1038">
</span><span id="__span-0-1039"><span class="c1"># ACL LOG</span>
</span><span id="__span-0-1040"><span class="c1">#</span>
</span><span id="__span-0-1041"><span class="c1"># The ACL Log tracks failed commands and authentication events associated</span>
</span><span id="__span-0-1042"><span class="c1"># with ACLs. The ACL Log is useful to troubleshoot failed commands blocked</span>
</span><span id="__span-0-1043"><span class="c1"># by ACLs. The ACL Log is stored in memory. You can reclaim memory with</span>
</span><span id="__span-0-1044"><span class="c1"># ACL LOG RESET. Define the maximum entry length of the ACL Log below.</span>
</span><span id="__span-0-1045"><span class="n">acllog</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="nb">len</span> <span class="mi">128</span>
</span><span id="__span-0-1046">
</span><span id="__span-0-1047"><span class="c1"># Using an external ACL file</span>
</span><span id="__span-0-1048"><span class="c1">#</span>
</span><span id="__span-0-1049"><span class="c1"># Instead of configuring users here in this file, it is possible to use</span>
</span><span id="__span-0-1050"><span class="c1"># a stand-alone file just listing users. The two methods cannot be mixed:</span>
</span><span id="__span-0-1051"><span class="c1"># if you configure users here and at the same time you activate the external</span>
</span><span id="__span-0-1052"><span class="c1"># ACL file, the server will refuse to start.</span>
</span><span id="__span-0-1053"><span class="c1">#</span>
</span><span id="__span-0-1054"><span class="c1"># The format of the external ACL user file is exactly the same as the</span>
</span><span id="__span-0-1055"><span class="c1"># format that is used inside redis.conf to describe users.</span>
</span><span id="__span-0-1056"><span class="c1">#</span>
</span><span id="__span-0-1057"><span class="c1"># aclfile /etc/redis/users.acl</span>
</span><span id="__span-0-1058">
</span><span id="__span-0-1059"><span class="c1"># IMPORTANT NOTE: starting with Redis 6 &quot;requirepass&quot; is just a compatibility</span>
</span><span id="__span-0-1060"><span class="c1"># layer on top of the new ACL system. The option effect will be just setting</span>
</span><span id="__span-0-1061"><span class="c1"># the password for the default user. Clients will still authenticate using</span>
</span><span id="__span-0-1062"><span class="c1"># AUTH &lt;password&gt; as usually, or more explicitly with AUTH default &lt;password&gt;</span>
</span><span id="__span-0-1063"><span class="c1"># if they follow the new protocol: both will work.</span>
</span><span id="__span-0-1064"><span class="c1">#</span>
</span><span id="__span-0-1065"><span class="c1"># The requirepass is not compatible with aclfile option and the ACL LOAD</span>
</span><span id="__span-0-1066"><span class="c1"># command, these will cause requirepass to be ignored.</span>
</span><span id="__span-0-1067"><span class="c1">#</span>
</span><span id="__span-0-1068"><span class="c1"># requirepass foobared</span>
</span><span id="__span-0-1069">
</span><span id="__span-0-1070"><span class="c1"># New users are initialized with restrictive permissions by default, via the</span>
</span><span id="__span-0-1071"><span class="c1"># equivalent of this ACL rule &#39;off resetkeys -@all&#39;. Starting with Redis 6.2, it</span>
</span><span id="__span-0-1072"><span class="c1"># is possible to manage access to Pub/Sub channels with ACL rules as well. The</span>
</span><span id="__span-0-1073"><span class="c1"># default Pub/Sub channels permission if new users is controlled by the</span>
</span><span id="__span-0-1074"><span class="c1"># acl-pubsub-default configuration directive, which accepts one of these values:</span>
</span><span id="__span-0-1075"><span class="c1">#</span>
</span><span id="__span-0-1076"><span class="c1"># allchannels: grants access to all Pub/Sub channels</span>
</span><span id="__span-0-1077"><span class="c1"># resetchannels: revokes access to all Pub/Sub channels</span>
</span><span id="__span-0-1078"><span class="c1">#</span>
</span><span id="__span-0-1079"><span class="c1"># From Redis 7.0, acl-pubsub-default defaults to &#39;resetchannels&#39; permission.</span>
</span><span id="__span-0-1080"><span class="c1">#</span>
</span><span id="__span-0-1081"><span class="c1"># acl-pubsub-default resetchannels</span>
</span><span id="__span-0-1082">
</span><span id="__span-0-1083"><span class="c1"># Command renaming (DEPRECATED).</span>
</span><span id="__span-0-1084"><span class="c1">#</span>
</span><span id="__span-0-1085"><span class="c1"># ------------------------------------------------------------------------</span>
</span><span id="__span-0-1086"><span class="c1"># WARNING: avoid using this option if possible. Instead use ACLs to remove</span>
</span><span id="__span-0-1087"><span class="c1"># commands from the default user, and put them only in some admin user you</span>
</span><span id="__span-0-1088"><span class="c1"># create for administrative purposes.</span>
</span><span id="__span-0-1089"><span class="c1"># ------------------------------------------------------------------------</span>
</span><span id="__span-0-1090"><span class="c1">#</span>
</span><span id="__span-0-1091"><span class="c1"># It is possible to change the name of dangerous commands in a shared</span>
</span><span id="__span-0-1092"><span class="c1"># environment. For instance the CONFIG command may be renamed into something</span>
</span><span id="__span-0-1093"><span class="c1"># hard to guess so that it will still be available for internal-use tools</span>
</span><span id="__span-0-1094"><span class="c1"># but not available for general clients.</span>
</span><span id="__span-0-1095"><span class="c1">#</span>
</span><span id="__span-0-1096"><span class="c1"># Example:</span>
</span><span id="__span-0-1097"><span class="c1">#</span>
</span><span id="__span-0-1098"><span class="c1"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span>
</span><span id="__span-0-1099"><span class="c1">#</span>
</span><span id="__span-0-1100"><span class="c1"># It is also possible to completely kill a command by renaming it into</span>
</span><span id="__span-0-1101"><span class="c1"># an empty string:</span>
</span><span id="__span-0-1102"><span class="c1">#</span>
</span><span id="__span-0-1103"><span class="c1"># rename-command CONFIG &quot;&quot;</span>
</span><span id="__span-0-1104"><span class="c1">#</span>
</span><span id="__span-0-1105"><span class="c1"># Please note that changing the name of commands that are logged into the</span>
</span><span id="__span-0-1106"><span class="c1"># AOF file or transmitted to replicas may cause problems.</span>
</span><span id="__span-0-1107">
</span><span id="__span-0-1108"><span class="c1">################################### CLIENTS ####################################</span>
</span><span id="__span-0-1109">
</span><span id="__span-0-1110"><span class="c1"># Set the max number of connected clients at the same time. By default</span>
</span><span id="__span-0-1111"><span class="c1"># this limit is set to 10000 clients, however if the Redis server is not</span>
</span><span id="__span-0-1112"><span class="c1"># able to configure the process file limit to allow for the specified limit</span>
</span><span id="__span-0-1113"><span class="c1"># the max number of allowed clients is set to the current file limit</span>
</span><span id="__span-0-1114"><span class="c1"># minus 32 (as Redis reserves a few file descriptors for internal uses).</span>
</span><span id="__span-0-1115"><span class="c1">#</span>
</span><span id="__span-0-1116"><span class="c1"># Once the limit is reached Redis will close all the new connections sending</span>
</span><span id="__span-0-1117"><span class="c1"># an error &#39;max number of clients reached&#39;.</span>
</span><span id="__span-0-1118"><span class="c1">#</span>
</span><span id="__span-0-1119"><span class="c1"># IMPORTANT: When Redis Cluster is used, the max number of connections is also</span>
</span><span id="__span-0-1120"><span class="c1"># shared with the cluster bus: every node in the cluster will use two</span>
</span><span id="__span-0-1121"><span class="c1"># connections, one incoming and another outgoing. It is important to size the</span>
</span><span id="__span-0-1122"><span class="c1"># limit accordingly in case of very large clusters.</span>
</span><span id="__span-0-1123"><span class="c1">#</span>
</span><span id="__span-0-1124"><span class="c1"># maxclients 10000</span>
</span><span id="__span-0-1125">
</span><span id="__span-0-1126"><span class="c1">############################## MEMORY MANAGEMENT ################################</span>
</span><span id="__span-0-1127">
</span><span id="__span-0-1128"><span class="c1"># Set a memory usage limit to the specified amount of bytes.</span>
</span><span id="__span-0-1129"><span class="c1"># When the memory limit is reached Redis will try to remove keys</span>
</span><span id="__span-0-1130"><span class="c1"># according to the eviction policy selected (see maxmemory-policy).</span>
</span><span id="__span-0-1131"><span class="c1">#</span>
</span><span id="__span-0-1132"><span class="c1"># If Redis can&#39;t remove keys according to the policy, or if the policy is</span>
</span><span id="__span-0-1133"><span class="c1"># set to &#39;noeviction&#39;, Redis will start to reply with errors to commands</span>
</span><span id="__span-0-1134"><span class="c1"># that would use more memory, like SET, LPUSH, and so on, and will continue</span>
</span><span id="__span-0-1135"><span class="c1"># to reply to read-only commands like GET.</span>
</span><span id="__span-0-1136"><span class="c1">#</span>
</span><span id="__span-0-1137"><span class="c1"># This option is usually useful when using Redis as an LRU or LFU cache, or to</span>
</span><span id="__span-0-1138"><span class="c1"># set a hard memory limit for an instance (using the &#39;noeviction&#39; policy).</span>
</span><span id="__span-0-1139"><span class="c1">#</span>
</span><span id="__span-0-1140"><span class="c1"># WARNING: If you have replicas attached to an instance with maxmemory on,</span>
</span><span id="__span-0-1141"><span class="c1"># the size of the output buffers needed to feed the replicas are subtracted</span>
</span><span id="__span-0-1142"><span class="c1"># from the used memory count, so that network problems / resyncs will</span>
</span><span id="__span-0-1143"><span class="c1"># not trigger a loop where keys are evicted, and in turn the output</span>
</span><span id="__span-0-1144"><span class="c1"># buffer of replicas is full with DELs of keys evicted triggering the deletion</span>
</span><span id="__span-0-1145"><span class="c1"># of more keys, and so forth until the database is completely emptied.</span>
</span><span id="__span-0-1146"><span class="c1">#</span>
</span><span id="__span-0-1147"><span class="c1"># In short... if you have replicas attached it is suggested that you set a lower</span>
</span><span id="__span-0-1148"><span class="c1"># limit for maxmemory so that there is some free RAM on the system for replica</span>
</span><span id="__span-0-1149"><span class="c1"># output buffers (but this is not needed if the policy is &#39;noeviction&#39;).</span>
</span><span id="__span-0-1150"><span class="c1">#</span>
</span><span id="__span-0-1151"><span class="c1"># maxmemory &lt;bytes&gt;</span>
</span><span id="__span-0-1152">
</span><span id="__span-0-1153"><span class="c1"># MAXMEMORY POLICY: how Redis will select what to remove when maxmemory</span>
</span><span id="__span-0-1154"><span class="c1"># is reached. You can select one from the following behaviors:</span>
</span><span id="__span-0-1155"><span class="c1">#</span>
</span><span id="__span-0-1156"><span class="c1"># volatile-lru -&gt; Evict using approximated LRU, only keys with an expire set.</span>
</span><span id="__span-0-1157"><span class="c1"># allkeys-lru -&gt; Evict any key using approximated LRU.</span>
</span><span id="__span-0-1158"><span class="c1"># volatile-lfu -&gt; Evict using approximated LFU, only keys with an expire set.</span>
</span><span id="__span-0-1159"><span class="c1"># allkeys-lfu -&gt; Evict any key using approximated LFU.</span>
</span><span id="__span-0-1160"><span class="c1"># volatile-random -&gt; Remove a random key having an expire set.</span>
</span><span id="__span-0-1161"><span class="c1"># allkeys-random -&gt; Remove a random key, any key.</span>
</span><span id="__span-0-1162"><span class="c1"># volatile-ttl -&gt; Remove the key with the nearest expire time (minor TTL)</span>
</span><span id="__span-0-1163"><span class="c1"># noeviction -&gt; Don&#39;t evict anything, just return an error on write operations.</span>
</span><span id="__span-0-1164"><span class="c1">#</span>
</span><span id="__span-0-1165"><span class="c1"># LRU means Least Recently Used</span>
</span><span id="__span-0-1166"><span class="c1"># LFU means Least Frequently Used</span>
</span><span id="__span-0-1167"><span class="c1">#</span>
</span><span id="__span-0-1168"><span class="c1"># Both LRU, LFU and volatile-ttl are implemented using approximated</span>
</span><span id="__span-0-1169"><span class="c1"># randomized algorithms.</span>
</span><span id="__span-0-1170"><span class="c1">#</span>
</span><span id="__span-0-1171"><span class="c1"># Note: with any of the above policies, when there are no suitable keys for</span>
</span><span id="__span-0-1172"><span class="c1"># eviction, Redis will return an error on write operations that require</span>
</span><span id="__span-0-1173"><span class="c1"># more memory. These are usually commands that create new keys, add data or</span>
</span><span id="__span-0-1174"><span class="c1"># modify existing keys. A few examples are: SET, INCR, HSET, LPUSH, SUNIONSTORE,</span>
</span><span id="__span-0-1175"><span class="c1"># SORT (due to the STORE argument), and EXEC (if the transaction includes any</span>
</span><span id="__span-0-1176"><span class="c1"># command that requires memory).</span>
</span><span id="__span-0-1177"><span class="c1">#</span>
</span><span id="__span-0-1178"><span class="c1"># The default is:</span>
</span><span id="__span-0-1179"><span class="c1">#</span>
</span><span id="__span-0-1180"><span class="c1"># maxmemory-policy noeviction</span>
</span><span id="__span-0-1181">
</span><span id="__span-0-1182"><span class="c1"># LRU, LFU and minimal TTL algorithms are not precise algorithms but approximated</span>
</span><span id="__span-0-1183"><span class="c1"># algorithms (in order to save memory), so you can tune it for speed or</span>
</span><span id="__span-0-1184"><span class="c1"># accuracy. By default Redis will check five keys and pick the one that was</span>
</span><span id="__span-0-1185"><span class="c1"># used least recently, you can change the sample size using the following</span>
</span><span id="__span-0-1186"><span class="c1"># configuration directive.</span>
</span><span id="__span-0-1187"><span class="c1">#</span>
</span><span id="__span-0-1188"><span class="c1"># The default of 5 produces good enough results. 10 Approximates very closely</span>
</span><span id="__span-0-1189"><span class="c1"># true LRU but costs more CPU. 3 is faster but not very accurate. The maximum</span>
</span><span id="__span-0-1190"><span class="c1"># value that can be set is 64.</span>
</span><span id="__span-0-1191"><span class="c1">#</span>
</span><span id="__span-0-1192"><span class="c1"># maxmemory-samples 5</span>
</span><span id="__span-0-1193">
</span><span id="__span-0-1194"><span class="c1"># Eviction processing is designed to function well with the default setting.</span>
</span><span id="__span-0-1195"><span class="c1"># If there is an unusually large amount of write traffic, this value may need to</span>
</span><span id="__span-0-1196"><span class="c1"># be increased.  Decreasing this value may reduce latency at the risk of</span>
</span><span id="__span-0-1197"><span class="c1"># eviction processing effectiveness</span>
</span><span id="__span-0-1198"><span class="c1">#   0 = minimum latency, 10 = default, 100 = process without regard to latency</span>
</span><span id="__span-0-1199"><span class="c1">#</span>
</span><span id="__span-0-1200"><span class="c1"># maxmemory-eviction-tenacity 10</span>
</span><span id="__span-0-1201">
</span><span id="__span-0-1202"><span class="c1"># Starting from Redis 5, by default a replica will ignore its maxmemory setting</span>
</span><span id="__span-0-1203"><span class="c1"># (unless it is promoted to master after a failover or manually). It means</span>
</span><span id="__span-0-1204"><span class="c1"># that the eviction of keys will be just handled by the master, sending the</span>
</span><span id="__span-0-1205"><span class="c1"># DEL commands to the replica as keys evict in the master side.</span>
</span><span id="__span-0-1206"><span class="c1">#</span>
</span><span id="__span-0-1207"><span class="c1"># This behavior ensures that masters and replicas stay consistent, and is usually</span>
</span><span id="__span-0-1208"><span class="c1"># what you want, however if your replica is writable, or you want the replica</span>
</span><span id="__span-0-1209"><span class="c1"># to have a different memory setting, and you are sure all the writes performed</span>
</span><span id="__span-0-1210"><span class="c1"># to the replica are idempotent, then you may change this default (but be sure</span>
</span><span id="__span-0-1211"><span class="c1"># to understand what you are doing).</span>
</span><span id="__span-0-1212"><span class="c1">#</span>
</span><span id="__span-0-1213"><span class="c1"># Note that since the replica by default does not evict, it may end using more</span>
</span><span id="__span-0-1214"><span class="c1"># memory than the one set via maxmemory (there are certain buffers that may</span>
</span><span id="__span-0-1215"><span class="c1"># be larger on the replica, or data structures may sometimes take more memory</span>
</span><span id="__span-0-1216"><span class="c1"># and so forth). So make sure you monitor your replicas and make sure they</span>
</span><span id="__span-0-1217"><span class="c1"># have enough memory to never hit a real out-of-memory condition before the</span>
</span><span id="__span-0-1218"><span class="c1"># master hits the configured maxmemory setting.</span>
</span><span id="__span-0-1219"><span class="c1">#</span>
</span><span id="__span-0-1220"><span class="c1"># replica-ignore-maxmemory yes</span>
</span><span id="__span-0-1221">
</span><span id="__span-0-1222"><span class="c1"># Redis reclaims expired keys in two ways: upon access when those keys are</span>
</span><span id="__span-0-1223"><span class="c1"># found to be expired, and also in background, in what is called the</span>
</span><span id="__span-0-1224"><span class="c1"># &quot;active expire key&quot;. The key space is slowly and interactively scanned</span>
</span><span id="__span-0-1225"><span class="c1"># looking for expired keys to reclaim, so that it is possible to free memory</span>
</span><span id="__span-0-1226"><span class="c1"># of keys that are expired and will never be accessed again in a short time.</span>
</span><span id="__span-0-1227"><span class="c1">#</span>
</span><span id="__span-0-1228"><span class="c1"># The default effort of the expire cycle will try to avoid having more than</span>
</span><span id="__span-0-1229"><span class="c1"># ten percent of expired keys still in memory, and will try to avoid consuming</span>
</span><span id="__span-0-1230"><span class="c1"># more than 25% of total memory and to add latency to the system. However</span>
</span><span id="__span-0-1231"><span class="c1"># it is possible to increase the expire &quot;effort&quot; that is normally set to</span>
</span><span id="__span-0-1232"><span class="c1"># &quot;1&quot;, to a greater value, up to the value &quot;10&quot;. At its maximum value the</span>
</span><span id="__span-0-1233"><span class="c1"># system will use more CPU, longer cycles (and technically may introduce</span>
</span><span id="__span-0-1234"><span class="c1"># more latency), and will tolerate less already expired keys still present</span>
</span><span id="__span-0-1235"><span class="c1"># in the system. It&#39;s a tradeoff between memory, CPU and latency.</span>
</span><span id="__span-0-1236"><span class="c1">#</span>
</span><span id="__span-0-1237"><span class="c1"># active-expire-effort 1</span>
</span><span id="__span-0-1238">
</span><span id="__span-0-1239"><span class="c1">############################# LAZY FREEING ####################################</span>
</span><span id="__span-0-1240">
</span><span id="__span-0-1241"><span class="c1"># Redis has two primitives to delete keys. One is called DEL and is a blocking</span>
</span><span id="__span-0-1242"><span class="c1"># deletion of the object. It means that the server stops processing new commands</span>
</span><span id="__span-0-1243"><span class="c1"># in order to reclaim all the memory associated with an object in a synchronous</span>
</span><span id="__span-0-1244"><span class="c1"># way. If the key deleted is associated with a small object, the time needed</span>
</span><span id="__span-0-1245"><span class="c1"># in order to execute the DEL command is very small and comparable to most other</span>
</span><span id="__span-0-1246"><span class="c1"># O(1) or O(log_N) commands in Redis. However if the key is associated with an</span>
</span><span id="__span-0-1247"><span class="c1"># aggregated value containing millions of elements, the server can block for</span>
</span><span id="__span-0-1248"><span class="c1"># a long time (even seconds) in order to complete the operation.</span>
</span><span id="__span-0-1249"><span class="c1">#</span>
</span><span id="__span-0-1250"><span class="c1"># For the above reasons Redis also offers non blocking deletion primitives</span>
</span><span id="__span-0-1251"><span class="c1"># such as UNLINK (non blocking DEL) and the ASYNC option of FLUSHALL and</span>
</span><span id="__span-0-1252"><span class="c1"># FLUSHDB commands, in order to reclaim memory in background. Those commands</span>
</span><span id="__span-0-1253"><span class="c1"># are executed in constant time. Another thread will incrementally free the</span>
</span><span id="__span-0-1254"><span class="c1"># object in the background as fast as possible.</span>
</span><span id="__span-0-1255"><span class="c1">#</span>
</span><span id="__span-0-1256"><span class="c1"># DEL, UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user-controlled.</span>
</span><span id="__span-0-1257"><span class="c1"># It&#39;s up to the design of the application to understand when it is a good</span>
</span><span id="__span-0-1258"><span class="c1"># idea to use one or the other. However the Redis server sometimes has to</span>
</span><span id="__span-0-1259"><span class="c1"># delete keys or flush the whole database as a side effect of other operations.</span>
</span><span id="__span-0-1260"><span class="c1"># Specifically Redis deletes objects independently of a user call in the</span>
</span><span id="__span-0-1261"><span class="c1"># following scenarios:</span>
</span><span id="__span-0-1262"><span class="c1">#</span>
</span><span id="__span-0-1263"><span class="c1"># 1) On eviction, because of the maxmemory and maxmemory policy configurations,</span>
</span><span id="__span-0-1264"><span class="c1">#    in order to make room for new data, without going over the specified</span>
</span><span id="__span-0-1265"><span class="c1">#    memory limit.</span>
</span><span id="__span-0-1266"><span class="c1"># 2) Because of expire: when a key with an associated time to live (see the</span>
</span><span id="__span-0-1267"><span class="c1">#    EXPIRE command) must be deleted from memory.</span>
</span><span id="__span-0-1268"><span class="c1"># 3) Because of a side effect of a command that stores data on a key that may</span>
</span><span id="__span-0-1269"><span class="c1">#    already exist. For example the RENAME command may delete the old key</span>
</span><span id="__span-0-1270"><span class="c1">#    content when it is replaced with another one. Similarly SUNIONSTORE</span>
</span><span id="__span-0-1271"><span class="c1">#    or SORT with STORE option may delete existing keys. The SET command</span>
</span><span id="__span-0-1272"><span class="c1">#    itself removes any old content of the specified key in order to replace</span>
</span><span id="__span-0-1273"><span class="c1">#    it with the specified string.</span>
</span><span id="__span-0-1274"><span class="c1"># 4) During replication, when a replica performs a full resynchronization with</span>
</span><span id="__span-0-1275"><span class="c1">#    its master, the content of the whole database is removed in order to</span>
</span><span id="__span-0-1276"><span class="c1">#    load the RDB file just transferred.</span>
</span><span id="__span-0-1277"><span class="c1">#</span>
</span><span id="__span-0-1278"><span class="c1"># In all the above cases the default is to delete objects in a blocking way,</span>
</span><span id="__span-0-1279"><span class="c1"># like if DEL was called. However you can configure each case specifically</span>
</span><span id="__span-0-1280"><span class="c1"># in order to instead release memory in a non-blocking way like if UNLINK</span>
</span><span id="__span-0-1281"><span class="c1"># was called, using the following configuration directives.</span>
</span><span id="__span-0-1282">
</span><span id="__span-0-1283"><span class="n">lazyfree</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">eviction</span> <span class="n">no</span>
</span><span id="__span-0-1284"><span class="n">lazyfree</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">expire</span> <span class="n">no</span>
</span><span id="__span-0-1285"><span class="n">lazyfree</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="k">del</span> <span class="n">no</span>
</span><span id="__span-0-1286"><span class="n">replica</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">flush</span> <span class="n">no</span>
</span><span id="__span-0-1287">
</span><span id="__span-0-1288"><span class="c1"># It is also possible, for the case when to replace the user code DEL calls</span>
</span><span id="__span-0-1289"><span class="c1"># with UNLINK calls is not easy, to modify the default behavior of the DEL</span>
</span><span id="__span-0-1290"><span class="c1"># command to act exactly like UNLINK, using the following configuration</span>
</span><span id="__span-0-1291"><span class="c1"># directive:</span>
</span><span id="__span-0-1292">
</span><span id="__span-0-1293"><span class="n">lazyfree</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="k">del</span> <span class="n">no</span>
</span><span id="__span-0-1294">
</span><span id="__span-0-1295"><span class="c1"># FLUSHDB, FLUSHALL, SCRIPT FLUSH and FUNCTION FLUSH support both asynchronous and synchronous</span>
</span><span id="__span-0-1296"><span class="c1"># deletion, which can be controlled by passing the [SYNC|ASYNC] flags into the</span>
</span><span id="__span-0-1297"><span class="c1"># commands. When neither flag is passed, this directive will be used to determine</span>
</span><span id="__span-0-1298"><span class="c1"># if the data should be deleted asynchronously.</span>
</span><span id="__span-0-1299">
</span><span id="__span-0-1300"><span class="n">lazyfree</span><span class="o">-</span><span class="n">lazy</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="n">flush</span> <span class="n">no</span>
</span><span id="__span-0-1301">
</span><span id="__span-0-1302"><span class="c1">################################ THREADED I/O #################################</span>
</span><span id="__span-0-1303">
</span><span id="__span-0-1304"><span class="c1"># Redis is mostly single threaded, however there are certain threaded</span>
</span><span id="__span-0-1305"><span class="c1"># operations such as UNLINK, slow I/O accesses and other things that are</span>
</span><span id="__span-0-1306"><span class="c1"># performed on side threads.</span>
</span><span id="__span-0-1307"><span class="c1">#</span>
</span><span id="__span-0-1308"><span class="c1"># Now it is also possible to handle Redis clients socket reads and writes</span>
</span><span id="__span-0-1309"><span class="c1"># in different I/O threads. Since especially writing is so slow, normally</span>
</span><span id="__span-0-1310"><span class="c1"># Redis users use pipelining in order to speed up the Redis performances per</span>
</span><span id="__span-0-1311"><span class="c1"># core, and spawn multiple instances in order to scale more. Using I/O</span>
</span><span id="__span-0-1312"><span class="c1"># threads it is possible to easily speedup several times Redis without resorting</span>
</span><span id="__span-0-1313"><span class="c1"># to pipelining nor sharding of the instance.</span>
</span><span id="__span-0-1314"><span class="c1">#</span>
</span><span id="__span-0-1315"><span class="c1"># By default threading is disabled, we suggest enabling it only in machines</span>
</span><span id="__span-0-1316"><span class="c1"># that have at least 4 or more cores, leaving at least one spare core.</span>
</span><span id="__span-0-1317"><span class="c1"># We also recommend using threaded I/O only if you actually have performance</span>
</span><span id="__span-0-1318"><span class="c1"># problems, with Redis instances being able to use a quite big percentage of</span>
</span><span id="__span-0-1319"><span class="c1"># CPU time, otherwise there is no point in using this feature.</span>
</span><span id="__span-0-1320"><span class="c1">#</span>
</span><span id="__span-0-1321"><span class="c1"># So for instance if you have a four cores boxes, try to use 3 I/O</span>
</span><span id="__span-0-1322"><span class="c1"># threads, if you have a 8 cores, try to use 7 threads. In order to</span>
</span><span id="__span-0-1323"><span class="c1"># enable I/O threads use the following configuration directive:</span>
</span><span id="__span-0-1324"><span class="c1">#</span>
</span><span id="__span-0-1325"><span class="c1"># io-threads 4</span>
</span><span id="__span-0-1326"><span class="c1">#</span>
</span><span id="__span-0-1327"><span class="c1"># Setting io-threads to 1 will just use the main thread as usual.</span>
</span><span id="__span-0-1328"><span class="c1"># When I/O threads are enabled, we not only use threads for writes, that</span>
</span><span id="__span-0-1329"><span class="c1"># is to thread the write(2) syscall and transfer the client buffers to the</span>
</span><span id="__span-0-1330"><span class="c1"># socket, but also use threads for reads and protocol parsing.</span>
</span><span id="__span-0-1331"><span class="c1">#</span>
</span><span id="__span-0-1332"><span class="c1"># NOTE: If you want to test the Redis speedup using redis-benchmark, make</span>
</span><span id="__span-0-1333"><span class="c1"># sure you also run the benchmark itself in threaded mode, using the</span>
</span><span id="__span-0-1334"><span class="c1"># --threads option to match the number of Redis threads, otherwise you&#39;ll not</span>
</span><span id="__span-0-1335"><span class="c1"># be able to notice the improvements.</span>
</span><span id="__span-0-1336">
</span><span id="__span-0-1337"><span class="c1">############################ KERNEL OOM CONTROL ##############################</span>
</span><span id="__span-0-1338">
</span><span id="__span-0-1339"><span class="c1"># On Linux, it is possible to hint the kernel OOM killer on what processes</span>
</span><span id="__span-0-1340"><span class="c1"># should be killed first when out of memory.</span>
</span><span id="__span-0-1341"><span class="c1">#</span>
</span><span id="__span-0-1342"><span class="c1"># Enabling this feature makes Redis actively control the oom_score_adj value</span>
</span><span id="__span-0-1343"><span class="c1"># for all its processes, depending on their role. The default scores will</span>
</span><span id="__span-0-1344"><span class="c1"># attempt to have background child processes killed before all others, and</span>
</span><span id="__span-0-1345"><span class="c1"># replicas killed before masters.</span>
</span><span id="__span-0-1346"><span class="c1">#</span>
</span><span id="__span-0-1347"><span class="c1"># Redis supports these options:</span>
</span><span id="__span-0-1348"><span class="c1">#</span>
</span><span id="__span-0-1349"><span class="c1"># no:       Don&#39;t make changes to oom-score-adj (default).</span>
</span><span id="__span-0-1350"><span class="c1"># yes:      Alias to &quot;relative&quot; see below.</span>
</span><span id="__span-0-1351"><span class="c1"># absolute: Values in oom-score-adj-values are written as is to the kernel.</span>
</span><span id="__span-0-1352"><span class="c1"># relative: Values are used relative to the initial value of oom_score_adj when</span>
</span><span id="__span-0-1353"><span class="c1">#           the server starts and are then clamped to a range of -1000 to 1000.</span>
</span><span id="__span-0-1354"><span class="c1">#           Because typically the initial value is 0, they will often match the</span>
</span><span id="__span-0-1355"><span class="c1">#           absolute values.</span>
</span><span id="__span-0-1356"><span class="n">oom</span><span class="o">-</span><span class="n">score</span><span class="o">-</span><span class="n">adj</span> <span class="n">no</span>
</span><span id="__span-0-1357">
</span><span id="__span-0-1358"><span class="c1"># When oom-score-adj is used, this directive controls the specific values used</span>
</span><span id="__span-0-1359"><span class="c1"># for master, replica and background child processes. Values range -2000 to</span>
</span><span id="__span-0-1360"><span class="c1"># 2000 (higher means more likely to be killed).</span>
</span><span id="__span-0-1361"><span class="c1">#</span>
</span><span id="__span-0-1362"><span class="c1"># Unprivileged processes (not root, and without CAP_SYS_RESOURCE capabilities)</span>
</span><span id="__span-0-1363"><span class="c1"># can freely increase their value, but not decrease it below its initial</span>
</span><span id="__span-0-1364"><span class="c1"># settings. This means that setting oom-score-adj to &quot;relative&quot; and setting the</span>
</span><span id="__span-0-1365"><span class="c1"># oom-score-adj-values to positive values will always succeed.</span>
</span><span id="__span-0-1366"><span class="n">oom</span><span class="o">-</span><span class="n">score</span><span class="o">-</span><span class="n">adj</span><span class="o">-</span><span class="n">values</span> <span class="mi">0</span> <span class="mi">200</span> <span class="mi">800</span>
</span><span id="__span-0-1367">
</span><span id="__span-0-1368">
</span><span id="__span-0-1369"><span class="c1">#################### KERNEL transparent hugepage CONTROL ######################</span>
</span><span id="__span-0-1370">
</span><span id="__span-0-1371"><span class="c1"># Usually the kernel Transparent Huge Pages control is set to &quot;madvise&quot; or</span>
</span><span id="__span-0-1372"><span class="c1"># &quot;never&quot; by default (/sys/kernel/mm/transparent_hugepage/enabled), in which</span>
</span><span id="__span-0-1373"><span class="c1"># case this config has no effect. On systems in which it is set to &quot;always&quot;,</span>
</span><span id="__span-0-1374"><span class="c1"># redis will attempt to disable it specifically for the redis process in order</span>
</span><span id="__span-0-1375"><span class="c1"># to avoid latency problems specifically with fork(2) and CoW.</span>
</span><span id="__span-0-1376"><span class="c1"># If for some reason you prefer to keep it enabled, you can set this config to</span>
</span><span id="__span-0-1377"><span class="c1"># &quot;no&quot; and the kernel global to &quot;always&quot;.</span>
</span><span id="__span-0-1378">
</span><span id="__span-0-1379"><span class="n">disable</span><span class="o">-</span><span class="n">thp</span> <span class="n">yes</span>
</span><span id="__span-0-1380">
</span><span id="__span-0-1381"><span class="c1">############################## APPEND ONLY MODE ###############################</span>
</span><span id="__span-0-1382">
</span><span id="__span-0-1383"><span class="c1"># By default Redis asynchronously dumps the dataset on disk. This mode is</span>
</span><span id="__span-0-1384"><span class="c1"># good enough in many applications, but an issue with the Redis process or</span>
</span><span id="__span-0-1385"><span class="c1"># a power outage may result into a few minutes of writes lost (depending on</span>
</span><span id="__span-0-1386"><span class="c1"># the configured save points).</span>
</span><span id="__span-0-1387"><span class="c1">#</span>
</span><span id="__span-0-1388"><span class="c1"># The Append Only File is an alternative persistence mode that provides</span>
</span><span id="__span-0-1389"><span class="c1"># much better durability. For instance using the default data fsync policy</span>
</span><span id="__span-0-1390"><span class="c1"># (see later in the config file) Redis can lose just one second of writes in a</span>
</span><span id="__span-0-1391"><span class="c1"># dramatic event like a server power outage, or a single write if something</span>
</span><span id="__span-0-1392"><span class="c1"># wrong with the Redis process itself happens, but the operating system is</span>
</span><span id="__span-0-1393"><span class="c1"># still running correctly.</span>
</span><span id="__span-0-1394"><span class="c1">#</span>
</span><span id="__span-0-1395"><span class="c1"># AOF and RDB persistence can be enabled at the same time without problems.</span>
</span><span id="__span-0-1396"><span class="c1"># If the AOF is enabled on startup Redis will load the AOF, that is the file</span>
</span><span id="__span-0-1397"><span class="c1"># with the better durability guarantees.</span>
</span><span id="__span-0-1398"><span class="c1">#</span>
</span><span id="__span-0-1399"><span class="c1"># Note that changing this value in a config file of an existing database and</span>
</span><span id="__span-0-1400"><span class="c1"># restarting the server can lead to data loss. A conversion needs to be done</span>
</span><span id="__span-0-1401"><span class="c1"># by setting it via CONFIG command on a live server first.</span>
</span><span id="__span-0-1402"><span class="c1">#</span>
</span><span id="__span-0-1403"><span class="c1"># Please check https://redis.io/docs/latest/operate/oss_and_stack/management/persistence/ for more information.</span>
</span><span id="__span-0-1404">
</span><span id="__span-0-1405"><span class="n">appendonly</span> <span class="n">no</span>
</span><span id="__span-0-1406">
</span><span id="__span-0-1407"><span class="c1"># The base name of the append only file.</span>
</span><span id="__span-0-1408"><span class="c1">#</span>
</span><span id="__span-0-1409"><span class="c1"># Redis 7 and newer use a set of append-only files to persist the dataset</span>
</span><span id="__span-0-1410"><span class="c1"># and changes applied to it. There are two basic types of files in use:</span>
</span><span id="__span-0-1411"><span class="c1">#</span>
</span><span id="__span-0-1412"><span class="c1"># - Base files, which are a snapshot representing the complete state of the</span>
</span><span id="__span-0-1413"><span class="c1">#   dataset at the time the file was created. Base files can be either in</span>
</span><span id="__span-0-1414"><span class="c1">#   the form of RDB (binary serialized) or AOF (textual commands).</span>
</span><span id="__span-0-1415"><span class="c1"># - Incremental files, which contain additional commands that were applied</span>
</span><span id="__span-0-1416"><span class="c1">#   to the dataset following the previous file.</span>
</span><span id="__span-0-1417"><span class="c1">#</span>
</span><span id="__span-0-1418"><span class="c1"># In addition, manifest files are used to track the files and the order in</span>
</span><span id="__span-0-1419"><span class="c1"># which they were created and should be applied.</span>
</span><span id="__span-0-1420"><span class="c1">#</span>
</span><span id="__span-0-1421"><span class="c1"># Append-only file names are created by Redis following a specific pattern.</span>
</span><span id="__span-0-1422"><span class="c1"># The file name&#39;s prefix is based on the &#39;appendfilename&#39; configuration</span>
</span><span id="__span-0-1423"><span class="c1"># parameter, followed by additional information about the sequence and type.</span>
</span><span id="__span-0-1424"><span class="c1">#</span>
</span><span id="__span-0-1425"><span class="c1"># For example, if appendfilename is set to appendonly.aof, the following file</span>
</span><span id="__span-0-1426"><span class="c1"># names could be derived:</span>
</span><span id="__span-0-1427"><span class="c1">#</span>
</span><span id="__span-0-1428"><span class="c1"># - appendonly.aof.1.base.rdb as a base file.</span>
</span><span id="__span-0-1429"><span class="c1"># - appendonly.aof.1.incr.aof, appendonly.aof.2.incr.aof as incremental files.</span>
</span><span id="__span-0-1430"><span class="c1"># - appendonly.aof.manifest as a manifest file.</span>
</span><span id="__span-0-1431">
</span><span id="__span-0-1432"><span class="n">appendfilename</span> <span class="s2">&quot;appendonly.aof&quot;</span>
</span><span id="__span-0-1433">
</span><span id="__span-0-1434"><span class="c1"># For convenience, Redis stores all persistent append-only files in a dedicated</span>
</span><span id="__span-0-1435"><span class="c1"># directory. The name of the directory is determined by the appenddirname</span>
</span><span id="__span-0-1436"><span class="c1"># configuration parameter.</span>
</span><span id="__span-0-1437">
</span><span id="__span-0-1438"><span class="n">appenddirname</span> <span class="s2">&quot;appendonlydir&quot;</span>
</span><span id="__span-0-1439">
</span><span id="__span-0-1440"><span class="c1"># The fsync() call tells the Operating System to actually write data on disk</span>
</span><span id="__span-0-1441"><span class="c1"># instead of waiting for more data in the output buffer. Some OS will really flush</span>
</span><span id="__span-0-1442"><span class="c1"># data on disk, some other OS will just try to do it ASAP.</span>
</span><span id="__span-0-1443"><span class="c1">#</span>
</span><span id="__span-0-1444"><span class="c1"># Redis supports three different modes:</span>
</span><span id="__span-0-1445"><span class="c1">#</span>
</span><span id="__span-0-1446"><span class="c1"># no: don&#39;t fsync, just let the OS flush the data when it wants. Faster.</span>
</span><span id="__span-0-1447"><span class="c1"># always: fsync after every write to the append only log. Slow, Safest.</span>
</span><span id="__span-0-1448"><span class="c1"># everysec: fsync only one time every second. Compromise.</span>
</span><span id="__span-0-1449"><span class="c1">#</span>
</span><span id="__span-0-1450"><span class="c1"># The default is &quot;everysec&quot;, as that&#39;s usually the right compromise between</span>
</span><span id="__span-0-1451"><span class="c1"># speed and data safety. It&#39;s up to you to understand if you can relax this to</span>
</span><span id="__span-0-1452"><span class="c1"># &quot;no&quot; that will let the operating system flush the output buffer when</span>
</span><span id="__span-0-1453"><span class="c1"># it wants, for better performances (but if you can live with the idea of</span>
</span><span id="__span-0-1454"><span class="c1"># some data loss consider the default persistence mode that&#39;s snapshotting),</span>
</span><span id="__span-0-1455"><span class="c1"># or on the contrary, use &quot;always&quot; that&#39;s very slow but a bit safer than</span>
</span><span id="__span-0-1456"><span class="c1"># everysec.</span>
</span><span id="__span-0-1457"><span class="c1">#</span>
</span><span id="__span-0-1458"><span class="c1"># More details please check the following article:</span>
</span><span id="__span-0-1459"><span class="c1"># http://antirez.com/post/redis-persistence-demystified.html</span>
</span><span id="__span-0-1460"><span class="c1">#</span>
</span><span id="__span-0-1461"><span class="c1"># If unsure, use &quot;everysec&quot;.</span>
</span><span id="__span-0-1462">
</span><span id="__span-0-1463"><span class="c1"># appendfsync always</span>
</span><span id="__span-0-1464"><span class="n">appendfsync</span> <span class="n">everysec</span>
</span><span id="__span-0-1465"><span class="c1"># appendfsync no</span>
</span><span id="__span-0-1466">
</span><span id="__span-0-1467"><span class="c1"># When the AOF fsync policy is set to always or everysec, and a background</span>
</span><span id="__span-0-1468"><span class="c1"># saving process (a background save or AOF log background rewriting) is</span>
</span><span id="__span-0-1469"><span class="c1"># performing a lot of I/O against the disk, in some Linux configurations</span>
</span><span id="__span-0-1470"><span class="c1"># Redis may block too long on the fsync() call. Note that there is no fix for</span>
</span><span id="__span-0-1471"><span class="c1"># this currently, as even performing fsync in a different thread will block</span>
</span><span id="__span-0-1472"><span class="c1"># our synchronous write(2) call.</span>
</span><span id="__span-0-1473"><span class="c1">#</span>
</span><span id="__span-0-1474"><span class="c1"># In order to mitigate this problem it&#39;s possible to use the following option</span>
</span><span id="__span-0-1475"><span class="c1"># that will prevent fsync() from being called in the main process while a</span>
</span><span id="__span-0-1476"><span class="c1"># BGSAVE or BGREWRITEAOF is in progress.</span>
</span><span id="__span-0-1477"><span class="c1">#</span>
</span><span id="__span-0-1478"><span class="c1"># This means that while another child is saving, the durability of Redis is</span>
</span><span id="__span-0-1479"><span class="c1"># the same as &quot;appendfsync no&quot;. In practical terms, this means that it is</span>
</span><span id="__span-0-1480"><span class="c1"># possible to lose up to 30 seconds of log in the worst scenario (with the</span>
</span><span id="__span-0-1481"><span class="c1"># default Linux settings).</span>
</span><span id="__span-0-1482"><span class="c1">#</span>
</span><span id="__span-0-1483"><span class="c1"># If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as</span>
</span><span id="__span-0-1484"><span class="c1"># &quot;no&quot; that is the safest pick from the point of view of durability.</span>
</span><span id="__span-0-1485">
</span><span id="__span-0-1486"><span class="n">no</span><span class="o">-</span><span class="n">appendfsync</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">rewrite</span> <span class="n">no</span>
</span><span id="__span-0-1487">
</span><span id="__span-0-1488"><span class="c1"># Automatic rewrite of the append only file.</span>
</span><span id="__span-0-1489"><span class="c1"># Redis is able to automatically rewrite the log file implicitly calling</span>
</span><span id="__span-0-1490"><span class="c1"># BGREWRITEAOF when the AOF log size grows by the specified percentage.</span>
</span><span id="__span-0-1491"><span class="c1">#</span>
</span><span id="__span-0-1492"><span class="c1"># This is how it works: Redis remembers the size of the AOF file after the</span>
</span><span id="__span-0-1493"><span class="c1"># latest rewrite (if no rewrite has happened since the restart, the size of</span>
</span><span id="__span-0-1494"><span class="c1"># the AOF at startup is used).</span>
</span><span id="__span-0-1495"><span class="c1">#</span>
</span><span id="__span-0-1496"><span class="c1"># This base size is compared to the current size. If the current size is</span>
</span><span id="__span-0-1497"><span class="c1"># bigger than the specified percentage, the rewrite is triggered. Also</span>
</span><span id="__span-0-1498"><span class="c1"># you need to specify a minimal size for the AOF file to be rewritten, this</span>
</span><span id="__span-0-1499"><span class="c1"># is useful to avoid rewriting the AOF file even if the percentage increase</span>
</span><span id="__span-0-1500"><span class="c1"># is reached but it is still pretty small.</span>
</span><span id="__span-0-1501"><span class="c1">#</span>
</span><span id="__span-0-1502"><span class="c1"># Specify a percentage of zero in order to disable the automatic AOF</span>
</span><span id="__span-0-1503"><span class="c1"># rewrite feature.</span>
</span><span id="__span-0-1504">
</span><span id="__span-0-1505"><span class="n">auto</span><span class="o">-</span><span class="n">aof</span><span class="o">-</span><span class="n">rewrite</span><span class="o">-</span><span class="n">percentage</span> <span class="mi">100</span>
</span><span id="__span-0-1506"><span class="n">auto</span><span class="o">-</span><span class="n">aof</span><span class="o">-</span><span class="n">rewrite</span><span class="o">-</span><span class="nb">min</span><span class="o">-</span><span class="n">size</span> <span class="mi">64</span><span class="n">mb</span>
</span><span id="__span-0-1507">
</span><span id="__span-0-1508"><span class="c1"># An AOF file may be found to be truncated at the end during the Redis</span>
</span><span id="__span-0-1509"><span class="c1"># startup process, when the AOF data gets loaded back into memory.</span>
</span><span id="__span-0-1510"><span class="c1"># This may happen when the system where Redis is running</span>
</span><span id="__span-0-1511"><span class="c1"># crashes, especially when an ext4 filesystem is mounted without the</span>
</span><span id="__span-0-1512"><span class="c1"># data=ordered option (however this can&#39;t happen when Redis itself</span>
</span><span id="__span-0-1513"><span class="c1"># crashes or aborts but the operating system still works correctly).</span>
</span><span id="__span-0-1514"><span class="c1">#</span>
</span><span id="__span-0-1515"><span class="c1"># Redis can either exit with an error when this happens, or load as much</span>
</span><span id="__span-0-1516"><span class="c1"># data as possible (the default now) and start if the AOF file is found</span>
</span><span id="__span-0-1517"><span class="c1"># to be truncated at the end. The following option controls this behavior.</span>
</span><span id="__span-0-1518"><span class="c1">#</span>
</span><span id="__span-0-1519"><span class="c1"># If aof-load-truncated is set to yes, a truncated AOF file is loaded and</span>
</span><span id="__span-0-1520"><span class="c1"># the Redis server starts emitting a log to inform the user of the event.</span>
</span><span id="__span-0-1521"><span class="c1"># Otherwise if the option is set to no, the server aborts with an error</span>
</span><span id="__span-0-1522"><span class="c1"># and refuses to start. When the option is set to no, the user requires</span>
</span><span id="__span-0-1523"><span class="c1"># to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart</span>
</span><span id="__span-0-1524"><span class="c1"># the server.</span>
</span><span id="__span-0-1525"><span class="c1">#</span>
</span><span id="__span-0-1526"><span class="c1"># Note that if the AOF file will be found to be corrupted in the middle</span>
</span><span id="__span-0-1527"><span class="c1"># the server will still exit with an error. This option only applies when</span>
</span><span id="__span-0-1528"><span class="c1"># Redis will try to read more data from the AOF file but not enough bytes</span>
</span><span id="__span-0-1529"><span class="c1"># will be found.</span>
</span><span id="__span-0-1530"><span class="n">aof</span><span class="o">-</span><span class="n">load</span><span class="o">-</span><span class="n">truncated</span> <span class="n">yes</span>
</span><span id="__span-0-1531">
</span><span id="__span-0-1532"><span class="c1"># Redis can create append-only base files in either RDB or AOF formats. Using</span>
</span><span id="__span-0-1533"><span class="c1"># the RDB format is always faster and more efficient, and disabling it is only</span>
</span><span id="__span-0-1534"><span class="c1"># supported for backward compatibility purposes.</span>
</span><span id="__span-0-1535"><span class="n">aof</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="n">rdb</span><span class="o">-</span><span class="n">preamble</span> <span class="n">yes</span>
</span><span id="__span-0-1536">
</span><span id="__span-0-1537"><span class="c1"># Redis supports recording timestamp annotations in the AOF to support restoring</span>
</span><span id="__span-0-1538"><span class="c1"># the data from a specific point-in-time. However, using this capability changes</span>
</span><span id="__span-0-1539"><span class="c1"># the AOF format in a way that may not be compatible with existing AOF parsers.</span>
</span><span id="__span-0-1540"><span class="n">aof</span><span class="o">-</span><span class="n">timestamp</span><span class="o">-</span><span class="n">enabled</span> <span class="n">no</span>
</span><span id="__span-0-1541">
</span><span id="__span-0-1542"><span class="c1">################################ SHUTDOWN #####################################</span>
</span><span id="__span-0-1543">
</span><span id="__span-0-1544"><span class="c1"># Maximum time to wait for replicas when shutting down, in seconds.</span>
</span><span id="__span-0-1545"><span class="c1">#</span>
</span><span id="__span-0-1546"><span class="c1"># During shut down, a grace period allows any lagging replicas to catch up with</span>
</span><span id="__span-0-1547"><span class="c1"># the latest replication offset before the master exists. This period can</span>
</span><span id="__span-0-1548"><span class="c1"># prevent data loss, especially for deployments without configured disk backups.</span>
</span><span id="__span-0-1549"><span class="c1">#</span>
</span><span id="__span-0-1550"><span class="c1"># The &#39;shutdown-timeout&#39; value is the grace period&#39;s duration in seconds. It is</span>
</span><span id="__span-0-1551"><span class="c1"># only applicable when the instance has replicas. To disable the feature, set</span>
</span><span id="__span-0-1552"><span class="c1"># the value to 0.</span>
</span><span id="__span-0-1553"><span class="c1">#</span>
</span><span id="__span-0-1554"><span class="c1"># shutdown-timeout 10</span>
</span><span id="__span-0-1555">
</span><span id="__span-0-1556"><span class="c1"># When Redis receives a SIGINT or SIGTERM, shutdown is initiated and by default</span>
</span><span id="__span-0-1557"><span class="c1"># an RDB snapshot is written to disk in a blocking operation if save points are configured.</span>
</span><span id="__span-0-1558"><span class="c1"># The options used on signaled shutdown can include the following values:</span>
</span><span id="__span-0-1559"><span class="c1"># default:  Saves RDB snapshot only if save points are configured.</span>
</span><span id="__span-0-1560"><span class="c1">#           Waits for lagging replicas to catch up.</span>
</span><span id="__span-0-1561"><span class="c1"># save:     Forces a DB saving operation even if no save points are configured.</span>
</span><span id="__span-0-1562"><span class="c1"># nosave:   Prevents DB saving operation even if one or more save points are configured.</span>
</span><span id="__span-0-1563"><span class="c1"># now:      Skips waiting for lagging replicas.</span>
</span><span id="__span-0-1564"><span class="c1"># force:    Ignores any errors that would normally prevent the server from exiting.</span>
</span><span id="__span-0-1565"><span class="c1">#</span>
</span><span id="__span-0-1566"><span class="c1"># Any combination of values is allowed as long as &quot;save&quot; and &quot;nosave&quot; are not set simultaneously.</span>
</span><span id="__span-0-1567"><span class="c1"># Example: &quot;nosave force now&quot;</span>
</span><span id="__span-0-1568"><span class="c1">#</span>
</span><span id="__span-0-1569"><span class="c1"># shutdown-on-sigint default</span>
</span><span id="__span-0-1570"><span class="c1"># shutdown-on-sigterm default</span>
</span><span id="__span-0-1571">
</span><span id="__span-0-1572"><span class="c1">################ NON-DETERMINISTIC LONG BLOCKING COMMANDS #####################</span>
</span><span id="__span-0-1573">
</span><span id="__span-0-1574"><span class="c1"># Maximum time in milliseconds for EVAL scripts, functions and in some cases</span>
</span><span id="__span-0-1575"><span class="c1"># modules&#39; commands before Redis can start processing or rejecting other clients.</span>
</span><span id="__span-0-1576"><span class="c1">#</span>
</span><span id="__span-0-1577"><span class="c1"># If the maximum execution time is reached Redis will start to reply to most</span>
</span><span id="__span-0-1578"><span class="c1"># commands with a BUSY error.</span>
</span><span id="__span-0-1579"><span class="c1">#</span>
</span><span id="__span-0-1580"><span class="c1"># In this state Redis will only allow a handful of commands to be executed.</span>
</span><span id="__span-0-1581"><span class="c1"># For instance, SCRIPT KILL, FUNCTION KILL, SHUTDOWN NOSAVE and possibly some</span>
</span><span id="__span-0-1582"><span class="c1"># module specific &#39;allow-busy&#39; commands.</span>
</span><span id="__span-0-1583"><span class="c1">#</span>
</span><span id="__span-0-1584"><span class="c1"># SCRIPT KILL and FUNCTION KILL will only be able to stop a script that did not</span>
</span><span id="__span-0-1585"><span class="c1"># yet call any write commands, so SHUTDOWN NOSAVE may be the only way to stop</span>
</span><span id="__span-0-1586"><span class="c1"># the server in the case a write command was already issued by the script when</span>
</span><span id="__span-0-1587"><span class="c1"># the user doesn&#39;t want to wait for the natural termination of the script.</span>
</span><span id="__span-0-1588"><span class="c1">#</span>
</span><span id="__span-0-1589"><span class="c1"># The default is 5 seconds. It is possible to set it to 0 or a negative value</span>
</span><span id="__span-0-1590"><span class="c1"># to disable this mechanism (uninterrupted execution). Note that in the past</span>
</span><span id="__span-0-1591"><span class="c1"># this config had a different name, which is now an alias, so both of these do</span>
</span><span id="__span-0-1592"><span class="c1"># the same:</span>
</span><span id="__span-0-1593"><span class="c1"># lua-time-limit 5000</span>
</span><span id="__span-0-1594"><span class="c1"># busy-reply-threshold 5000</span>
</span><span id="__span-0-1595">
</span><span id="__span-0-1596"><span class="c1">################################ REDIS CLUSTER  ###############################</span>
</span><span id="__span-0-1597">
</span><span id="__span-0-1598"><span class="c1"># Normal Redis instances can&#39;t be part of a Redis Cluster; only nodes that are</span>
</span><span id="__span-0-1599"><span class="c1"># started as cluster nodes can. In order to start a Redis instance as a</span>
</span><span id="__span-0-1600"><span class="c1"># cluster node enable the cluster support uncommenting the following:</span>
</span><span id="__span-0-1601"><span class="c1">#</span>
</span><span id="__span-0-1602"><span class="c1"># cluster-enabled yes</span>
</span><span id="__span-0-1603">
</span><span id="__span-0-1604"><span class="c1"># Every cluster node has a cluster configuration file. This file is not</span>
</span><span id="__span-0-1605"><span class="c1"># intended to be edited by hand. It is created and updated by Redis nodes.</span>
</span><span id="__span-0-1606"><span class="c1"># Every Redis Cluster node requires a different cluster configuration file.</span>
</span><span id="__span-0-1607"><span class="c1"># Make sure that instances running in the same system do not have</span>
</span><span id="__span-0-1608"><span class="c1"># overlapping cluster configuration file names.</span>
</span><span id="__span-0-1609"><span class="c1">#</span>
</span><span id="__span-0-1610"><span class="c1"># cluster-config-file nodes-6379.conf</span>
</span><span id="__span-0-1611">
</span><span id="__span-0-1612"><span class="c1"># Cluster node timeout is the amount of milliseconds a node must be unreachable</span>
</span><span id="__span-0-1613"><span class="c1"># for it to be considered in failure state.</span>
</span><span id="__span-0-1614"><span class="c1"># Most other internal time limits are a multiple of the node timeout.</span>
</span><span id="__span-0-1615"><span class="c1">#</span>
</span><span id="__span-0-1616"><span class="c1"># cluster-node-timeout 15000</span>
</span><span id="__span-0-1617">
</span><span id="__span-0-1618"><span class="c1"># The cluster port is the port that the cluster bus will listen for inbound connections on. When set </span>
</span><span id="__span-0-1619"><span class="c1"># to the default value, 0, it will be bound to the command port + 10000. Setting this value requires </span>
</span><span id="__span-0-1620"><span class="c1"># you to specify the cluster bus port when executing cluster meet.</span>
</span><span id="__span-0-1621"><span class="c1"># cluster-port 0</span>
</span><span id="__span-0-1622">
</span><span id="__span-0-1623"><span class="c1"># A replica of a failing master will avoid to start a failover if its data</span>
</span><span id="__span-0-1624"><span class="c1"># looks too old.</span>
</span><span id="__span-0-1625"><span class="c1">#</span>
</span><span id="__span-0-1626"><span class="c1"># There is no simple way for a replica to actually have an exact measure of</span>
</span><span id="__span-0-1627"><span class="c1"># its &quot;data age&quot;, so the following two checks are performed:</span>
</span><span id="__span-0-1628"><span class="c1">#</span>
</span><span id="__span-0-1629"><span class="c1"># 1) If there are multiple replicas able to failover, they exchange messages</span>
</span><span id="__span-0-1630"><span class="c1">#    in order to try to give an advantage to the replica with the best</span>
</span><span id="__span-0-1631"><span class="c1">#    replication offset (more data from the master processed).</span>
</span><span id="__span-0-1632"><span class="c1">#    Replicas will try to get their rank by offset, and apply to the start</span>
</span><span id="__span-0-1633"><span class="c1">#    of the failover a delay proportional to their rank.</span>
</span><span id="__span-0-1634"><span class="c1">#</span>
</span><span id="__span-0-1635"><span class="c1"># 2) Every single replica computes the time of the last interaction with</span>
</span><span id="__span-0-1636"><span class="c1">#    its master. This can be the last ping or command received (if the master</span>
</span><span id="__span-0-1637"><span class="c1">#    is still in the &quot;connected&quot; state), or the time that elapsed since the</span>
</span><span id="__span-0-1638"><span class="c1">#    disconnection with the master (if the replication link is currently down).</span>
</span><span id="__span-0-1639"><span class="c1">#    If the last interaction is too old, the replica will not try to failover</span>
</span><span id="__span-0-1640"><span class="c1">#    at all.</span>
</span><span id="__span-0-1641"><span class="c1">#</span>
</span><span id="__span-0-1642"><span class="c1"># The point &quot;2&quot; can be tuned by user. Specifically a replica will not perform</span>
</span><span id="__span-0-1643"><span class="c1"># the failover if, since the last interaction with the master, the time</span>
</span><span id="__span-0-1644"><span class="c1"># elapsed is greater than:</span>
</span><span id="__span-0-1645"><span class="c1">#</span>
</span><span id="__span-0-1646"><span class="c1">#   (node-timeout * cluster-replica-validity-factor) + repl-ping-replica-period</span>
</span><span id="__span-0-1647"><span class="c1">#</span>
</span><span id="__span-0-1648"><span class="c1"># So for example if node-timeout is 30 seconds, and the cluster-replica-validity-factor</span>
</span><span id="__span-0-1649"><span class="c1"># is 10, and assuming a default repl-ping-replica-period of 10 seconds, the</span>
</span><span id="__span-0-1650"><span class="c1"># replica will not try to failover if it was not able to talk with the master</span>
</span><span id="__span-0-1651"><span class="c1"># for longer than 310 seconds.</span>
</span><span id="__span-0-1652"><span class="c1">#</span>
</span><span id="__span-0-1653"><span class="c1"># A large cluster-replica-validity-factor may allow replicas with too old data to failover</span>
</span><span id="__span-0-1654"><span class="c1"># a master, while a too small value may prevent the cluster from being able to</span>
</span><span id="__span-0-1655"><span class="c1"># elect a replica at all.</span>
</span><span id="__span-0-1656"><span class="c1">#</span>
</span><span id="__span-0-1657"><span class="c1"># For maximum availability, it is possible to set the cluster-replica-validity-factor</span>
</span><span id="__span-0-1658"><span class="c1"># to a value of 0, which means, that replicas will always try to failover the</span>
</span><span id="__span-0-1659"><span class="c1"># master regardless of the last time they interacted with the master.</span>
</span><span id="__span-0-1660"><span class="c1"># (However they&#39;ll always try to apply a delay proportional to their</span>
</span><span id="__span-0-1661"><span class="c1"># offset rank).</span>
</span><span id="__span-0-1662"><span class="c1">#</span>
</span><span id="__span-0-1663"><span class="c1"># Zero is the only value able to guarantee that when all the partitions heal</span>
</span><span id="__span-0-1664"><span class="c1"># the cluster will always be able to continue.</span>
</span><span id="__span-0-1665"><span class="c1">#</span>
</span><span id="__span-0-1666"><span class="c1"># cluster-replica-validity-factor 10</span>
</span><span id="__span-0-1667">
</span><span id="__span-0-1668"><span class="c1"># Cluster replicas are able to migrate to orphaned masters, that are masters</span>
</span><span id="__span-0-1669"><span class="c1"># that are left without working replicas. This improves the cluster ability</span>
</span><span id="__span-0-1670"><span class="c1"># to resist to failures as otherwise an orphaned master can&#39;t be failed over</span>
</span><span id="__span-0-1671"><span class="c1"># in case of failure if it has no working replicas.</span>
</span><span id="__span-0-1672"><span class="c1">#</span>
</span><span id="__span-0-1673"><span class="c1"># Replicas migrate to orphaned masters only if there are still at least a</span>
</span><span id="__span-0-1674"><span class="c1"># given number of other working replicas for their old master. This number</span>
</span><span id="__span-0-1675"><span class="c1"># is the &quot;migration barrier&quot;. A migration barrier of 1 means that a replica</span>
</span><span id="__span-0-1676"><span class="c1"># will migrate only if there is at least 1 other working replica for its master</span>
</span><span id="__span-0-1677"><span class="c1"># and so forth. It usually reflects the number of replicas you want for every</span>
</span><span id="__span-0-1678"><span class="c1"># master in your cluster.</span>
</span><span id="__span-0-1679"><span class="c1">#</span>
</span><span id="__span-0-1680"><span class="c1"># Default is 1 (replicas migrate only if their masters remain with at least</span>
</span><span id="__span-0-1681"><span class="c1"># one replica). To disable migration just set it to a very large value or</span>
</span><span id="__span-0-1682"><span class="c1"># set cluster-allow-replica-migration to &#39;no&#39;.</span>
</span><span id="__span-0-1683"><span class="c1"># A value of 0 can be set but is useful only for debugging and dangerous</span>
</span><span id="__span-0-1684"><span class="c1"># in production.</span>
</span><span id="__span-0-1685"><span class="c1">#</span>
</span><span id="__span-0-1686"><span class="c1"># cluster-migration-barrier 1</span>
</span><span id="__span-0-1687">
</span><span id="__span-0-1688"><span class="c1"># Turning off this option allows to use less automatic cluster configuration.</span>
</span><span id="__span-0-1689"><span class="c1"># It both disables migration to orphaned masters and migration from masters</span>
</span><span id="__span-0-1690"><span class="c1"># that became empty.</span>
</span><span id="__span-0-1691"><span class="c1">#</span>
</span><span id="__span-0-1692"><span class="c1"># Default is &#39;yes&#39; (allow automatic migrations).</span>
</span><span id="__span-0-1693"><span class="c1">#</span>
</span><span id="__span-0-1694"><span class="c1"># cluster-allow-replica-migration yes</span>
</span><span id="__span-0-1695">
</span><span id="__span-0-1696"><span class="c1"># By default Redis Cluster nodes stop accepting queries if they detect there</span>
</span><span id="__span-0-1697"><span class="c1"># is at least a hash slot uncovered (no available node is serving it).</span>
</span><span id="__span-0-1698"><span class="c1"># This way if the cluster is partially down (for example a range of hash slots</span>
</span><span id="__span-0-1699"><span class="c1"># are no longer covered) all the cluster becomes, eventually, unavailable.</span>
</span><span id="__span-0-1700"><span class="c1"># It automatically returns available as soon as all the slots are covered again.</span>
</span><span id="__span-0-1701"><span class="c1">#</span>
</span><span id="__span-0-1702"><span class="c1"># However sometimes you want the subset of the cluster which is working,</span>
</span><span id="__span-0-1703"><span class="c1"># to continue to accept queries for the part of the key space that is still</span>
</span><span id="__span-0-1704"><span class="c1"># covered. In order to do so, just set the cluster-require-full-coverage</span>
</span><span id="__span-0-1705"><span class="c1"># option to no.</span>
</span><span id="__span-0-1706"><span class="c1">#</span>
</span><span id="__span-0-1707"><span class="c1"># cluster-require-full-coverage yes</span>
</span><span id="__span-0-1708">
</span><span id="__span-0-1709"><span class="c1"># This option, when set to yes, prevents replicas from trying to failover its</span>
</span><span id="__span-0-1710"><span class="c1"># master during master failures. However the replica can still perform a</span>
</span><span id="__span-0-1711"><span class="c1"># manual failover, if forced to do so.</span>
</span><span id="__span-0-1712"><span class="c1">#</span>
</span><span id="__span-0-1713"><span class="c1"># This is useful in different scenarios, especially in the case of multiple</span>
</span><span id="__span-0-1714"><span class="c1"># data center operations, where we want one side to never be promoted if not</span>
</span><span id="__span-0-1715"><span class="c1"># in the case of a total DC failure.</span>
</span><span id="__span-0-1716"><span class="c1">#</span>
</span><span id="__span-0-1717"><span class="c1"># cluster-replica-no-failover no</span>
</span><span id="__span-0-1718">
</span><span id="__span-0-1719"><span class="c1"># This option, when set to yes, allows nodes to serve read traffic while the</span>
</span><span id="__span-0-1720"><span class="c1"># cluster is in a down state, as long as it believes it owns the slots.</span>
</span><span id="__span-0-1721"><span class="c1">#</span>
</span><span id="__span-0-1722"><span class="c1"># This is useful for two cases.  The first case is for when an application</span>
</span><span id="__span-0-1723"><span class="c1"># doesn&#39;t require consistency of data during node failures or network partitions.</span>
</span><span id="__span-0-1724"><span class="c1"># One example of this is a cache, where as long as the node has the data it</span>
</span><span id="__span-0-1725"><span class="c1"># should be able to serve it.</span>
</span><span id="__span-0-1726"><span class="c1">#</span>
</span><span id="__span-0-1727"><span class="c1"># The second use case is for configurations that don&#39;t meet the recommended</span>
</span><span id="__span-0-1728"><span class="c1"># three shards but want to enable cluster mode and scale later. A</span>
</span><span id="__span-0-1729"><span class="c1"># master outage in a 1 or 2 shard configuration causes a read/write outage to the</span>
</span><span id="__span-0-1730"><span class="c1"># entire cluster without this option set, with it set there is only a write outage.</span>
</span><span id="__span-0-1731"><span class="c1"># Without a quorum of masters, slot ownership will not change automatically.</span>
</span><span id="__span-0-1732"><span class="c1">#</span>
</span><span id="__span-0-1733"><span class="c1"># cluster-allow-reads-when-down no</span>
</span><span id="__span-0-1734">
</span><span id="__span-0-1735"><span class="c1"># This option, when set to yes, allows nodes to serve pubsub shard traffic while</span>
</span><span id="__span-0-1736"><span class="c1"># the cluster is in a down state, as long as it believes it owns the slots.</span>
</span><span id="__span-0-1737"><span class="c1">#</span>
</span><span id="__span-0-1738"><span class="c1"># This is useful if the application would like to use the pubsub feature even when</span>
</span><span id="__span-0-1739"><span class="c1"># the cluster global stable state is not OK. If the application wants to make sure only</span>
</span><span id="__span-0-1740"><span class="c1"># one shard is serving a given channel, this feature should be kept as yes.</span>
</span><span id="__span-0-1741"><span class="c1">#</span>
</span><span id="__span-0-1742"><span class="c1"># cluster-allow-pubsubshard-when-down yes</span>
</span><span id="__span-0-1743">
</span><span id="__span-0-1744"><span class="c1"># Cluster link send buffer limit is the limit on the memory usage of an individual</span>
</span><span id="__span-0-1745"><span class="c1"># cluster bus link&#39;s send buffer in bytes. Cluster links would be freed if they exceed</span>
</span><span id="__span-0-1746"><span class="c1"># this limit. This is to primarily prevent send buffers from growing unbounded on links</span>
</span><span id="__span-0-1747"><span class="c1"># toward slow peers (E.g. PubSub messages being piled up).</span>
</span><span id="__span-0-1748"><span class="c1"># This limit is disabled by default. Enable this limit when &#39;mem_cluster_links&#39; INFO field</span>
</span><span id="__span-0-1749"><span class="c1"># and/or &#39;send-buffer-allocated&#39; entries in the &#39;CLUSTER LINKS` command output continuously increase.</span>
</span><span id="__span-0-1750"><span class="c1"># Minimum limit of 1gb is recommended so that cluster link buffer can fit in at least a single</span>
</span><span id="__span-0-1751"><span class="c1"># PubSub message by default. (client-query-buffer-limit default value is 1gb)</span>
</span><span id="__span-0-1752"><span class="c1">#</span>
</span><span id="__span-0-1753"><span class="c1"># cluster-link-sendbuf-limit 0</span>
</span><span id="__span-0-1754">
</span><span id="__span-0-1755"><span class="c1"># Clusters can configure their announced hostname using this config. This is a common use case for </span>
</span><span id="__span-0-1756"><span class="c1"># applications that need to use TLS Server Name Indication (SNI) or dealing with DNS based</span>
</span><span id="__span-0-1757"><span class="c1"># routing. By default this value is only shown as additional metadata in the CLUSTER SLOTS</span>
</span><span id="__span-0-1758"><span class="c1"># command, but can be changed using &#39;cluster-preferred-endpoint-type&#39; config. This value is </span>
</span><span id="__span-0-1759"><span class="c1"># communicated along the clusterbus to all nodes, setting it to an empty string will remove </span>
</span><span id="__span-0-1760"><span class="c1"># the hostname and also propagate the removal.</span>
</span><span id="__span-0-1761"><span class="c1">#</span>
</span><span id="__span-0-1762"><span class="c1"># cluster-announce-hostname &quot;&quot;</span>
</span><span id="__span-0-1763">
</span><span id="__span-0-1764"><span class="c1"># Clusters can configure an optional nodename to be used in addition to the node ID for</span>
</span><span id="__span-0-1765"><span class="c1"># debugging and admin information. This name is broadcasted between nodes, so will be used</span>
</span><span id="__span-0-1766"><span class="c1"># in addition to the node ID when reporting cross node events such as node failures.</span>
</span><span id="__span-0-1767"><span class="c1"># cluster-announce-human-nodename &quot;&quot;</span>
</span><span id="__span-0-1768">
</span><span id="__span-0-1769"><span class="c1"># Clusters can advertise how clients should connect to them using either their IP address,</span>
</span><span id="__span-0-1770"><span class="c1"># a user defined hostname, or by declaring they have no endpoint. Which endpoint is</span>
</span><span id="__span-0-1771"><span class="c1"># shown as the preferred endpoint is set by using the cluster-preferred-endpoint-type</span>
</span><span id="__span-0-1772"><span class="c1"># config with values &#39;ip&#39;, &#39;hostname&#39;, or &#39;unknown-endpoint&#39;. This value controls how</span>
</span><span id="__span-0-1773"><span class="c1"># the endpoint returned for MOVED/ASKING requests as well as the first field of CLUSTER SLOTS. </span>
</span><span id="__span-0-1774"><span class="c1"># If the preferred endpoint type is set to hostname, but no announced hostname is set, a &#39;?&#39; </span>
</span><span id="__span-0-1775"><span class="c1"># will be returned instead.</span>
</span><span id="__span-0-1776"><span class="c1">#</span>
</span><span id="__span-0-1777"><span class="c1"># When a cluster advertises itself as having an unknown endpoint, it&#39;s indicating that</span>
</span><span id="__span-0-1778"><span class="c1"># the server doesn&#39;t know how clients can reach the cluster. This can happen in certain </span>
</span><span id="__span-0-1779"><span class="c1"># networking situations where there are multiple possible routes to the node, and the </span>
</span><span id="__span-0-1780"><span class="c1"># server doesn&#39;t know which one the client took. In this case, the server is expecting</span>
</span><span id="__span-0-1781"><span class="c1"># the client to reach out on the same endpoint it used for making the last request, but use</span>
</span><span id="__span-0-1782"><span class="c1"># the port provided in the response.</span>
</span><span id="__span-0-1783"><span class="c1">#</span>
</span><span id="__span-0-1784"><span class="c1"># cluster-preferred-endpoint-type ip</span>
</span><span id="__span-0-1785">
</span><span id="__span-0-1786"><span class="c1"># In order to setup your cluster make sure to read the documentation</span>
</span><span id="__span-0-1787"><span class="c1"># available at https://redis.io web site.</span>
</span><span id="__span-0-1788">
</span><span id="__span-0-1789"><span class="c1">########################## CLUSTER DOCKER/NAT support  ########################</span>
</span><span id="__span-0-1790">
</span><span id="__span-0-1791"><span class="c1"># In certain deployments, Redis Cluster nodes address discovery fails, because</span>
</span><span id="__span-0-1792"><span class="c1"># addresses are NAT-ted or because ports are forwarded (the typical case is</span>
</span><span id="__span-0-1793"><span class="c1"># Docker and other containers).</span>
</span><span id="__span-0-1794"><span class="c1">#</span>
</span><span id="__span-0-1795"><span class="c1"># In order to make Redis Cluster working in such environments, a static</span>
</span><span id="__span-0-1796"><span class="c1"># configuration where each node knows its public address is needed. The</span>
</span><span id="__span-0-1797"><span class="c1"># following four options are used for this scope, and are:</span>
</span><span id="__span-0-1798"><span class="c1">#</span>
</span><span id="__span-0-1799"><span class="c1"># * cluster-announce-ip</span>
</span><span id="__span-0-1800"><span class="c1"># * cluster-announce-port</span>
</span><span id="__span-0-1801"><span class="c1"># * cluster-announce-tls-port</span>
</span><span id="__span-0-1802"><span class="c1"># * cluster-announce-bus-port</span>
</span><span id="__span-0-1803"><span class="c1">#</span>
</span><span id="__span-0-1804"><span class="c1"># Each instructs the node about its address, client ports (for connections</span>
</span><span id="__span-0-1805"><span class="c1"># without and with TLS) and cluster message bus port. The information is then</span>
</span><span id="__span-0-1806"><span class="c1"># published in the header of the bus packets so that other nodes will be able to</span>
</span><span id="__span-0-1807"><span class="c1"># correctly map the address of the node publishing the information.</span>
</span><span id="__span-0-1808"><span class="c1">#</span>
</span><span id="__span-0-1809"><span class="c1"># If tls-cluster is set to yes and cluster-announce-tls-port is omitted or set</span>
</span><span id="__span-0-1810"><span class="c1"># to zero, then cluster-announce-port refers to the TLS port. Note also that</span>
</span><span id="__span-0-1811"><span class="c1"># cluster-announce-tls-port has no effect if tls-cluster is set to no.</span>
</span><span id="__span-0-1812"><span class="c1">#</span>
</span><span id="__span-0-1813"><span class="c1"># If the above options are not used, the normal Redis Cluster auto-detection</span>
</span><span id="__span-0-1814"><span class="c1"># will be used instead.</span>
</span><span id="__span-0-1815"><span class="c1">#</span>
</span><span id="__span-0-1816"><span class="c1"># Note that when remapped, the bus port may not be at the fixed offset of</span>
</span><span id="__span-0-1817"><span class="c1"># clients port + 10000, so you can specify any port and bus-port depending</span>
</span><span id="__span-0-1818"><span class="c1"># on how they get remapped. If the bus-port is not set, a fixed offset of</span>
</span><span id="__span-0-1819"><span class="c1"># 10000 will be used as usual.</span>
</span><span id="__span-0-1820"><span class="c1">#</span>
</span><span id="__span-0-1821"><span class="c1"># Example:</span>
</span><span id="__span-0-1822"><span class="c1">#</span>
</span><span id="__span-0-1823"><span class="c1"># cluster-announce-ip 10.1.1.5</span>
</span><span id="__span-0-1824"><span class="c1"># cluster-announce-tls-port 6379</span>
</span><span id="__span-0-1825"><span class="c1"># cluster-announce-port 0</span>
</span><span id="__span-0-1826"><span class="c1"># cluster-announce-bus-port 6380</span>
</span><span id="__span-0-1827">
</span><span id="__span-0-1828"><span class="c1">################################## SLOW LOG ###################################</span>
</span><span id="__span-0-1829">
</span><span id="__span-0-1830"><span class="c1"># The Redis Slow Log is a system to log queries that exceeded a specified</span>
</span><span id="__span-0-1831"><span class="c1"># execution time. The execution time does not include the I/O operations</span>
</span><span id="__span-0-1832"><span class="c1"># like talking with the client, sending the reply and so forth,</span>
</span><span id="__span-0-1833"><span class="c1"># but just the time needed to actually execute the command (this is the only</span>
</span><span id="__span-0-1834"><span class="c1"># stage of command execution where the thread is blocked and can not serve</span>
</span><span id="__span-0-1835"><span class="c1"># other requests in the meantime).</span>
</span><span id="__span-0-1836"><span class="c1">#</span>
</span><span id="__span-0-1837"><span class="c1"># You can configure the slow log with two parameters: one tells Redis</span>
</span><span id="__span-0-1838"><span class="c1"># what is the execution time, in microseconds, to exceed in order for the</span>
</span><span id="__span-0-1839"><span class="c1"># command to get logged, and the other parameter is the length of the</span>
</span><span id="__span-0-1840"><span class="c1"># slow log. When a new command is logged the oldest one is removed from the</span>
</span><span id="__span-0-1841"><span class="c1"># queue of logged commands.</span>
</span><span id="__span-0-1842">
</span><span id="__span-0-1843"><span class="c1"># The following time is expressed in microseconds, so 1000000 is equivalent</span>
</span><span id="__span-0-1844"><span class="c1"># to one second. Note that a negative number disables the slow log, while</span>
</span><span id="__span-0-1845"><span class="c1"># a value of zero forces the logging of every command.</span>
</span><span id="__span-0-1846"><span class="n">slowlog</span><span class="o">-</span><span class="n">log</span><span class="o">-</span><span class="n">slower</span><span class="o">-</span><span class="n">than</span> <span class="mi">10000</span>
</span><span id="__span-0-1847">
</span><span id="__span-0-1848"><span class="c1"># There is no limit to this length. Just be aware that it will consume memory.</span>
</span><span id="__span-0-1849"><span class="c1"># You can reclaim memory used by the slow log with SLOWLOG RESET.</span>
</span><span id="__span-0-1850"><span class="n">slowlog</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="nb">len</span> <span class="mi">128</span>
</span><span id="__span-0-1851">
</span><span id="__span-0-1852"><span class="c1">################################ LATENCY MONITOR ##############################</span>
</span><span id="__span-0-1853">
</span><span id="__span-0-1854"><span class="c1"># The Redis latency monitoring subsystem samples different operations</span>
</span><span id="__span-0-1855"><span class="c1"># at runtime in order to collect data related to possible sources of</span>
</span><span id="__span-0-1856"><span class="c1"># latency of a Redis instance.</span>
</span><span id="__span-0-1857"><span class="c1">#</span>
</span><span id="__span-0-1858"><span class="c1"># Via the LATENCY command this information is available to the user that can</span>
</span><span id="__span-0-1859"><span class="c1"># print graphs and obtain reports.</span>
</span><span id="__span-0-1860"><span class="c1">#</span>
</span><span id="__span-0-1861"><span class="c1"># The system only logs operations that were performed in a time equal or</span>
</span><span id="__span-0-1862"><span class="c1"># greater than the amount of milliseconds specified via the</span>
</span><span id="__span-0-1863"><span class="c1"># latency-monitor-threshold configuration directive. When its value is set</span>
</span><span id="__span-0-1864"><span class="c1"># to zero, the latency monitor is turned off.</span>
</span><span id="__span-0-1865"><span class="c1">#</span>
</span><span id="__span-0-1866"><span class="c1"># By default latency monitoring is disabled since it is mostly not needed</span>
</span><span id="__span-0-1867"><span class="c1"># if you don&#39;t have latency issues, and collecting data has a performance</span>
</span><span id="__span-0-1868"><span class="c1"># impact, that while very small, can be measured under big load. Latency</span>
</span><span id="__span-0-1869"><span class="c1"># monitoring can easily be enabled at runtime using the command</span>
</span><span id="__span-0-1870"><span class="c1"># &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.</span>
</span><span id="__span-0-1871"><span class="n">latency</span><span class="o">-</span><span class="n">monitor</span><span class="o">-</span><span class="n">threshold</span> <span class="mi">0</span>
</span><span id="__span-0-1872">
</span><span id="__span-0-1873"><span class="c1">################################ LATENCY TRACKING ##############################</span>
</span><span id="__span-0-1874">
</span><span id="__span-0-1875"><span class="c1"># The Redis extended latency monitoring tracks the per command latencies and enables</span>
</span><span id="__span-0-1876"><span class="c1"># exporting the percentile distribution via the INFO latencystats command,</span>
</span><span id="__span-0-1877"><span class="c1"># and cumulative latency distributions (histograms) via the LATENCY command.</span>
</span><span id="__span-0-1878"><span class="c1">#</span>
</span><span id="__span-0-1879"><span class="c1"># By default, the extended latency monitoring is enabled since the overhead</span>
</span><span id="__span-0-1880"><span class="c1"># of keeping track of the command latency is very small.</span>
</span><span id="__span-0-1881"><span class="c1"># latency-tracking yes</span>
</span><span id="__span-0-1882">
</span><span id="__span-0-1883"><span class="c1"># By default the exported latency percentiles via the INFO latencystats command</span>
</span><span id="__span-0-1884"><span class="c1"># are the p50, p99, and p999.</span>
</span><span id="__span-0-1885"><span class="c1"># latency-tracking-info-percentiles 50 99 99.9</span>
</span><span id="__span-0-1886">
</span><span id="__span-0-1887"><span class="c1">############################# EVENT NOTIFICATION ##############################</span>
</span><span id="__span-0-1888">
</span><span id="__span-0-1889"><span class="c1"># Redis can notify Pub/Sub clients about events happening in the key space.</span>
</span><span id="__span-0-1890"><span class="c1"># This feature is documented at https://redis.io/docs/latest/develop/use/keyspace-notifications/</span>
</span><span id="__span-0-1891"><span class="c1">#</span>
</span><span id="__span-0-1892"><span class="c1"># For instance if keyspace events notification is enabled, and a client</span>
</span><span id="__span-0-1893"><span class="c1"># performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two</span>
</span><span id="__span-0-1894"><span class="c1"># messages will be published via Pub/Sub:</span>
</span><span id="__span-0-1895"><span class="c1">#</span>
</span><span id="__span-0-1896"><span class="c1"># PUBLISH __keyspace@0__:foo del</span>
</span><span id="__span-0-1897"><span class="c1"># PUBLISH __keyevent@0__:del foo</span>
</span><span id="__span-0-1898"><span class="c1">#</span>
</span><span id="__span-0-1899"><span class="c1"># It is possible to select the events that Redis will notify among a set</span>
</span><span id="__span-0-1900"><span class="c1"># of classes. Every class is identified by a single character:</span>
</span><span id="__span-0-1901"><span class="c1">#</span>
</span><span id="__span-0-1902"><span class="c1">#  K     Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.</span>
</span><span id="__span-0-1903"><span class="c1">#  E     Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.</span>
</span><span id="__span-0-1904"><span class="c1">#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...</span>
</span><span id="__span-0-1905"><span class="c1">#  $     String commands</span>
</span><span id="__span-0-1906"><span class="c1">#  l     List commands</span>
</span><span id="__span-0-1907"><span class="c1">#  s     Set commands</span>
</span><span id="__span-0-1908"><span class="c1">#  h     Hash commands</span>
</span><span id="__span-0-1909"><span class="c1">#  z     Sorted set commands</span>
</span><span id="__span-0-1910"><span class="c1">#  x     Expired events (events generated every time a key expires)</span>
</span><span id="__span-0-1911"><span class="c1">#  e     Evicted events (events generated when a key is evicted for maxmemory)</span>
</span><span id="__span-0-1912"><span class="c1">#  n     New key events (Note: not included in the &#39;A&#39; class)</span>
</span><span id="__span-0-1913"><span class="c1">#  t     Stream commands</span>
</span><span id="__span-0-1914"><span class="c1">#  d     Module key type events</span>
</span><span id="__span-0-1915"><span class="c1">#  m     Key-miss events (Note: It is not included in the &#39;A&#39; class)</span>
</span><span id="__span-0-1916"><span class="c1">#  A     Alias for g$lshzxetd, so that the &quot;AKE&quot; string means all the events</span>
</span><span id="__span-0-1917"><span class="c1">#        (Except key-miss events which are excluded from &#39;A&#39; due to their</span>
</span><span id="__span-0-1918"><span class="c1">#         unique nature).</span>
</span><span id="__span-0-1919"><span class="c1">#</span>
</span><span id="__span-0-1920"><span class="c1">#  The &quot;notify-keyspace-events&quot; takes as argument a string that is composed</span>
</span><span id="__span-0-1921"><span class="c1">#  of zero or multiple characters. The empty string means that notifications</span>
</span><span id="__span-0-1922"><span class="c1">#  are disabled.</span>
</span><span id="__span-0-1923"><span class="c1">#</span>
</span><span id="__span-0-1924"><span class="c1">#  Example: to enable list and generic events, from the point of view of the</span>
</span><span id="__span-0-1925"><span class="c1">#           event name, use:</span>
</span><span id="__span-0-1926"><span class="c1">#</span>
</span><span id="__span-0-1927"><span class="c1">#  notify-keyspace-events Elg</span>
</span><span id="__span-0-1928"><span class="c1">#</span>
</span><span id="__span-0-1929"><span class="c1">#  Example 2: to get the stream of the expired keys subscribing to channel</span>
</span><span id="__span-0-1930"><span class="c1">#             name __keyevent@0__:expired use:</span>
</span><span id="__span-0-1931"><span class="c1">#</span>
</span><span id="__span-0-1932"><span class="c1">#  notify-keyspace-events Ex</span>
</span><span id="__span-0-1933"><span class="c1">#</span>
</span><span id="__span-0-1934"><span class="c1">#  By default all notifications are disabled because most users don&#39;t need</span>
</span><span id="__span-0-1935"><span class="c1">#  this feature and the feature has some overhead. Note that if you don&#39;t</span>
</span><span id="__span-0-1936"><span class="c1">#  specify at least one of K or E, no events will be delivered.</span>
</span><span id="__span-0-1937"><span class="n">notify</span><span class="o">-</span><span class="n">keyspace</span><span class="o">-</span><span class="n">events</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-1938">
</span><span id="__span-0-1939"><span class="c1">############################### ADVANCED CONFIG ###############################</span>
</span><span id="__span-0-1940">
</span><span id="__span-0-1941"><span class="c1"># Hashes are encoded using a memory efficient data structure when they have a</span>
</span><span id="__span-0-1942"><span class="c1"># small number of entries, and the biggest entry does not exceed a given</span>
</span><span id="__span-0-1943"><span class="c1"># threshold. These thresholds can be configured using the following directives.</span>
</span><span id="__span-0-1944"><span class="nb">hash</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">entries</span> <span class="mi">512</span>
</span><span id="__span-0-1945"><span class="nb">hash</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">value</span> <span class="mi">64</span>
</span><span id="__span-0-1946">
</span><span id="__span-0-1947"><span class="c1"># Lists are also encoded in a special way to save a lot of space.</span>
</span><span id="__span-0-1948"><span class="c1"># The number of entries allowed per internal list node can be specified</span>
</span><span id="__span-0-1949"><span class="c1"># as a fixed maximum size or a maximum number of elements.</span>
</span><span id="__span-0-1950"><span class="c1"># For a fixed maximum size, use -5 through -1, meaning:</span>
</span><span id="__span-0-1951"><span class="c1"># -5: max size: 64 Kb  &lt;-- not recommended for normal workloads</span>
</span><span id="__span-0-1952"><span class="c1"># -4: max size: 32 Kb  &lt;-- not recommended</span>
</span><span id="__span-0-1953"><span class="c1"># -3: max size: 16 Kb  &lt;-- probably not recommended</span>
</span><span id="__span-0-1954"><span class="c1"># -2: max size: 8 Kb   &lt;-- good</span>
</span><span id="__span-0-1955"><span class="c1"># -1: max size: 4 Kb   &lt;-- good</span>
</span><span id="__span-0-1956"><span class="c1"># Positive numbers mean store up to _exactly_ that number of elements</span>
</span><span id="__span-0-1957"><span class="c1"># per list node.</span>
</span><span id="__span-0-1958"><span class="c1"># The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),</span>
</span><span id="__span-0-1959"><span class="c1"># but if your use case is unique, adjust the settings as necessary.</span>
</span><span id="__span-0-1960"><span class="nb">list</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">size</span> <span class="o">-</span><span class="mi">2</span>
</span><span id="__span-0-1961">
</span><span id="__span-0-1962"><span class="c1"># Lists may also be compressed.</span>
</span><span id="__span-0-1963"><span class="c1"># Compress depth is the number of quicklist ziplist nodes from *each* side of</span>
</span><span id="__span-0-1964"><span class="c1"># the list to *exclude* from compression.  The head and tail of the list</span>
</span><span id="__span-0-1965"><span class="c1"># are always uncompressed for fast push/pop operations.  Settings are:</span>
</span><span id="__span-0-1966"><span class="c1"># 0: disable all list compression</span>
</span><span id="__span-0-1967"><span class="c1"># 1: depth 1 means &quot;don&#39;t start compressing until after 1 node into the list,</span>
</span><span id="__span-0-1968"><span class="c1">#    going from either the head or tail&quot;</span>
</span><span id="__span-0-1969"><span class="c1">#    So: [head]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[tail]</span>
</span><span id="__span-0-1970"><span class="c1">#    [head], [tail] will always be uncompressed; inner nodes will compress.</span>
</span><span id="__span-0-1971"><span class="c1"># 2: [head]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[tail]</span>
</span><span id="__span-0-1972"><span class="c1">#    2 here means: don&#39;t compress head or head-&gt;next or tail-&gt;prev or tail,</span>
</span><span id="__span-0-1973"><span class="c1">#    but compress all nodes between them.</span>
</span><span id="__span-0-1974"><span class="c1"># 3: [head]-&gt;[next]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[prev]-&gt;[tail]</span>
</span><span id="__span-0-1975"><span class="c1"># etc.</span>
</span><span id="__span-0-1976"><span class="nb">list</span><span class="o">-</span><span class="n">compress</span><span class="o">-</span><span class="n">depth</span> <span class="mi">0</span>
</span><span id="__span-0-1977">
</span><span id="__span-0-1978"><span class="c1"># Sets have a special encoding when a set is composed</span>
</span><span id="__span-0-1979"><span class="c1"># of just strings that happen to be integers in radix 10 in the range</span>
</span><span id="__span-0-1980"><span class="c1"># of 64 bit signed integers.</span>
</span><span id="__span-0-1981"><span class="c1"># The following configuration setting sets the limit in the size of the</span>
</span><span id="__span-0-1982"><span class="c1"># set in order to use this special memory saving encoding.</span>
</span><span id="__span-0-1983"><span class="nb">set</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">intset</span><span class="o">-</span><span class="n">entries</span> <span class="mi">512</span>
</span><span id="__span-0-1984">
</span><span id="__span-0-1985"><span class="c1"># Sets containing non-integer values are also encoded using a memory efficient</span>
</span><span id="__span-0-1986"><span class="c1"># data structure when they have a small number of entries, and the biggest entry</span>
</span><span id="__span-0-1987"><span class="c1"># does not exceed a given threshold. These thresholds can be configured using</span>
</span><span id="__span-0-1988"><span class="c1"># the following directives.</span>
</span><span id="__span-0-1989"><span class="nb">set</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">entries</span> <span class="mi">128</span>
</span><span id="__span-0-1990"><span class="nb">set</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">value</span> <span class="mi">64</span>
</span><span id="__span-0-1991">
</span><span id="__span-0-1992"><span class="c1"># Similarly to hashes and lists, sorted sets are also specially encoded in</span>
</span><span id="__span-0-1993"><span class="c1"># order to save a lot of space. This encoding is only used when the length and</span>
</span><span id="__span-0-1994"><span class="c1"># elements of a sorted set are below the following limits:</span>
</span><span id="__span-0-1995"><span class="n">zset</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">entries</span> <span class="mi">128</span>
</span><span id="__span-0-1996"><span class="n">zset</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">listpack</span><span class="o">-</span><span class="n">value</span> <span class="mi">64</span>
</span><span id="__span-0-1997">
</span><span id="__span-0-1998"><span class="c1"># HyperLogLog sparse representation bytes limit. The limit includes the</span>
</span><span id="__span-0-1999"><span class="c1"># 16 bytes header. When a HyperLogLog using the sparse representation crosses</span>
</span><span id="__span-0-2000"><span class="c1"># this limit, it is converted into the dense representation.</span>
</span><span id="__span-0-2001"><span class="c1">#</span>
</span><span id="__span-0-2002"><span class="c1"># A value greater than 16000 is totally useless, since at that point the</span>
</span><span id="__span-0-2003"><span class="c1"># dense representation is more memory efficient.</span>
</span><span id="__span-0-2004"><span class="c1">#</span>
</span><span id="__span-0-2005"><span class="c1"># The suggested value is ~ 3000 in order to have the benefits of</span>
</span><span id="__span-0-2006"><span class="c1"># the space efficient encoding without slowing down too much PFADD,</span>
</span><span id="__span-0-2007"><span class="c1"># which is O(N) with the sparse encoding. The value can be raised to</span>
</span><span id="__span-0-2008"><span class="c1"># ~ 10000 when CPU is not a concern, but space is, and the data set is</span>
</span><span id="__span-0-2009"><span class="c1"># composed of many HyperLogLogs with cardinality in the 0 - 15000 range.</span>
</span><span id="__span-0-2010"><span class="n">hll</span><span class="o">-</span><span class="n">sparse</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="nb">bytes</span> <span class="mi">3000</span>
</span><span id="__span-0-2011">
</span><span id="__span-0-2012"><span class="c1"># Streams macro node max size / items. The stream data structure is a radix</span>
</span><span id="__span-0-2013"><span class="c1"># tree of big nodes that encode multiple items inside. Using this configuration</span>
</span><span id="__span-0-2014"><span class="c1"># it is possible to configure how big a single node can be in bytes, and the</span>
</span><span id="__span-0-2015"><span class="c1"># maximum number of items it may contain before switching to a new node when</span>
</span><span id="__span-0-2016"><span class="c1"># appending new stream entries. If any of the following settings are set to</span>
</span><span id="__span-0-2017"><span class="c1"># zero, the limit is ignored, so for instance it is possible to set just a</span>
</span><span id="__span-0-2018"><span class="c1"># max entries limit by setting max-bytes to 0 and max-entries to the desired</span>
</span><span id="__span-0-2019"><span class="c1"># value.</span>
</span><span id="__span-0-2020"><span class="n">stream</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="nb">bytes</span> <span class="mi">4096</span>
</span><span id="__span-0-2021"><span class="n">stream</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="nb">max</span><span class="o">-</span><span class="n">entries</span> <span class="mi">100</span>
</span><span id="__span-0-2022">
</span><span id="__span-0-2023"><span class="c1"># Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in</span>
</span><span id="__span-0-2024"><span class="c1"># order to help rehashing the main Redis hash table (the one mapping top-level</span>
</span><span id="__span-0-2025"><span class="c1"># keys to values). The hash table implementation Redis uses (see dict.c)</span>
</span><span id="__span-0-2026"><span class="c1"># performs a lazy rehashing: the more operation you run into a hash table</span>
</span><span id="__span-0-2027"><span class="c1"># that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the</span>
</span><span id="__span-0-2028"><span class="c1"># server is idle the rehashing is never complete and some more memory is used</span>
</span><span id="__span-0-2029"><span class="c1"># by the hash table.</span>
</span><span id="__span-0-2030"><span class="c1">#</span>
</span><span id="__span-0-2031"><span class="c1"># The default is to use this millisecond 10 times every second in order to</span>
</span><span id="__span-0-2032"><span class="c1"># actively rehash the main dictionaries, freeing memory when possible.</span>
</span><span id="__span-0-2033"><span class="c1">#</span>
</span><span id="__span-0-2034"><span class="c1"># If unsure:</span>
</span><span id="__span-0-2035"><span class="c1"># use &quot;activerehashing no&quot; if you have hard latency requirements and it is</span>
</span><span id="__span-0-2036"><span class="c1"># not a good thing in your environment that Redis can reply from time to time</span>
</span><span id="__span-0-2037"><span class="c1"># to queries with 2 milliseconds delay.</span>
</span><span id="__span-0-2038"><span class="c1">#</span>
</span><span id="__span-0-2039"><span class="c1"># use &quot;activerehashing yes&quot; if you don&#39;t have such hard requirements but</span>
</span><span id="__span-0-2040"><span class="c1"># want to free memory asap when possible.</span>
</span><span id="__span-0-2041"><span class="n">activerehashing</span> <span class="n">yes</span>
</span><span id="__span-0-2042">
</span><span id="__span-0-2043"><span class="c1"># The client output buffer limits can be used to force disconnection of clients</span>
</span><span id="__span-0-2044"><span class="c1"># that are not reading data from the server fast enough for some reason (a</span>
</span><span id="__span-0-2045"><span class="c1"># common reason is that a Pub/Sub client can&#39;t consume messages as fast as the</span>
</span><span id="__span-0-2046"><span class="c1"># publisher can produce them).</span>
</span><span id="__span-0-2047"><span class="c1">#</span>
</span><span id="__span-0-2048"><span class="c1"># The limit can be set differently for the three different classes of clients:</span>
</span><span id="__span-0-2049"><span class="c1">#</span>
</span><span id="__span-0-2050"><span class="c1"># normal -&gt; normal clients including MONITOR clients</span>
</span><span id="__span-0-2051"><span class="c1"># replica -&gt; replica clients</span>
</span><span id="__span-0-2052"><span class="c1"># pubsub -&gt; clients subscribed to at least one pubsub channel or pattern</span>
</span><span id="__span-0-2053"><span class="c1">#</span>
</span><span id="__span-0-2054"><span class="c1"># The syntax of every client-output-buffer-limit directive is the following:</span>
</span><span id="__span-0-2055"><span class="c1">#</span>
</span><span id="__span-0-2056"><span class="c1"># client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;</span>
</span><span id="__span-0-2057"><span class="c1">#</span>
</span><span id="__span-0-2058"><span class="c1"># A client is immediately disconnected once the hard limit is reached, or if</span>
</span><span id="__span-0-2059"><span class="c1"># the soft limit is reached and remains reached for the specified number of</span>
</span><span id="__span-0-2060"><span class="c1"># seconds (continuously).</span>
</span><span id="__span-0-2061"><span class="c1"># So for instance if the hard limit is 32 megabytes and the soft limit is</span>
</span><span id="__span-0-2062"><span class="c1"># 16 megabytes / 10 seconds, the client will get disconnected immediately</span>
</span><span id="__span-0-2063"><span class="c1"># if the size of the output buffers reach 32 megabytes, but will also get</span>
</span><span id="__span-0-2064"><span class="c1"># disconnected if the client reaches 16 megabytes and continuously overcomes</span>
</span><span id="__span-0-2065"><span class="c1"># the limit for 10 seconds.</span>
</span><span id="__span-0-2066"><span class="c1">#</span>
</span><span id="__span-0-2067"><span class="c1"># By default normal clients are not limited because they don&#39;t receive data</span>
</span><span id="__span-0-2068"><span class="c1"># without asking (in a push way), but just after a request, so only</span>
</span><span id="__span-0-2069"><span class="c1"># asynchronous clients may create a scenario where data is requested faster</span>
</span><span id="__span-0-2070"><span class="c1"># than it can read.</span>
</span><span id="__span-0-2071"><span class="c1">#</span>
</span><span id="__span-0-2072"><span class="c1"># Instead there is a default limit for pubsub and replica clients, since</span>
</span><span id="__span-0-2073"><span class="c1"># subscribers and replicas receive data in a push fashion.</span>
</span><span id="__span-0-2074"><span class="c1">#</span>
</span><span id="__span-0-2075"><span class="c1"># Note that it doesn&#39;t make sense to set the replica clients output buffer</span>
</span><span id="__span-0-2076"><span class="c1"># limit lower than the repl-backlog-size config (partial sync will succeed</span>
</span><span id="__span-0-2077"><span class="c1"># and then replica will get disconnected).</span>
</span><span id="__span-0-2078"><span class="c1"># Such a configuration is ignored (the size of repl-backlog-size will be used).</span>
</span><span id="__span-0-2079"><span class="c1"># This doesn&#39;t have memory consumption implications since the replica client</span>
</span><span id="__span-0-2080"><span class="c1"># will share the backlog buffers memory.</span>
</span><span id="__span-0-2081"><span class="c1">#</span>
</span><span id="__span-0-2082"><span class="c1"># Both the hard or the soft limit can be disabled by setting them to zero.</span>
</span><span id="__span-0-2083"><span class="n">client</span><span class="o">-</span><span class="n">output</span><span class="o">-</span><span class="n">buffer</span><span class="o">-</span><span class="n">limit</span> <span class="n">normal</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
</span><span id="__span-0-2084"><span class="n">client</span><span class="o">-</span><span class="n">output</span><span class="o">-</span><span class="n">buffer</span><span class="o">-</span><span class="n">limit</span> <span class="n">replica</span> <span class="mi">256</span><span class="n">mb</span> <span class="mi">64</span><span class="n">mb</span> <span class="mi">60</span>
</span><span id="__span-0-2085"><span class="n">client</span><span class="o">-</span><span class="n">output</span><span class="o">-</span><span class="n">buffer</span><span class="o">-</span><span class="n">limit</span> <span class="n">pubsub</span> <span class="mi">32</span><span class="n">mb</span> <span class="mi">8</span><span class="n">mb</span> <span class="mi">60</span>
</span><span id="__span-0-2086">
</span><span id="__span-0-2087"><span class="c1"># Client query buffers accumulate new commands. They are limited to a fixed</span>
</span><span id="__span-0-2088"><span class="c1"># amount by default in order to avoid that a protocol desynchronization (for</span>
</span><span id="__span-0-2089"><span class="c1"># instance due to a bug in the client) will lead to unbound memory usage in</span>
</span><span id="__span-0-2090"><span class="c1"># the query buffer. However you can configure it here if you have very special</span>
</span><span id="__span-0-2091"><span class="c1"># needs, such as a command with huge argument, or huge multi/exec requests or alike.</span>
</span><span id="__span-0-2092"><span class="c1">#</span>
</span><span id="__span-0-2093"><span class="c1"># client-query-buffer-limit 1gb</span>
</span><span id="__span-0-2094">
</span><span id="__span-0-2095"><span class="c1"># In some scenarios client connections can hog up memory leading to OOM</span>
</span><span id="__span-0-2096"><span class="c1"># errors or data eviction. To avoid this we can cap the accumulated memory</span>
</span><span id="__span-0-2097"><span class="c1"># used by all client connections (all pubsub and normal clients). Once we</span>
</span><span id="__span-0-2098"><span class="c1"># reach that limit connections will be dropped by the server freeing up</span>
</span><span id="__span-0-2099"><span class="c1"># memory. The server will attempt to drop the connections using the most </span>
</span><span id="__span-0-2100"><span class="c1"># memory first. We call this mechanism &quot;client eviction&quot;.</span>
</span><span id="__span-0-2101"><span class="c1">#</span>
</span><span id="__span-0-2102"><span class="c1"># Client eviction is configured using the maxmemory-clients setting as follows:</span>
</span><span id="__span-0-2103"><span class="c1"># 0 - client eviction is disabled (default)</span>
</span><span id="__span-0-2104"><span class="c1">#</span>
</span><span id="__span-0-2105"><span class="c1"># A memory value can be used for the client eviction threshold,</span>
</span><span id="__span-0-2106"><span class="c1"># for example:</span>
</span><span id="__span-0-2107"><span class="c1"># maxmemory-clients 1g</span>
</span><span id="__span-0-2108"><span class="c1">#</span>
</span><span id="__span-0-2109"><span class="c1"># A percentage value (between 1% and 100%) means the client eviction threshold</span>
</span><span id="__span-0-2110"><span class="c1"># is based on a percentage of the maxmemory setting. For example to set client</span>
</span><span id="__span-0-2111"><span class="c1"># eviction at 5% of maxmemory:</span>
</span><span id="__span-0-2112"><span class="c1"># maxmemory-clients 5%</span>
</span><span id="__span-0-2113">
</span><span id="__span-0-2114"><span class="c1"># In the Redis protocol, bulk requests, that are, elements representing single</span>
</span><span id="__span-0-2115"><span class="c1"># strings, are normally limited to 512 mb. However you can change this limit</span>
</span><span id="__span-0-2116"><span class="c1"># here, but must be 1mb or greater</span>
</span><span id="__span-0-2117"><span class="c1">#</span>
</span><span id="__span-0-2118"><span class="c1"># proto-max-bulk-len 512mb</span>
</span><span id="__span-0-2119">
</span><span id="__span-0-2120"><span class="c1"># Redis calls an internal function to perform many background tasks, like</span>
</span><span id="__span-0-2121"><span class="c1"># closing connections of clients in timeout, purging expired keys that are</span>
</span><span id="__span-0-2122"><span class="c1"># never requested, and so forth.</span>
</span><span id="__span-0-2123"><span class="c1">#</span>
</span><span id="__span-0-2124"><span class="c1"># Not all tasks are performed with the same frequency, but Redis checks for</span>
</span><span id="__span-0-2125"><span class="c1"># tasks to perform according to the specified &quot;hz&quot; value.</span>
</span><span id="__span-0-2126"><span class="c1">#</span>
</span><span id="__span-0-2127"><span class="c1"># By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when</span>
</span><span id="__span-0-2128"><span class="c1"># Redis is idle, but at the same time will make Redis more responsive when</span>
</span><span id="__span-0-2129"><span class="c1"># there are many keys expiring at the same time, and timeouts may be</span>
</span><span id="__span-0-2130"><span class="c1"># handled with more precision.</span>
</span><span id="__span-0-2131"><span class="c1">#</span>
</span><span id="__span-0-2132"><span class="c1"># The range is between 1 and 500, however a value over 100 is usually not</span>
</span><span id="__span-0-2133"><span class="c1"># a good idea. Most users should use the default of 10 and raise this up to</span>
</span><span id="__span-0-2134"><span class="c1"># 100 only in environments where very low latency is required.</span>
</span><span id="__span-0-2135"><span class="n">hz</span> <span class="mi">10</span>
</span><span id="__span-0-2136">
</span><span id="__span-0-2137"><span class="c1"># Normally it is useful to have an HZ value which is proportional to the</span>
</span><span id="__span-0-2138"><span class="c1"># number of clients connected. This is useful in order, for instance, to</span>
</span><span id="__span-0-2139"><span class="c1"># avoid too many clients are processed for each background task invocation</span>
</span><span id="__span-0-2140"><span class="c1"># in order to avoid latency spikes.</span>
</span><span id="__span-0-2141"><span class="c1">#</span>
</span><span id="__span-0-2142"><span class="c1"># Since the default HZ value by default is conservatively set to 10, Redis</span>
</span><span id="__span-0-2143"><span class="c1"># offers, and enables by default, the ability to use an adaptive HZ value</span>
</span><span id="__span-0-2144"><span class="c1"># which will temporarily raise when there are many connected clients.</span>
</span><span id="__span-0-2145"><span class="c1">#</span>
</span><span id="__span-0-2146"><span class="c1"># When dynamic HZ is enabled, the actual configured HZ will be used</span>
</span><span id="__span-0-2147"><span class="c1"># as a baseline, but multiples of the configured HZ value will be actually</span>
</span><span id="__span-0-2148"><span class="c1"># used as needed once more clients are connected. In this way an idle</span>
</span><span id="__span-0-2149"><span class="c1"># instance will use very little CPU time while a busy instance will be</span>
</span><span id="__span-0-2150"><span class="c1"># more responsive.</span>
</span><span id="__span-0-2151"><span class="n">dynamic</span><span class="o">-</span><span class="n">hz</span> <span class="n">yes</span>
</span><span id="__span-0-2152">
</span><span id="__span-0-2153"><span class="c1"># When a child rewrites the AOF file, if the following option is enabled</span>
</span><span id="__span-0-2154"><span class="c1"># the file will be fsync-ed every 4 MB of data generated. This is useful</span>
</span><span id="__span-0-2155"><span class="c1"># in order to commit the file to the disk more incrementally and avoid</span>
</span><span id="__span-0-2156"><span class="c1"># big latency spikes.</span>
</span><span id="__span-0-2157"><span class="n">aof</span><span class="o">-</span><span class="n">rewrite</span><span class="o">-</span><span class="n">incremental</span><span class="o">-</span><span class="n">fsync</span> <span class="n">yes</span>
</span><span id="__span-0-2158">
</span><span id="__span-0-2159"><span class="c1"># When redis saves RDB file, if the following option is enabled</span>
</span><span id="__span-0-2160"><span class="c1"># the file will be fsync-ed every 4 MB of data generated. This is useful</span>
</span><span id="__span-0-2161"><span class="c1"># in order to commit the file to the disk more incrementally and avoid</span>
</span><span id="__span-0-2162"><span class="c1"># big latency spikes.</span>
</span><span id="__span-0-2163"><span class="n">rdb</span><span class="o">-</span><span class="n">save</span><span class="o">-</span><span class="n">incremental</span><span class="o">-</span><span class="n">fsync</span> <span class="n">yes</span>
</span><span id="__span-0-2164">
</span><span id="__span-0-2165"><span class="c1"># Redis LFU eviction (see maxmemory setting) can be tuned. However it is a good</span>
</span><span id="__span-0-2166"><span class="c1"># idea to start with the default settings and only change them after investigating</span>
</span><span id="__span-0-2167"><span class="c1"># how to improve the performances and how the keys LFU change over time, which</span>
</span><span id="__span-0-2168"><span class="c1"># is possible to inspect via the OBJECT FREQ command.</span>
</span><span id="__span-0-2169"><span class="c1">#</span>
</span><span id="__span-0-2170"><span class="c1"># There are two tunable parameters in the Redis LFU implementation: the</span>
</span><span id="__span-0-2171"><span class="c1"># counter logarithm factor and the counter decay time. It is important to</span>
</span><span id="__span-0-2172"><span class="c1"># understand what the two parameters mean before changing them.</span>
</span><span id="__span-0-2173"><span class="c1">#</span>
</span><span id="__span-0-2174"><span class="c1"># The LFU counter is just 8 bits per key, it&#39;s maximum value is 255, so Redis</span>
</span><span id="__span-0-2175"><span class="c1"># uses a probabilistic increment with logarithmic behavior. Given the value</span>
</span><span id="__span-0-2176"><span class="c1"># of the old counter, when a key is accessed, the counter is incremented in</span>
</span><span id="__span-0-2177"><span class="c1"># this way:</span>
</span><span id="__span-0-2178"><span class="c1">#</span>
</span><span id="__span-0-2179"><span class="c1"># 1. A random number R between 0 and 1 is extracted.</span>
</span><span id="__span-0-2180"><span class="c1"># 2. A probability P is calculated as 1/(old_value*lfu_log_factor+1).</span>
</span><span id="__span-0-2181"><span class="c1"># 3. The counter is incremented only if R &lt; P.</span>
</span><span id="__span-0-2182"><span class="c1">#</span>
</span><span id="__span-0-2183"><span class="c1"># The default lfu-log-factor is 10. This is a table of how the frequency</span>
</span><span id="__span-0-2184"><span class="c1"># counter changes with a different number of accesses with different</span>
</span><span id="__span-0-2185"><span class="c1"># logarithmic factors:</span>
</span><span id="__span-0-2186"><span class="c1">#</span>
</span><span id="__span-0-2187"><span class="c1"># +--------+------------+------------+------------+------------+------------+</span>
</span><span id="__span-0-2188"><span class="c1"># | factor | 100 hits   | 1000 hits  | 100K hits  | 1M hits    | 10M hits   |</span>
</span><span id="__span-0-2189"><span class="c1"># +--------+------------+------------+------------+------------+------------+</span>
</span><span id="__span-0-2190"><span class="c1"># | 0      | 104        | 255        | 255        | 255        | 255        |</span>
</span><span id="__span-0-2191"><span class="c1"># +--------+------------+------------+------------+------------+------------+</span>
</span><span id="__span-0-2192"><span class="c1"># | 1      | 18         | 49         | 255        | 255        | 255        |</span>
</span><span id="__span-0-2193"><span class="c1"># +--------+------------+------------+------------+------------+------------+</span>
</span><span id="__span-0-2194"><span class="c1"># | 10     | 10         | 18         | 142        | 255        | 255        |</span>
</span><span id="__span-0-2195"><span class="c1"># +--------+------------+------------+------------+------------+------------+</span>
</span><span id="__span-0-2196"><span class="c1"># | 100    | 8          | 11         | 49         | 143        | 255        |</span>
</span><span id="__span-0-2197"><span class="c1"># +--------+------------+------------+------------+------------+------------+</span>
</span><span id="__span-0-2198"><span class="c1">#</span>
</span><span id="__span-0-2199"><span class="c1"># NOTE: The above table was obtained by running the following commands:</span>
</span><span id="__span-0-2200"><span class="c1">#</span>
</span><span id="__span-0-2201"><span class="c1">#   redis-benchmark -n 1000000 incr foo</span>
</span><span id="__span-0-2202"><span class="c1">#   redis-cli object freq foo</span>
</span><span id="__span-0-2203"><span class="c1">#</span>
</span><span id="__span-0-2204"><span class="c1"># NOTE 2: The counter initial value is 5 in order to give new objects a chance</span>
</span><span id="__span-0-2205"><span class="c1"># to accumulate hits.</span>
</span><span id="__span-0-2206"><span class="c1">#</span>
</span><span id="__span-0-2207"><span class="c1"># The counter decay time is the time, in minutes, that must elapse in order</span>
</span><span id="__span-0-2208"><span class="c1"># for the key counter to be decremented.</span>
</span><span id="__span-0-2209"><span class="c1">#</span>
</span><span id="__span-0-2210"><span class="c1"># The default value for the lfu-decay-time is 1. A special value of 0 means we</span>
</span><span id="__span-0-2211"><span class="c1"># will never decay the counter.</span>
</span><span id="__span-0-2212"><span class="c1">#</span>
</span><span id="__span-0-2213"><span class="c1"># lfu-log-factor 10</span>
</span><span id="__span-0-2214"><span class="c1"># lfu-decay-time 1</span>
</span><span id="__span-0-2215">
</span><span id="__span-0-2216">
</span><span id="__span-0-2217"><span class="c1"># The maximum number of new client connections accepted per event-loop cycle. This configuration</span>
</span><span id="__span-0-2218"><span class="c1"># is set independently for TLS connections.</span>
</span><span id="__span-0-2219"><span class="c1">#</span>
</span><span id="__span-0-2220"><span class="c1"># By default, up to 10 new connection will be accepted per event-loop cycle for normal connections</span>
</span><span id="__span-0-2221"><span class="c1"># and up to 1 new connection per event-loop cycle for TLS connections.</span>
</span><span id="__span-0-2222"><span class="c1">#</span>
</span><span id="__span-0-2223"><span class="c1"># Adjusting this to a larger number can slightly improve efficiency for new connections</span>
</span><span id="__span-0-2224"><span class="c1"># at the risk of causing timeouts for regular commands on established connections.  It is</span>
</span><span id="__span-0-2225"><span class="c1"># not advised to change this without ensuring that all clients have limited connection</span>
</span><span id="__span-0-2226"><span class="c1"># pools and exponential backoff in the case of command/connection timeouts. </span>
</span><span id="__span-0-2227"><span class="c1">#</span>
</span><span id="__span-0-2228"><span class="c1"># If your application is establishing a large number of new connections per second you should</span>
</span><span id="__span-0-2229"><span class="c1"># also consider tuning the value of tcp-backlog, which allows the kernel to buffer more</span>
</span><span id="__span-0-2230"><span class="c1"># pending connections before dropping or rejecting connections. </span>
</span><span id="__span-0-2231"><span class="c1">#</span>
</span><span id="__span-0-2232"><span class="c1"># max-new-connections-per-cycle 10</span>
</span><span id="__span-0-2233"><span class="c1"># max-new-tls-connections-per-cycle 1</span>
</span><span id="__span-0-2234">
</span><span id="__span-0-2235">
</span><span id="__span-0-2236"><span class="c1">########################### ACTIVE DEFRAGMENTATION #######################</span>
</span><span id="__span-0-2237"><span class="c1">#</span>
</span><span id="__span-0-2238"><span class="c1"># What is active defragmentation?</span>
</span><span id="__span-0-2239"><span class="c1"># -------------------------------</span>
</span><span id="__span-0-2240"><span class="c1">#</span>
</span><span id="__span-0-2241"><span class="c1"># Active (online) defragmentation allows a Redis server to compact the</span>
</span><span id="__span-0-2242"><span class="c1"># spaces left between small allocations and deallocations of data in memory,</span>
</span><span id="__span-0-2243"><span class="c1"># thus allowing to reclaim back memory.</span>
</span><span id="__span-0-2244"><span class="c1">#</span>
</span><span id="__span-0-2245"><span class="c1"># Fragmentation is a natural process that happens with every allocator (but</span>
</span><span id="__span-0-2246"><span class="c1"># less so with Jemalloc, fortunately) and certain workloads. Normally a server</span>
</span><span id="__span-0-2247"><span class="c1"># restart is needed in order to lower the fragmentation, or at least to flush</span>
</span><span id="__span-0-2248"><span class="c1"># away all the data and create it again. However thanks to this feature</span>
</span><span id="__span-0-2249"><span class="c1"># implemented by Oran Agra for Redis 4.0 this process can happen at runtime</span>
</span><span id="__span-0-2250"><span class="c1"># in a &quot;hot&quot; way, while the server is running.</span>
</span><span id="__span-0-2251"><span class="c1">#</span>
</span><span id="__span-0-2252"><span class="c1"># Basically when the fragmentation is over a certain level (see the</span>
</span><span id="__span-0-2253"><span class="c1"># configuration options below) Redis will start to create new copies of the</span>
</span><span id="__span-0-2254"><span class="c1"># values in contiguous memory regions by exploiting certain specific Jemalloc</span>
</span><span id="__span-0-2255"><span class="c1"># features (in order to understand if an allocation is causing fragmentation</span>
</span><span id="__span-0-2256"><span class="c1"># and to allocate it in a better place), and at the same time, will release the</span>
</span><span id="__span-0-2257"><span class="c1"># old copies of the data. This process, repeated incrementally for all the keys</span>
</span><span id="__span-0-2258"><span class="c1"># will cause the fragmentation to drop back to normal values.</span>
</span><span id="__span-0-2259"><span class="c1">#</span>
</span><span id="__span-0-2260"><span class="c1"># Important things to understand:</span>
</span><span id="__span-0-2261"><span class="c1">#</span>
</span><span id="__span-0-2262"><span class="c1"># 1. This feature is disabled by default, and only works if you compiled Redis</span>
</span><span id="__span-0-2263"><span class="c1">#    to use the copy of Jemalloc we ship with the source code of Redis.</span>
</span><span id="__span-0-2264"><span class="c1">#    This is the default with Linux builds.</span>
</span><span id="__span-0-2265"><span class="c1">#</span>
</span><span id="__span-0-2266"><span class="c1"># 2. You never need to enable this feature if you don&#39;t have fragmentation</span>
</span><span id="__span-0-2267"><span class="c1">#    issues.</span>
</span><span id="__span-0-2268"><span class="c1">#</span>
</span><span id="__span-0-2269"><span class="c1"># 3. Once you experience fragmentation, you can enable this feature when</span>
</span><span id="__span-0-2270"><span class="c1">#    needed with the command &quot;CONFIG SET activedefrag yes&quot;.</span>
</span><span id="__span-0-2271"><span class="c1">#</span>
</span><span id="__span-0-2272"><span class="c1"># The configuration parameters are able to fine tune the behavior of the</span>
</span><span id="__span-0-2273"><span class="c1"># defragmentation process. If you are not sure about what they mean it is</span>
</span><span id="__span-0-2274"><span class="c1"># a good idea to leave the defaults untouched.</span>
</span><span id="__span-0-2275">
</span><span id="__span-0-2276"><span class="c1"># Active defragmentation is disabled by default</span>
</span><span id="__span-0-2277"><span class="c1"># activedefrag no</span>
</span><span id="__span-0-2278">
</span><span id="__span-0-2279"><span class="c1"># Minimum amount of fragmentation waste to start active defrag</span>
</span><span id="__span-0-2280"><span class="c1"># active-defrag-ignore-bytes 100mb</span>
</span><span id="__span-0-2281">
</span><span id="__span-0-2282"><span class="c1"># Minimum percentage of fragmentation to start active defrag</span>
</span><span id="__span-0-2283"><span class="c1"># active-defrag-threshold-lower 10</span>
</span><span id="__span-0-2284">
</span><span id="__span-0-2285"><span class="c1"># Maximum percentage of fragmentation at which we use maximum effort</span>
</span><span id="__span-0-2286"><span class="c1"># active-defrag-threshold-upper 100</span>
</span><span id="__span-0-2287">
</span><span id="__span-0-2288"><span class="c1"># Minimal effort for defrag in CPU percentage, to be used when the lower</span>
</span><span id="__span-0-2289"><span class="c1"># threshold is reached</span>
</span><span id="__span-0-2290"><span class="c1"># active-defrag-cycle-min 1</span>
</span><span id="__span-0-2291">
</span><span id="__span-0-2292"><span class="c1"># Maximal effort for defrag in CPU percentage, to be used when the upper</span>
</span><span id="__span-0-2293"><span class="c1"># threshold is reached</span>
</span><span id="__span-0-2294"><span class="c1"># active-defrag-cycle-max 25</span>
</span><span id="__span-0-2295">
</span><span id="__span-0-2296"><span class="c1"># Maximum number of set/hash/zset/list fields that will be processed from</span>
</span><span id="__span-0-2297"><span class="c1"># the main dictionary scan</span>
</span><span id="__span-0-2298"><span class="c1"># active-defrag-max-scan-fields 1000</span>
</span><span id="__span-0-2299">
</span><span id="__span-0-2300"><span class="c1"># Jemalloc background thread for purging will be enabled by default</span>
</span><span id="__span-0-2301"><span class="n">jemalloc</span><span class="o">-</span><span class="n">bg</span><span class="o">-</span><span class="n">thread</span> <span class="n">yes</span>
</span><span id="__span-0-2302">
</span><span id="__span-0-2303"><span class="c1"># It is possible to pin different threads and processes of Redis to specific</span>
</span><span id="__span-0-2304"><span class="c1"># CPUs in your system, in order to maximize the performances of the server.</span>
</span><span id="__span-0-2305"><span class="c1"># This is useful both in order to pin different Redis threads in different</span>
</span><span id="__span-0-2306"><span class="c1"># CPUs, but also in order to make sure that multiple Redis instances running</span>
</span><span id="__span-0-2307"><span class="c1"># in the same host will be pinned to different CPUs.</span>
</span><span id="__span-0-2308"><span class="c1">#</span>
</span><span id="__span-0-2309"><span class="c1"># Normally you can do this using the &quot;taskset&quot; command, however it is also</span>
</span><span id="__span-0-2310"><span class="c1"># possible to this via Redis configuration directly, both in Linux and FreeBSD.</span>
</span><span id="__span-0-2311"><span class="c1">#</span>
</span><span id="__span-0-2312"><span class="c1"># You can pin the server/IO threads, bio threads, aof rewrite child process, and</span>
</span><span id="__span-0-2313"><span class="c1"># the bgsave child process. The syntax to specify the cpu list is the same as</span>
</span><span id="__span-0-2314"><span class="c1"># the taskset command:</span>
</span><span id="__span-0-2315"><span class="c1">#</span>
</span><span id="__span-0-2316"><span class="c1"># Set redis server/io threads to cpu affinity 0,2,4,6:</span>
</span><span id="__span-0-2317"><span class="c1"># server-cpulist 0-7:2</span>
</span><span id="__span-0-2318"><span class="c1">#</span>
</span><span id="__span-0-2319"><span class="c1"># Set bio threads to cpu affinity 1,3:</span>
</span><span id="__span-0-2320"><span class="c1"># bio-cpulist 1,3</span>
</span><span id="__span-0-2321"><span class="c1">#</span>
</span><span id="__span-0-2322"><span class="c1"># Set aof rewrite child process to cpu affinity 8,9,10,11:</span>
</span><span id="__span-0-2323"><span class="c1"># aof-rewrite-cpulist 8-11</span>
</span><span id="__span-0-2324"><span class="c1">#</span>
</span><span id="__span-0-2325"><span class="c1"># Set bgsave child process to cpu affinity 1,10,11</span>
</span><span id="__span-0-2326"><span class="c1"># bgsave-cpulist 1,10-11</span>
</span><span id="__span-0-2327">
</span><span id="__span-0-2328"><span class="c1"># In some cases redis will emit warnings and even refuse to start if it detects</span>
</span><span id="__span-0-2329"><span class="c1"># that the system is in bad state, it is possible to suppress these warnings</span>
</span><span id="__span-0-2330"><span class="c1"># by setting the following config which takes a space delimited list of warnings</span>
</span><span id="__span-0-2331"><span class="c1"># to suppress</span>
</span><span id="__span-0-2332"><span class="c1">#</span>
</span><span id="__span-0-2333"><span class="c1"># ignore-warnings ARM64-COW-BUG</span>
</span></code></pre></div></td></tr></table></div></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "navigation.tracking", "navigation.top", "search.highlight", "search.share", "search.suggest", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>