# æ•°æ®åœ¨è®¡ç®—æœºå†…çš„å­˜å‚¨
è®¡ç®—æœºçš„ç¡¬ç›˜å’ŒRAMéƒ½åªèƒ½ä¿å­˜æ¯”ç‰¹0å’Œ1ï¼Œä½†æ˜¯å®é™…çš„ä¿¡æ¯ç§ç±»å¾ˆå¤šï¼šæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦... é‚£ä¹ˆè¦å¦‚ä½•ä¿å­˜è¿™äº›å†…å®¹å‘¢ï¼Ÿå”¯ä¸€çš„åŠæ³•å°±æ˜¯æŠŠå»ºç«‹è§„åˆ™ï¼ŒæŠŠè¿™äº›å†…å®¹æ˜ å°„ä¸ºæ¯”ç‰¹0å’Œ1çš„ç»„åˆã€‚

## ascii

asciiå°±æ˜¯å®ç°äº†ä¸Šé¢çš„æ˜ å°„çš„ä¸€ä¸ªè§„åˆ™ï¼Œåªä¸è¿‡ï¼Œä»–åªè€ƒè™‘äº†è‹±æ–‡çš„å¸¸è§ç¬¦å·å’Œå­—ç¬¦ã€‚

![asciiç å€¼è¡¨](./ascii_table.jpg)

asciiä¿å­˜äº†0-127ç¼–å·çš„128ä¸ªå­—ç¬¦ï¼Œåªéœ€è¦ä¸€ä¸ªå­—èŠ‚1byte(8bit) å°±èƒ½è¡¨ç¤ºä¸€ä¸ªè‹±æ–‡å­—ç¬¦ã€‚
ä¿å­˜å­—ç¬¦åˆ°è®¡ç®—æœºæ—¶ï¼Œåªéœ€è¦è½¬æ¢ä¸º01åºåˆ—å³å¯ï¼Œè§£ç çš„æ—¶å€™ï¼Œä¹Ÿåªéœ€è¦æŒ‰ç…§å­—èŠ‚æ‹†åˆ†ã€æŸ¥è¡¨ç¿»è¯‘å›å­—ç¬¦å³å¯ã€‚

## Unicodeæ ‡å‡†

unicodeæ˜¯ä¸€ç§æ ‡å‡†ï¼Œç®€å•æ¥è®²ï¼Œå°±æ˜¯æŠŠä¸–ç•Œä¸Šçš„ä¸€åˆ‡ç¬¦å·ï¼Œéƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€ç¼–ç ã€‚
unicode = unicodeå­—ç¬¦é›† + å¤šç§å¯é€‰çš„ç¼–ç ç­–ç•¥ã€‚

ç®€å•æ¥è®²ï¼Œå°±æ˜¯unicodeæ ‡å‡†è¿™å¸®äººï¼Œç¡®å®šäº†ä¸€ä¸ªå¤§è¡¨ï¼Œåœ°çƒäººæ—¥å¸¸ç”¨çš„å¤§éƒ¨åˆ†æ–‡å­—ï¼Œéƒ½åœ¨è¿™ä¸ªè¡¨é‡Œé¢æœ‰ä¸€ä¸ªåºå·ï¼Œä¾‹å¦‚`a`å°±æ˜¯97ï¼Œ`ä½ `æ˜¯20320å·ï¼Œç­‰ç­‰ã€‚

æ€ä¹ˆæŠŠè¿™ä¸ª97æ•°å­—ä¿å­˜åœ¨è®¡ç®—æœºé‡Œé¢ï¼Œä¿å­˜äº†åˆæ€ä¹ˆå»æŠŠä»–è½¬å›å­—ç¬¦ï¼Œå°±æ˜¯ç¼–ç è§„åˆ™ï¼ˆç­–ç•¥ï¼‰ï¼Œä¾‹å¦‚utf8ï¼Œutf32ã€‚

ç­‰ç­‰ï¼Œæœ‰äººåœ¨è¿™é‡Œä¼šæœ‰å›°æƒ‘äº†ï¼Œå­˜ä¸€ä¸ªæ•°å­—ç¼–å·è¿˜éœ€è¦ä»€ä¹ˆè§„åˆ™å‘¢ï¼Ÿç›´æ¥è½¬ä¸ºäºŒè¿›åˆ¶å­˜ä¸å°±å¥½äº†å—ï¼Ÿè¿™ä¸ªé—®é¢˜ä¼šåœ¨åé¢çš„ç¼–ç è§„åˆ™ä¸­è¯¦ç»†æåˆ°ï¼Œå¦‚æœä½ æœ‰è¿™ä¸ªç–‘é—®ï¼ŒåŸå› åœ¨äºï¼šä½ æˆ–è®¸ä¸çŸ¥é“å®šé•¿ç¼–ç å’Œè¾¹é•¿ç¼–ç çš„ä¸€äº›äº‹æƒ…ã€‚

å¯ä»¥ä½¿ç”¨`python`çš„`ord`å‡½æ•°æ¥è·å–æŸä¸ªå­—ç¬¦å¯¹åº”çš„unicodeç¼–å·ï¼Œéå¸¸ä¾¿æ·ï¼
```python
# test_ord.py
# ä½¿ç”¨ python çš„ ord å‡½æ•° æ¥è·å–å­—ç¬¦åœ¨ unicode å­—ç¬¦é›†ä¸­çš„ç¼–å·

emoji = "ğŸ˜…"

chinese_char = "ä½ "

unicode_id1 = ord(emoji)
unicode_id2 = ord(chinese_char)

print(unicode_id1, unicode_id2)

# â¯ python test_ord.py
# 128517 20320
```
å½“ç„¶å¦‚æœä½ è¯•è¿‡äº†å¾ˆå¤šå­—ç¬¦ï¼Œå°±ä¼šå‘ç°ï¼Œä¸Šé¢çš„ä»£ç æœ‰æ—¶å€™ä¼šæŠ¥é”™ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼
```python
# test_ord.py
# ordå‡½æ•°åœ¨å¤„ç† ğŸ’ªğŸ¿ çš„æ—¶å€™æŠ¥é”™äº†ï¼å› ä¸ºä»–ä¸æ˜¯ â€œä¸€ä¸ªå­—ç¬¦â€ï¼Œæ›´ä¸“ä¸šæ¥è®²ï¼ŒğŸ’ªğŸ¿ ä¸æ­¢ä¸€ä¸ªä»£ç ç‚¹ï¼ˆruneæˆ–code pointï¼‰

emoji_with_2_code_point = "ğŸ’ªğŸ¿"

unicode_id3 = ord(emoji_with_2_code_point)

print(unicode_id3)

# unicode_id3 = ord(emoji_with_2_code_point)
                #   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
# TypeError: ord() expected a character, but string of length 2 found
```
ä¸ºäº†ç†è§£è¿™ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼Œæˆ‘ä»¬å¿…é¡»å¥½å¥½åœ°äº†è§£ä¸€ä¸‹ `unicode ä»£ç ç‚¹` ä»¥åŠ `å­—ç´  grapheme` è¿™äº›æ¦‚å¿µã€‚

### No character, but grapheme
â€œgrapheme å­—ç´  â€”â€”â€”â€” æœ€å°çš„ã€æœ‰æ„ä¹‰çš„ï¼Œäººç±»ä¹¦å†™å•å…ƒã€‚â€

![å­—ç´ å’Œunicodeä»£ç ç‚¹çš„å…³ç³»](./grapheme.png)

åœ¨unicodeä¸­ï¼Œä¸å†ä½¿ç”¨â€œå­—ç¬¦â€è¿™æ ·çš„å­—çœ¼ï¼Œè€Œä½¿ç”¨â€œå­—ç´ â€graphemeè¿™ä¸ªç§°å‘¼ã€‚

åœ¨è‹±æ–‡ä¸­ï¼Œä¸ºäº†ç»„æˆä¸€ä¸ªå•è¯ï¼Œä½ å¯èƒ½éœ€è¦å¤šä¸ªå­—æ¯ï¼Œä¾‹å¦‚`cat`éœ€è¦cï¼Œaï¼Œtä¸‰ä¸ªå­—æ¯ã€‚
åœ¨ç°ä»£æ±‰è¯­é‡Œé¢ï¼Œ`è‡ªè¡Œè½¦` è¿™ä¸ªè¯è¯­éœ€è¦ä¸‰ä¸ªå­—ï¼Œè‡ªï¼Œè¡Œï¼Œè½¦æ¥æ„æˆï¼Œ`c` `a` `t` `è‡ª` `è¡Œ` `è½¦` è¿™äº›å•ä¸ªçš„å°±å«å­—ç´ ï¼Œè€½æçš„è¡¨æƒ…ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç´ ã€‚

æˆ‘ä»¬çš„unicodeç¼–ç ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨å¯¹è¿™ç§èƒ½å¤Ÿå•ç‹¬ä¹¦å†™çš„æœ€å°å•ä½è¿›è¡Œç¼–å·ï¼Œè€Œè¿™ç§æœ€å°å•ä½ï¼Œå°±è¢«ç§°ä¸ºgraphemeã€‚

å”¯ä¸€çš„å‘ç‚¹åœ¨äºï¼šæœ‰çš„å­—ç´ å¯¹åº”ä¸€ä¸ªunicodeä»£ç ç‚¹ï¼Œæœ‰çš„åˆ™å¯¹åº”å¤šä¸ªã€‚

### unicode ç ç‚¹

code point åˆæ˜¯ä»€ä¹ˆï¼Ÿ åœ¨å‰é¢æˆ‘ä»¬æåˆ° unicode æ ‡å‡†ç»´æŠ¤äº†ä¸€å¼ å¤§è¡¨ï¼Œè¿™å¼ è¡¨é‡Œçš„æ¯ä¸€ä¸ªä¸œè¥¿éƒ½å¯¹åº”ä¸€ä¸ªç¼–å·ï¼Œå®é™…ä¸Šè¿™äº›è¡¨é‡Œé¢çš„ä¸œè¥¿å°±æ˜¯unicodeä»£ç ç‚¹ï¼Œå‰é¢æˆ‘ä»¬è¯´â€œä¸ºæ¯ä¸€ä¸ªå­—ç¬¦ç¼–ä¸€ä¸ªå·â€è¿™å®é™…ä¸Šæ˜¯ä¸å‡†ç¡®çš„ ğŸ˜ã€Œè¯·åŸè°…æˆ‘ï¼Œæ¯•ç«Ÿä¹‹å‰æˆ‘ä»¬è¿˜æ²¡å¼•å…¥å­—ç´ ï¼Œä»£ç ç‚¹è¿™äº›æ¦‚å¿µã€ã€‚

æœ‰äº›å­—ç¬¦å¯ä»¥å¯¹åº”ä¸€ä¸ªcode pointï¼Œæœ‰çš„åˆ™å¯ä»¥å¯¹åº”ä¸¤ä¸ªï¼Œä¾‹å¦‚ğŸ‘ğŸ»å¯¹åº”ä¸€ä¸ªé»„è‰²çš„ğŸ‘ï¼Œå’Œä¸€ä¸ªç™½è‰²å—ï¼›åˆæ¯”å¦‚æœ‰äº›å­—æ¯ä¸Šé¢å¸¦éŸ³æ ‡ï¼Œå®é™…ä¸Šå¯èƒ½æ˜¯ä¸¤ä¸ªç ç‚¹ï¼šä¸å¸¦éŸ³æ ‡çš„å­—æ¯ å’Œ å•ç‹¬çš„éŸ³æ ‡ ç»„åˆèµ·æ¥çš„ã€‚
â€œæ€»ä¹‹ï¼Œä¸€ä¸ªçœ‹èµ·æ¥çš„å­—ç¬¦ï¼ˆå­—ç´ ï¼‰ï¼Œæœ‰å¯èƒ½æ˜¯unicodeä¸­çš„å¤šä¸ªä»£ç ç‚¹çš„ç»„åˆã€‚â€ å¦‚æœä¸ç›´åˆ°è¿™ä¸€ç‚¹ï¼Œä¸‹é¢çš„ä»£ç çš„è¿è¡Œç»“æœå°±ä¼šå‡ºä¹æ„æ–™ã€‚
```python []
# test_rune.py
# Python 3.12.0

s1 = "ä½ æ˜¯è¿™ä¸ªğŸ‘ğŸ»"
s2 = "ä½ æ˜¯è¿™ä¸ªğŸ‘"
l1, l2 = len(s1), len(s2)
print("l1:", l1)
print("l2:", l2)

"""
â¯ python test_rune.py
l1: 6
l2: 5
"""
```
```go []
// test_rune.go
// go version go1.22.1 darwin/arm64

package main

import (
	"fmt"
	"unicode/utf8"
)

func main() {
	s1 := "ä½ æ˜¯è¿™ä¸ªğŸ‘ğŸ»"
	s2 := "ä½ æ˜¯è¿™ä¸ªğŸ‘"
	l1, l2 := len(s1), len(s2)
	fmt.Printf("l1: %v\n", l1)
	fmt.Printf("l2: %v\n", l2)
	r1, r2 := utf8.RuneCountInString(s1), utf8.RuneCountInString(s2)
	fmt.Printf("r1: %v\n", r1)
	fmt.Printf("r2: %v\n", r2)
}

/*
â¯ go run test_rune.go
l1: 20
l2: 16
r1: 6
r2: 5
*/
```

### unicode ç¼–ç ç­–ç•¥

unicodeæ˜¯ä¸€ç§æ ‡å‡†ï¼Œé‚£ä¹ˆæ€ä¹ˆå¯¹è¿™ä¸ªæ ‡å‡†è¿›è¡Œç¼–ç ï¼Ÿæœ‰å¤šä¸ªæ ‡å‡†ï¼Œä¾‹å¦‚utf8, utf16ç­‰ã€‚

#### utf32 å®šé•¿ç¼–ç 
ä½¿ç”¨4å­—èŠ‚çš„å®šé•¿ç¼–ç ï¼ŒæŠŠæ‰€æœ‰çš„ä»£ç ç‚¹éƒ½ç¼–ç ä¸º4ä¸ªå­—èŠ‚ï¼Œ32ä½ã€‚
utf32çš„ä¼˜ç‚¹æ˜¯æ‰€æœ‰å­—ç¬¦ï¼Œæ— è®ºå¸¸è§å’Œç½•è§ï¼Œéƒ½ç¼–ç æˆä¸ºç›¸åŒé•¿åº¦çš„äºŒè¿›åˆ¶ä¸²ï¼Œè¿™å¯¹äºç¼–ç å’Œè§£ç ååˆ†æ–¹ä¾¿ã€‚
ç¼ºç‚¹æ˜¯æµªè´¹å†…å­˜ã€‚

#### utf8 å˜é•¿ç¼–ç 
utf8æ˜¯å˜é•¿ç¼–ç ï¼Œä¸åŒèŒƒå›´çš„ä»£ç ç‚¹ï¼Œå¯¹åº”çš„ç¼–ç é•¿åº¦ä¸ä¸€æ ·ï¼Œå…¼å®¹asciiã€‚
ä¾‹å¦‚ä¸€ä¸ªæ±‰å­—ï¼Œç¼–ç ä¹‹åæ˜¯ä¸‰ä¸ªå­—èŠ‚ã€‚
utf8ç¼–ç æ˜¯å˜é•¿ç¼–ç ï¼Œè¿™æ ·ååˆ†èŠ‚çœå†…å­˜ï¼ˆç›¸è¾ƒäºutf32å®šé•¿ç¼–ç æ¥è®²ï¼‰ï¼Œä½†æ˜¯åœ¨è½¬æ¢çš„æ—¶å€™å°±éº»çƒ¦ä¸€ç‚¹ï¼Œå› ä¸ºä½ å¹¶ä¸çŸ¥é“å½“å‰çš„è¿™ä¸€ä¸ªå­—èŠ‚å±äºå“ªä¸ªå­—ã€‚

## utf8 ç¼–ç æ±‰å­—

ä¸€ä¸ªæ±‰å­—åœ¨utf8ä¸­ï¼Œç»è¿‡ç¼–ç ï¼Œé•¿åº¦æ˜¯ä¸‰ä¸ªå­—èŠ‚ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ
åŸå› æ˜¯åœ¨unicodeç¼–ç æ ‡å‡†ä¸­ï¼Œä¸­æ–‡æ±‰å­—çš„ç¼–ç èŒƒå›´æ­£å¥½è½åœ¨ ä¸‰å­—èŠ‚ç¼–ç çš„èŒƒå›´å†…ã€‚

![utf8è¯¦ç»†ç¼–ç è§„åˆ™](./utf8.png)
å¯ä»¥ä½¿ç”¨[åœ¨çº¿å·¥å…·](https://www.metools.info/code/utf8235.html#google_vignette)è¿›è¡Œç¼–ç 
ä¾‹å¦‚å¯¹ â€œä½ â€ è¿›è¡Œç¼–ç ï¼Œç»“æœæ˜¯ E4BDA0ï¼Œè¿™æ˜¯åå…­è¿›åˆ¶ å¯¹åº”çš„äºŒè¿›åˆ¶æ˜¯ 11100100 10111101 10100000
æ˜¯ä¸‰å­—èŠ‚ã€‚
ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰é¢4ä½æ˜¯1110ï¼Œåé¢ä¸¤ä¸ªå­—èŠ‚çš„å‰ä¸¤ä½éƒ½æ˜¯10ï¼Œè¿™æ˜¯è§„å®šå¥½çš„ã€‚

`1110[0100] 10[111101] 10[100000]`
è¢«ä¸­æ‹¬å·åŒ…å›´çš„ 4 + 6 + 6 = 16ä½æ‹¼èµ·æ¥ï¼Œå°±æ˜¯`0100111101100000`
20320 å¯¹åº”çš„ å°±æ˜¯æ±‰å­— ä½ 
åœ¨pythonä¸­å¯ä»¥ç”¨ordå‡½æ•°å¾—åˆ°å­—ç¬¦å¯¹åº”çš„unicodeç å€¼ï¼ˆåè¿›åˆ¶ï¼‰
```python
>>> s = "ä½ "
>>> ord(s)
20320
```

ä¹Ÿå¯ä»¥åœ¨goè¯­è¨€ä¸­éªŒè¯
```go
// utf8_.go
package main

import (
	"fmt"
	"unicode/utf8"
)

func main() {
	s := "ä½ 6"
	l := len(s)
	fmt.Printf("l: %v\n", l) // åº”è¯¥æ˜¯4
	rn := utf8.RuneCountInString(s)
	fmt.Printf("rn: %v\n", rn)
	for i := range l {
		fmt.Printf("%b \n", s[i])
	}
}
```
æ³¨æ„è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œgoè¯­è¨€ä¸­çš„runeã€‚
```shell
â¯ go run utf8_.go
l: 4
rn: 2
11100100 
10111101 
10100000 
110110 # è¿™ä¸ªæ˜¯ç¬¬äºŒä¸ª rune ä¹Ÿå°±æ˜¯ 6 è¿™ä¸ªå­—ç¬¦ï¼Œåœ¨ ascii èŒƒå›´å†…
```

å†æ¥çœ‹ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼Œå°±èƒ½çŸ¥é“ rune å®é™…ä¸Šå°±æ˜¯ utf8 çš„ä»£ç ç‚¹ã€‚
```go
package main

import (
	"fmt"
	"unicode/utf8"
)

func main() {
	s := "ä½ 6"
	l := len(s)
	fmt.Printf("l: %v\n", l) // åº”è¯¥æ˜¯4
	rn := utf8.RuneCountInString(s)
	fmt.Printf("rn: %v\n", rn)
	for i := range l {
		fmt.Printf("%b \n", s[i])
	}

	s1 := "ğŸ‘ğŸ»" // è¿™ä¸ªå°±å«æœ‰ä¸¤ä¸ª unicode ä»£ç ç‚¹
	fmt.Printf("s1: %v\n", s1)
	l1 := len(s1)
	fmt.Printf("l1: %v\n", l1) // 8
	rn1 := utf8.RuneCountInString(s1) // 2
	fmt.Printf("rn1: %v\n", rn1)
}
```

å¦‚æœè¿˜éœ€è¦çŸ¥é“ä¸€äº›ç¼–ç çš„ç»†èŠ‚ï¼Œå¯ä»¥çœ‹[è¿™ä¸ªè§†é¢‘](https://www.bilibili.com/video/BV14Ns8eEERu/)